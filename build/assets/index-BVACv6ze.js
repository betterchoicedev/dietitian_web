function XB(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function QB(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var _y={exports:{}},Vu={},jy={exports:{}},Bt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _P;function ZB(){if(_P)return Bt;_P=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function g(L){return L===null||typeof L!="object"?null:(L=m&&L[m]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function _(L,J,G){this.props=L,this.context=J,this.refs=x,this.updater=G||w}_.prototype.isReactComponent={},_.prototype.setState=function(L,J){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,J,"setState")},_.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=_.prototype;function N(L,J,G){this.props=L,this.context=J,this.refs=x,this.updater=G||w}var P=N.prototype=new S;P.constructor=N,b(P,_.prototype),P.isPureReactComponent=!0;var k=Array.isArray,C=Object.prototype.hasOwnProperty,A={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function R(L,J,G){var de,Ce={},q=null,ae=null;if(J!=null)for(de in J.ref!==void 0&&(ae=J.ref),J.key!==void 0&&(q=""+J.key),J)C.call(J,de)&&!T.hasOwnProperty(de)&&(Ce[de]=J[de]);var Ae=arguments.length-2;if(Ae===1)Ce.children=G;else if(1<Ae){for(var K=Array(Ae),_e=0;_e<Ae;_e++)K[_e]=arguments[_e+2];Ce.children=K}if(L&&L.defaultProps)for(de in Ae=L.defaultProps,Ae)Ce[de]===void 0&&(Ce[de]=Ae[de]);return{$$typeof:e,type:L,key:q,ref:ae,props:Ce,_owner:A.current}}function I(L,J){return{$$typeof:e,type:L.type,key:J,ref:L.ref,props:L.props,_owner:L._owner}}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===e}function O(L){var J={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(G){return J[G]})}var B=/\/+/g;function Z(L,J){return typeof L=="object"&&L!==null&&L.key!=null?O(""+L.key):J.toString(36)}function te(L,J,G,de,Ce){var q=typeof L;(q==="undefined"||q==="boolean")&&(L=null);var ae=!1;if(L===null)ae=!0;else switch(q){case"string":case"number":ae=!0;break;case"object":switch(L.$$typeof){case e:case t:ae=!0}}if(ae)return ae=L,Ce=Ce(ae),L=de===""?"."+Z(ae,0):de,k(Ce)?(G="",L!=null&&(G=L.replace(B,"$&/")+"/"),te(Ce,J,G,"",function(_e){return _e})):Ce!=null&&(U(Ce)&&(Ce=I(Ce,G+(!Ce.key||ae&&ae.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+L)),J.push(Ce)),1;if(ae=0,de=de===""?".":de+":",k(L))for(var Ae=0;Ae<L.length;Ae++){q=L[Ae];var K=de+Z(q,Ae);ae+=te(q,J,G,K,Ce)}else if(K=g(L),typeof K=="function")for(L=K.call(L),Ae=0;!(q=L.next()).done;)q=q.value,K=de+Z(q,Ae++),ae+=te(q,J,G,K,Ce);else if(q==="object")throw J=String(L),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return ae}function Q(L,J,G){if(L==null)return L;var de=[],Ce=0;return te(L,de,"","",function(q){return J.call(G,q,Ce++)}),de}function Y(L){if(L._status===-1){var J=L._result;J=J(),J.then(function(G){(L._status===0||L._status===-1)&&(L._status=1,L._result=G)},function(G){(L._status===0||L._status===-1)&&(L._status=2,L._result=G)}),L._status===-1&&(L._status=0,L._result=J)}if(L._status===1)return L._result.default;throw L._result}var ie={current:null},W={transition:null},V={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:W,ReactCurrentOwner:A};function F(){throw Error("act(...) is not supported in production builds of React.")}return Bt.Children={map:Q,forEach:function(L,J,G){Q(L,function(){J.apply(this,arguments)},G)},count:function(L){var J=0;return Q(L,function(){J++}),J},toArray:function(L){return Q(L,function(J){return J})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Bt.Component=_,Bt.Fragment=r,Bt.Profiler=a,Bt.PureComponent=N,Bt.StrictMode=n,Bt.Suspense=d,Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Bt.act=F,Bt.cloneElement=function(L,J,G){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var de=b({},L.props),Ce=L.key,q=L.ref,ae=L._owner;if(J!=null){if(J.ref!==void 0&&(q=J.ref,ae=A.current),J.key!==void 0&&(Ce=""+J.key),L.type&&L.type.defaultProps)var Ae=L.type.defaultProps;for(K in J)C.call(J,K)&&!T.hasOwnProperty(K)&&(de[K]=J[K]===void 0&&Ae!==void 0?Ae[K]:J[K])}var K=arguments.length-2;if(K===1)de.children=G;else if(1<K){Ae=Array(K);for(var _e=0;_e<K;_e++)Ae[_e]=arguments[_e+2];de.children=Ae}return{$$typeof:e,type:L.type,key:Ce,ref:q,props:de,_owner:ae}},Bt.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:i,_context:L},L.Consumer=L},Bt.createElement=R,Bt.createFactory=function(L){var J=R.bind(null,L);return J.type=L,J},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(L){return{$$typeof:c,render:L}},Bt.isValidElement=U,Bt.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:Y}},Bt.memo=function(L,J){return{$$typeof:f,type:L,compare:J===void 0?null:J}},Bt.startTransition=function(L){var J=W.transition;W.transition={};try{L()}finally{W.transition=J}},Bt.unstable_act=F,Bt.useCallback=function(L,J){return ie.current.useCallback(L,J)},Bt.useContext=function(L){return ie.current.useContext(L)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(L){return ie.current.useDeferredValue(L)},Bt.useEffect=function(L,J){return ie.current.useEffect(L,J)},Bt.useId=function(){return ie.current.useId()},Bt.useImperativeHandle=function(L,J,G){return ie.current.useImperativeHandle(L,J,G)},Bt.useInsertionEffect=function(L,J){return ie.current.useInsertionEffect(L,J)},Bt.useLayoutEffect=function(L,J){return ie.current.useLayoutEffect(L,J)},Bt.useMemo=function(L,J){return ie.current.useMemo(L,J)},Bt.useReducer=function(L,J,G){return ie.current.useReducer(L,J,G)},Bt.useRef=function(L){return ie.current.useRef(L)},Bt.useState=function(L){return ie.current.useState(L)},Bt.useSyncExternalStore=function(L,J,G){return ie.current.useSyncExternalStore(L,J,G)},Bt.useTransition=function(){return ie.current.useTransition()},Bt.version="18.3.1",Bt}var jP;function qp(){return jP||(jP=1,jy.exports=ZB()),jy.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function eU(){if(SP)return Vu;SP=1;var e=qp(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(c,d,f){var h,m={},g=null,w=null;f!==void 0&&(g=""+f),d.key!==void 0&&(g=""+d.key),d.ref!==void 0&&(w=d.ref);for(h in d)n.call(d,h)&&!i.hasOwnProperty(h)&&(m[h]=d[h]);if(c&&c.defaultProps)for(h in d=c.defaultProps,d)m[h]===void 0&&(m[h]=d[h]);return{$$typeof:t,type:c,key:g,ref:w,props:m,_owner:a.current}}return Vu.Fragment=r,Vu.jsx=s,Vu.jsxs=s,Vu}var NP;function tU(){return NP||(NP=1,_y.exports=eU()),_y.exports}var o=tU(),y=qp();const ee=cr(y),LR=XB({__proto__:null,default:ee},[y]);var Wh={},Sy={exports:{}},ra={},Ny={exports:{}},Cy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP;function rU(){return CP||(CP=1,function(e){function t(W,V){var F=W.length;W.push(V);e:for(;0<F;){var L=F-1>>>1,J=W[L];if(0<a(J,V))W[L]=V,W[F]=J,F=L;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var V=W[0],F=W.pop();if(F!==V){W[0]=F;e:for(var L=0,J=W.length,G=J>>>1;L<G;){var de=2*(L+1)-1,Ce=W[de],q=de+1,ae=W[q];if(0>a(Ce,F))q<J&&0>a(ae,Ce)?(W[L]=ae,W[q]=F,L=q):(W[L]=Ce,W[de]=F,L=de);else if(q<J&&0>a(ae,F))W[L]=ae,W[q]=F,L=q;else break e}}return V}function a(W,V){var F=W.sortIndex-V.sortIndex;return F!==0?F:W.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var d=[],f=[],h=1,m=null,g=3,w=!1,b=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(W){for(var V=r(f);V!==null;){if(V.callback===null)n(f);else if(V.startTime<=W)n(f),V.sortIndex=V.expirationTime,t(d,V);else break;V=r(f)}}function k(W){if(x=!1,P(W),!b)if(r(d)!==null)b=!0,Y(C);else{var V=r(f);V!==null&&ie(k,V.startTime-W)}}function C(W,V){b=!1,x&&(x=!1,S(R),R=-1),w=!0;var F=g;try{for(P(V),m=r(d);m!==null&&(!(m.expirationTime>V)||W&&!O());){var L=m.callback;if(typeof L=="function"){m.callback=null,g=m.priorityLevel;var J=L(m.expirationTime<=V);V=e.unstable_now(),typeof J=="function"?m.callback=J:m===r(d)&&n(d),P(V)}else n(d);m=r(d)}if(m!==null)var G=!0;else{var de=r(f);de!==null&&ie(k,de.startTime-V),G=!1}return G}finally{m=null,g=F,w=!1}}var A=!1,T=null,R=-1,I=5,U=-1;function O(){return!(e.unstable_now()-U<I)}function B(){if(T!==null){var W=e.unstable_now();U=W;var V=!0;try{V=T(!0,W)}finally{V?Z():(A=!1,T=null)}}else A=!1}var Z;if(typeof N=="function")Z=function(){N(B)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Q=te.port2;te.port1.onmessage=B,Z=function(){Q.postMessage(null)}}else Z=function(){_(B,0)};function Y(W){T=W,A||(A=!0,Z())}function ie(W,V){R=_(function(){W(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){b||w||(b=!0,Y(C))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(W){switch(g){case 1:case 2:case 3:var V=3;break;default:V=g}var F=g;g=V;try{return W()}finally{g=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,V){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var F=g;g=W;try{return V()}finally{g=F}},e.unstable_scheduleCallback=function(W,V,F){var L=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?L+F:L):F=L,W){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=F+J,W={id:h++,callback:V,priorityLevel:W,startTime:F,expirationTime:J,sortIndex:-1},F>L?(W.sortIndex=F,t(f,W),r(d)===null&&W===r(f)&&(x?(S(R),R=-1):x=!0,ie(k,F-L))):(W.sortIndex=J,t(d,W),b||w||(b=!0,Y(C))),W},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(W){var V=g;return function(){var F=g;g=V;try{return W.apply(this,arguments)}finally{g=F}}}}(Cy)),Cy}var PP;function nU(){return PP||(PP=1,Ny.exports=rU()),Ny.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kP;function aU(){if(kP)return ra;kP=1;var e=qp(),t=nU();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,p=1;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(l,u){s(l,u),s(l+"Capture",u)}function s(l,u){for(a[l]=u,l=0;l<u.length;l++)n.add(u[l])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function g(l){return d.call(m,l)?!0:d.call(h,l)?!1:f.test(l)?m[l]=!0:(h[l]=!0,!1)}function w(l,u,p,v){if(p!==null&&p.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:p!==null?!p.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function b(l,u,p,v){if(u===null||typeof u>"u"||w(l,u,p,v))return!0;if(v)return!1;if(p!==null)switch(p.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function x(l,u,p,v,j,E,D){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=j,this.mustUseProperty=p,this.propertyName=l,this.type=u,this.sanitizeURL=E,this.removeEmptyString=D}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){_[l]=new x(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];_[u]=new x(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){_[l]=new x(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){_[l]=new x(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){_[l]=new x(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){_[l]=new x(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){_[l]=new x(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){_[l]=new x(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){_[l]=new x(l,5,!1,l.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(S,N);_[u]=new x(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(S,N);_[u]=new x(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(S,N);_[u]=new x(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){_[l]=new x(l,1,!1,l.toLowerCase(),null,!0,!0)});function P(l,u,p,v){var j=_.hasOwnProperty(u)?_[u]:null;(j!==null?j.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(b(u,p,j,v)&&(p=null),v||j===null?g(u)&&(p===null?l.removeAttribute(u):l.setAttribute(u,""+p)):j.mustUseProperty?l[j.propertyName]=p===null?j.type===3?!1:"":p:(u=j.attributeName,v=j.attributeNamespace,p===null?l.removeAttribute(u):(j=j.type,p=j===3||j===4&&p===!0?"":""+p,v?l.setAttributeNS(v,u,p):l.setAttribute(u,p))))}var k=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),O=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),W=Symbol.iterator;function V(l){return l===null||typeof l!="object"?null:(l=W&&l[W]||l["@@iterator"],typeof l=="function"?l:null)}var F=Object.assign,L;function J(l){if(L===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);L=u&&u[1]||""}return`
`+L+l}var G=!1;function de(l,u){if(!l||G)return"";G=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(xe){var v=xe}Reflect.construct(l,[],u)}else{try{u.call()}catch(xe){v=xe}l.call(u.prototype)}else{try{throw Error()}catch(xe){v=xe}l()}}catch(xe){if(xe&&v&&typeof xe.stack=="string"){for(var j=xe.stack.split(`
`),E=v.stack.split(`
`),D=j.length-1,X=E.length-1;1<=D&&0<=X&&j[D]!==E[X];)X--;for(;1<=D&&0<=X;D--,X--)if(j[D]!==E[X]){if(D!==1||X!==1)do if(D--,X--,0>X||j[D]!==E[X]){var ne=`
`+j[D].replace(" at new "," at ");return l.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",l.displayName)),ne}while(1<=D&&0<=X);break}}}finally{G=!1,Error.prepareStackTrace=p}return(l=l?l.displayName||l.name:"")?J(l):""}function Ce(l){switch(l.tag){case 5:return J(l.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return l=de(l.type,!1),l;case 11:return l=de(l.type.render,!1),l;case 1:return l=de(l.type,!0),l;default:return""}}function q(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case A:return"Portal";case I:return"Profiler";case R:return"StrictMode";case Z:return"Suspense";case te:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case O:return(l.displayName||"Context")+".Consumer";case U:return(l._context.displayName||"Context")+".Provider";case B:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Q:return u=l.displayName||null,u!==null?u:q(l.type)||"Memo";case Y:u=l._payload,l=l._init;try{return q(l(u))}catch{}}return null}function ae(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(u);case 8:return u===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Ae(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function K(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function _e(l){var u=K(l)?"checked":"value",p=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),v=""+l[u];if(!l.hasOwnProperty(u)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var j=p.get,E=p.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return j.call(this)},set:function(D){v=""+D,E.call(this,D)}}),Object.defineProperty(l,u,{enumerable:p.enumerable}),{getValue:function(){return v},setValue:function(D){v=""+D},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Me(l){l._valueTracker||(l._valueTracker=_e(l))}function pe(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),v="";return l&&(v=K(l)?l.checked?"true":"false":l.value),l=v,l!==p?(u.setValue(l),!0):!1}function Qe(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function ze(l,u){var p=u.checked;return F({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:p??l._wrapperState.initialChecked})}function re(l,u){var p=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;p=Ae(u.value!=null?u.value:p),l._wrapperState={initialChecked:v,initialValue:p,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ct(l,u){u=u.checked,u!=null&&P(l,"checked",u,!1)}function Vt(l,u){Ct(l,u);var p=Ae(u.value),v=u.type;if(p!=null)v==="number"?(p===0&&l.value===""||l.value!=p)&&(l.value=""+p):l.value!==""+p&&(l.value=""+p);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?Gt(l,u.type,p):u.hasOwnProperty("defaultValue")&&Gt(l,u.type,Ae(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function Pt(l,u,p){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,p||u===l.value||(l.value=u),l.defaultValue=u}p=l.name,p!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,p!==""&&(l.name=p)}function Gt(l,u,p){(u!=="number"||Qe(l.ownerDocument)!==l)&&(p==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+p&&(l.defaultValue=""+p))}var sn=Array.isArray;function bt(l,u,p,v){if(l=l.options,u){u={};for(var j=0;j<p.length;j++)u["$"+p[j]]=!0;for(p=0;p<l.length;p++)j=u.hasOwnProperty("$"+l[p].value),l[p].selected!==j&&(l[p].selected=j),j&&v&&(l[p].defaultSelected=!0)}else{for(p=""+Ae(p),u=null,j=0;j<l.length;j++){if(l[j].value===p){l[j].selected=!0,v&&(l[j].defaultSelected=!0);return}u!==null||l[j].disabled||(u=l[j])}u!==null&&(u.selected=!0)}}function er(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return F({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function xr(l,u){var p=u.value;if(p==null){if(p=u.children,u=u.defaultValue,p!=null){if(u!=null)throw Error(r(92));if(sn(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),p=u}l._wrapperState={initialValue:Ae(p)}}function qt(l,u){var p=Ae(u.value),v=Ae(u.defaultValue);p!=null&&(p=""+p,p!==l.value&&(l.value=p),u.defaultValue==null&&l.defaultValue!==p&&(l.defaultValue=p)),v!=null&&(l.defaultValue=""+v)}function qr(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Kn(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yn(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Kn(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Gr,Wr=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,p,v,j){MSApp.execUnsafeLocalFunction(function(){return l(u,p,v,j)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Gr=Gr||document.createElement("div"),Gr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Gr.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Hr(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ce=["Webkit","ms","Moz","O"];Object.keys(vn).forEach(function(l){ce.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),vn[u]=vn[l]})});function Se(l,u,p){return u==null||typeof u=="boolean"||u===""?"":p||typeof u!="number"||u===0||vn.hasOwnProperty(l)&&vn[l]?(""+u).trim():u+"px"}function Ye(l,u){l=l.style;for(var p in u)if(u.hasOwnProperty(p)){var v=p.indexOf("--")===0,j=Se(p,u[p],v);p==="float"&&(p="cssFloat"),v?l.setProperty(p,j):l[p]=j}}var Ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fe(l,u){if(u){if(Ve[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Ze(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var He=null;function wt(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var kt=null,Je=null,Ft=null;function pr(l){if(l=Ou(l)){if(typeof kt!="function")throw Error(r(280));var u=l.stateNode;u&&(u=ah(u),kt(l.stateNode,l.type,u))}}function br(l){Je?Ft?Ft.push(l):Ft=[l]:Je=l}function Lr(){if(Je){var l=Je,u=Ft;if(Ft=Je=null,pr(l),u)for(l=0;l<u.length;l++)pr(u[l])}}function Fr(l,u){return l(u)}function ye(){}var Ne=!1;function De(l,u,p){if(Ne)return l(u,p);Ne=!0;try{return Fr(l,u,p)}finally{Ne=!1,(Je!==null||Ft!==null)&&(ye(),Lr())}}function gt(l,u){var p=l.stateNode;if(p===null)return null;var v=ah(p);if(v===null)return null;p=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(r(231,u,typeof p));return p}var rr=!1;if(c)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){rr=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{rr=!1}function vt(l,u,p,v,j,E,D,X,ne){var xe=Array.prototype.slice.call(arguments,3);try{u.apply(p,xe)}catch($e){this.onError($e)}}var Er=!1,Sn=null,Jn=!1,yn=null,Di={onError:function(l){Er=!0,Sn=l}};function xo(l,u,p,v,j,E,D,X,ne){Er=!1,Sn=null,vt.apply(Di,arguments)}function M(l,u,p,v,j,E,D,X,ne){if(xo.apply(this,arguments),Er){if(Er){var xe=Sn;Er=!1,Sn=null}else throw Error(r(198));Jn||(Jn=!0,yn=xe)}}function H(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function oe(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function ke(l){if(H(l)!==l)throw Error(r(188))}function je(l){var u=l.alternate;if(!u){if(u=H(l),u===null)throw Error(r(188));return u!==l?null:l}for(var p=l,v=u;;){var j=p.return;if(j===null)break;var E=j.alternate;if(E===null){if(v=j.return,v!==null){p=v;continue}break}if(j.child===E.child){for(E=j.child;E;){if(E===p)return ke(j),l;if(E===v)return ke(j),u;E=E.sibling}throw Error(r(188))}if(p.return!==v.return)p=j,v=E;else{for(var D=!1,X=j.child;X;){if(X===p){D=!0,p=j,v=E;break}if(X===v){D=!0,v=j,p=E;break}X=X.sibling}if(!D){for(X=E.child;X;){if(X===p){D=!0,p=E,v=j;break}if(X===v){D=!0,v=E,p=j;break}X=X.sibling}if(!D)throw Error(r(189))}}if(p.alternate!==v)throw Error(r(190))}if(p.tag!==3)throw Error(r(188));return p.stateNode.current===p?l:u}function Le(l){return l=je(l),l!==null?tt(l):null}function tt(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=tt(l);if(u!==null)return u;l=l.sibling}return null}var Oe=t.unstable_scheduleCallback,Xe=t.unstable_cancelCallback,jt=t.unstable_shouldYield,Tt=t.unstable_requestPaint,Ue=t.unstable_now,dt=t.unstable_getCurrentPriorityLevel,Or=t.unstable_ImmediatePriority,ln=t.unstable_UserBlockingPriority,dr=t.unstable_NormalPriority,fr=t.unstable_LowPriority,Jt=t.unstable_IdlePriority,Qt=null,Wt=null;function Ht(l){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Qt,l,void 0,(l.current.flags&128)===128)}catch{}}var It=Math.clz32?Math.clz32:$,Nn=Math.log,Cn=Math.LN2;function $(l){return l>>>=0,l===0?32:31-(Nn(l)/Cn|0)|0}var z=64,se=4194304;function ue(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function he(l,u){var p=l.pendingLanes;if(p===0)return 0;var v=0,j=l.suspendedLanes,E=l.pingedLanes,D=p&268435455;if(D!==0){var X=D&~j;X!==0?v=ue(X):(E&=D,E!==0&&(v=ue(E)))}else D=p&~j,D!==0?v=ue(D):E!==0&&(v=ue(E));if(v===0)return 0;if(u!==0&&u!==v&&(u&j)===0&&(j=v&-v,E=u&-u,j>=E||j===16&&(E&4194240)!==0))return u;if((v&4)!==0&&(v|=p&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=v;0<u;)p=31-It(u),j=1<<p,v|=l[p],u&=~j;return v}function ge(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fe(l,u){for(var p=l.suspendedLanes,v=l.pingedLanes,j=l.expirationTimes,E=l.pendingLanes;0<E;){var D=31-It(E),X=1<<D,ne=j[D];ne===-1?((X&p)===0||(X&v)!==0)&&(j[D]=ge(X,u)):ne<=u&&(l.expiredLanes|=X),E&=~X}}function we(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function ct(){var l=z;return z<<=1,(z&4194240)===0&&(z=64),l}function Ge(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function Ee(l,u,p){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-It(u),l[u]=p}function be(l,u){var p=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<p;){var j=31-It(p),E=1<<j;u[j]=0,v[j]=-1,l[j]=-1,p&=~E}}function Xt(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var v=31-It(p),j=1<<v;j&u|l[v]&u&&(l[v]|=u),p&=~j}}var Re=0;function $t(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var hr,Zt,gr,ir,Zr,or=!1,Kr=[],Dr=null,$a=null,La=null,bo=new Map,wo=new Map,Fa=[],zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vu(l,u){switch(l){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":bo.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":wo.delete(u.pointerId)}}function _o(l,u,p,v,j,E){return l===null||l.nativeEvent!==E?(l={blockedOn:u,domEventName:p,eventSystemFlags:v,nativeEvent:E,targetContainers:[j]},u!==null&&(u=Ou(u),u!==null&&Zt(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,j!==null&&u.indexOf(j)===-1&&u.push(j),l)}function qf(l,u,p,v,j){switch(u){case"focusin":return Dr=_o(Dr,l,u,p,v,j),!0;case"dragenter":return $a=_o($a,l,u,p,v,j),!0;case"mouseover":return La=_o(La,l,u,p,v,j),!0;case"pointerover":var E=j.pointerId;return bo.set(E,_o(bo.get(E)||null,l,u,p,v,j)),!0;case"gotpointercapture":return E=j.pointerId,wo.set(E,_o(wo.get(E)||null,l,u,p,v,j)),!0}return!1}function yu(l){var u=gs(l.target);if(u!==null){var p=H(u);if(p!==null){if(u=p.tag,u===13){if(u=oe(p),u!==null){l.blockedOn=u,Zr(l.priority,function(){gr(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ps(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=Yg(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(p===null){p=l.nativeEvent;var v=new p.constructor(p.type,p);He=v,p.target.dispatchEvent(v),He=null}else return u=Ou(p),u!==null&&Zt(u),l.blockedOn=p,!1;u.shift()}return!0}function xu(l,u,p){ps(l)&&p.delete(u)}function Wf(){or=!1,Dr!==null&&ps(Dr)&&(Dr=null),$a!==null&&ps($a)&&($a=null),La!==null&&ps(La)&&(La=null),bo.forEach(xu),wo.forEach(xu)}function jo(l,u){l.blockedOn===u&&(l.blockedOn=null,or||(or=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Wf)))}function So(l){function u(j){return jo(j,l)}if(0<Kr.length){jo(Kr[0],l);for(var p=1;p<Kr.length;p++){var v=Kr[p];v.blockedOn===l&&(v.blockedOn=null)}}for(Dr!==null&&jo(Dr,l),$a!==null&&jo($a,l),La!==null&&jo(La,l),bo.forEach(u),wo.forEach(u),p=0;p<Fa.length;p++)v=Fa[p],v.blockedOn===l&&(v.blockedOn=null);for(;0<Fa.length&&(p=Fa[0],p.blockedOn===null);)yu(p),p.blockedOn===null&&Fa.shift()}var yl=k.ReactCurrentBatchConfig,Hf=!0;function _6(l,u,p,v){var j=Re,E=yl.transition;yl.transition=null;try{Re=1,Kg(l,u,p,v)}finally{Re=j,yl.transition=E}}function j6(l,u,p,v){var j=Re,E=yl.transition;yl.transition=null;try{Re=4,Kg(l,u,p,v)}finally{Re=j,yl.transition=E}}function Kg(l,u,p,v){if(Hf){var j=Yg(l,u,p,v);if(j===null)fv(l,u,v,Vf,p),vu(l,v);else if(qf(j,l,u,p,v))v.stopPropagation();else if(vu(l,v),u&4&&-1<zf.indexOf(l)){for(;j!==null;){var E=Ou(j);if(E!==null&&hr(E),E=Yg(l,u,p,v),E===null&&fv(l,u,v,Vf,p),E===j)break;j=E}j!==null&&v.stopPropagation()}else fv(l,u,v,null,p)}}var Vf=null;function Yg(l,u,p,v){if(Vf=null,l=wt(v),l=gs(l),l!==null)if(u=H(l),u===null)l=null;else if(p=u.tag,p===13){if(l=oe(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Vf=l,null}function lN(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dt()){case Or:return 1;case ln:return 4;case dr:case fr:return 16;case Jt:return 536870912;default:return 16}default:return 16}}var No=null,Jg=null,Gf=null;function cN(){if(Gf)return Gf;var l,u=Jg,p=u.length,v,j="value"in No?No.value:No.textContent,E=j.length;for(l=0;l<p&&u[l]===j[l];l++);var D=p-l;for(v=1;v<=D&&u[p-v]===j[E-v];v++);return Gf=j.slice(l,1<v?1-v:void 0)}function Kf(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Yf(){return!0}function uN(){return!1}function sa(l){function u(p,v,j,E,D){this._reactName=p,this._targetInst=j,this.type=v,this.nativeEvent=E,this.target=D,this.currentTarget=null;for(var X in l)l.hasOwnProperty(X)&&(p=l[X],this[X]=p?p(E):E[X]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Yf:uN,this.isPropagationStopped=uN,this}return F(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Yf)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Yf)},persist:function(){},isPersistent:Yf}),u}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xg=sa(xl),bu=F({},xl,{view:0,detail:0}),S6=sa(bu),Qg,Zg,wu,Jf=F({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==wu&&(wu&&l.type==="mousemove"?(Qg=l.screenX-wu.screenX,Zg=l.screenY-wu.screenY):Zg=Qg=0,wu=l),Qg)},movementY:function(l){return"movementY"in l?l.movementY:Zg}}),dN=sa(Jf),N6=F({},Jf,{dataTransfer:0}),C6=sa(N6),P6=F({},bu,{relatedTarget:0}),ev=sa(P6),k6=F({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),A6=sa(k6),E6=F({},xl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),O6=sa(E6),T6=F({},xl,{data:0}),fN=sa(T6),M6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function I6(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=D6[l])?!!u[l]:!1}function tv(){return I6}var $6=F({},bu,{key:function(l){if(l.key){var u=M6[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Kf(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?R6[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(l){return l.type==="keypress"?Kf(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Kf(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),L6=sa($6),F6=F({},Jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hN=sa(F6),B6=F({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),U6=sa(B6),z6=F({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),q6=sa(z6),W6=F({},Jf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),H6=sa(W6),V6=[9,13,27,32],rv=c&&"CompositionEvent"in window,_u=null;c&&"documentMode"in document&&(_u=document.documentMode);var G6=c&&"TextEvent"in window&&!_u,mN=c&&(!rv||_u&&8<_u&&11>=_u),pN=" ",gN=!1;function vN(l,u){switch(l){case"keyup":return V6.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yN(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var bl=!1;function K6(l,u){switch(l){case"compositionend":return yN(u);case"keypress":return u.which!==32?null:(gN=!0,pN);case"textInput":return l=u.data,l===pN&&gN?null:l;default:return null}}function Y6(l,u){if(bl)return l==="compositionend"||!rv&&vN(l,u)?(l=cN(),Gf=Jg=No=null,bl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return mN&&u.locale!=="ko"?null:u.data;default:return null}}var J6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xN(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!J6[l.type]:u==="textarea"}function bN(l,u,p,v){br(v),u=th(u,"onChange"),0<u.length&&(p=new Xg("onChange","change",null,p,v),l.push({event:p,listeners:u}))}var ju=null,Su=null;function X6(l){LN(l,0)}function Xf(l){var u=Nl(l);if(pe(u))return l}function Q6(l,u){if(l==="change")return u}var wN=!1;if(c){var nv;if(c){var av="oninput"in document;if(!av){var _N=document.createElement("div");_N.setAttribute("oninput","return;"),av=typeof _N.oninput=="function"}nv=av}else nv=!1;wN=nv&&(!document.documentMode||9<document.documentMode)}function jN(){ju&&(ju.detachEvent("onpropertychange",SN),Su=ju=null)}function SN(l){if(l.propertyName==="value"&&Xf(Su)){var u=[];bN(u,Su,l,wt(l)),De(X6,u)}}function Z6(l,u,p){l==="focusin"?(jN(),ju=u,Su=p,ju.attachEvent("onpropertychange",SN)):l==="focusout"&&jN()}function eB(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Xf(Su)}function tB(l,u){if(l==="click")return Xf(u)}function rB(l,u){if(l==="input"||l==="change")return Xf(u)}function nB(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Ba=typeof Object.is=="function"?Object.is:nB;function Nu(l,u){if(Ba(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),v=Object.keys(u);if(p.length!==v.length)return!1;for(v=0;v<p.length;v++){var j=p[v];if(!d.call(u,j)||!Ba(l[j],u[j]))return!1}return!0}function NN(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function CN(l,u){var p=NN(l);l=0;for(var v;p;){if(p.nodeType===3){if(v=l+p.textContent.length,l<=u&&v>=u)return{node:p,offset:u-l};l=v}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=NN(p)}}function PN(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?PN(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function kN(){for(var l=window,u=Qe();u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Qe(l.document)}return u}function iv(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function aB(l){var u=kN(),p=l.focusedElem,v=l.selectionRange;if(u!==p&&p&&p.ownerDocument&&PN(p.ownerDocument.documentElement,p)){if(v!==null&&iv(p)){if(u=v.start,l=v.end,l===void 0&&(l=u),"selectionStart"in p)p.selectionStart=u,p.selectionEnd=Math.min(l,p.value.length);else if(l=(u=p.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var j=p.textContent.length,E=Math.min(v.start,j);v=v.end===void 0?E:Math.min(v.end,j),!l.extend&&E>v&&(j=v,v=E,E=j),j=CN(p,E);var D=CN(p,v);j&&D&&(l.rangeCount!==1||l.anchorNode!==j.node||l.anchorOffset!==j.offset||l.focusNode!==D.node||l.focusOffset!==D.offset)&&(u=u.createRange(),u.setStart(j.node,j.offset),l.removeAllRanges(),E>v?(l.addRange(u),l.extend(D.node,D.offset)):(u.setEnd(D.node,D.offset),l.addRange(u)))}}for(u=[],l=p;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<u.length;p++)l=u[p],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var iB=c&&"documentMode"in document&&11>=document.documentMode,wl=null,ov=null,Cu=null,sv=!1;function AN(l,u,p){var v=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;sv||wl==null||wl!==Qe(v)||(v=wl,"selectionStart"in v&&iv(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Cu&&Nu(Cu,v)||(Cu=v,v=th(ov,"onSelect"),0<v.length&&(u=new Xg("onSelect","select",null,u,p),l.push({event:u,listeners:v}),u.target=wl)))}function Qf(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var _l={animationend:Qf("Animation","AnimationEnd"),animationiteration:Qf("Animation","AnimationIteration"),animationstart:Qf("Animation","AnimationStart"),transitionend:Qf("Transition","TransitionEnd")},lv={},EN={};c&&(EN=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function Zf(l){if(lv[l])return lv[l];if(!_l[l])return l;var u=_l[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in EN)return lv[l]=u[p];return l}var ON=Zf("animationend"),TN=Zf("animationiteration"),MN=Zf("animationstart"),RN=Zf("transitionend"),DN=new Map,IN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Co(l,u){DN.set(l,u),i(u,[l])}for(var cv=0;cv<IN.length;cv++){var uv=IN[cv],oB=uv.toLowerCase(),sB=uv[0].toUpperCase()+uv.slice(1);Co(oB,"on"+sB)}Co(ON,"onAnimationEnd"),Co(TN,"onAnimationIteration"),Co(MN,"onAnimationStart"),Co("dblclick","onDoubleClick"),Co("focusin","onFocus"),Co("focusout","onBlur"),Co(RN,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pu));function $N(l,u,p){var v=l.type||"unknown-event";l.currentTarget=p,M(v,u,void 0,l),l.currentTarget=null}function LN(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var v=l[p],j=v.event;v=v.listeners;e:{var E=void 0;if(u)for(var D=v.length-1;0<=D;D--){var X=v[D],ne=X.instance,xe=X.currentTarget;if(X=X.listener,ne!==E&&j.isPropagationStopped())break e;$N(j,X,xe),E=ne}else for(D=0;D<v.length;D++){if(X=v[D],ne=X.instance,xe=X.currentTarget,X=X.listener,ne!==E&&j.isPropagationStopped())break e;$N(j,X,xe),E=ne}}}if(Jn)throw l=yn,Jn=!1,yn=null,l}function Pr(l,u){var p=u[yv];p===void 0&&(p=u[yv]=new Set);var v=l+"__bubble";p.has(v)||(FN(u,l,2,!1),p.add(v))}function dv(l,u,p){var v=0;u&&(v|=4),FN(p,l,v,u)}var eh="_reactListening"+Math.random().toString(36).slice(2);function ku(l){if(!l[eh]){l[eh]=!0,n.forEach(function(p){p!=="selectionchange"&&(lB.has(p)||dv(p,!1,l),dv(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[eh]||(u[eh]=!0,dv("selectionchange",!1,u))}}function FN(l,u,p,v){switch(lN(u)){case 1:var j=_6;break;case 4:j=j6;break;default:j=Kg}p=j.bind(null,u,p,l),j=void 0,!rr||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(j=!0),v?j!==void 0?l.addEventListener(u,p,{capture:!0,passive:j}):l.addEventListener(u,p,!0):j!==void 0?l.addEventListener(u,p,{passive:j}):l.addEventListener(u,p,!1)}function fv(l,u,p,v,j){var E=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var D=v.tag;if(D===3||D===4){var X=v.stateNode.containerInfo;if(X===j||X.nodeType===8&&X.parentNode===j)break;if(D===4)for(D=v.return;D!==null;){var ne=D.tag;if((ne===3||ne===4)&&(ne=D.stateNode.containerInfo,ne===j||ne.nodeType===8&&ne.parentNode===j))return;D=D.return}for(;X!==null;){if(D=gs(X),D===null)return;if(ne=D.tag,ne===5||ne===6){v=E=D;continue e}X=X.parentNode}}v=v.return}De(function(){var xe=E,$e=wt(p),Be=[];e:{var Ie=DN.get(l);if(Ie!==void 0){var et=Xg,it=l;switch(l){case"keypress":if(Kf(p)===0)break e;case"keydown":case"keyup":et=L6;break;case"focusin":it="focus",et=ev;break;case"focusout":it="blur",et=ev;break;case"beforeblur":case"afterblur":et=ev;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=dN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=C6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=U6;break;case ON:case TN:case MN:et=A6;break;case RN:et=q6;break;case"scroll":et=S6;break;case"wheel":et=H6;break;case"copy":case"cut":case"paste":et=O6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=hN}var ut=(u&4)!==0,Vr=!ut&&l==="scroll",me=ut?Ie!==null?Ie+"Capture":null:Ie;ut=[];for(var le=xe,ve;le!==null;){ve=le;var qe=ve.stateNode;if(ve.tag===5&&qe!==null&&(ve=qe,me!==null&&(qe=gt(le,me),qe!=null&&ut.push(Au(le,qe,ve)))),Vr)break;le=le.return}0<ut.length&&(Ie=new et(Ie,it,null,p,$e),Be.push({event:Ie,listeners:ut}))}}if((u&7)===0){e:{if(Ie=l==="mouseover"||l==="pointerover",et=l==="mouseout"||l==="pointerout",Ie&&p!==He&&(it=p.relatedTarget||p.fromElement)&&(gs(it)||it[Ii]))break e;if((et||Ie)&&(Ie=$e.window===$e?$e:(Ie=$e.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,et?(it=p.relatedTarget||p.toElement,et=xe,it=it?gs(it):null,it!==null&&(Vr=H(it),it!==Vr||it.tag!==5&&it.tag!==6)&&(it=null)):(et=null,it=xe),et!==it)){if(ut=dN,qe="onMouseLeave",me="onMouseEnter",le="mouse",(l==="pointerout"||l==="pointerover")&&(ut=hN,qe="onPointerLeave",me="onPointerEnter",le="pointer"),Vr=et==null?Ie:Nl(et),ve=it==null?Ie:Nl(it),Ie=new ut(qe,le+"leave",et,p,$e),Ie.target=Vr,Ie.relatedTarget=ve,qe=null,gs($e)===xe&&(ut=new ut(me,le+"enter",it,p,$e),ut.target=ve,ut.relatedTarget=Vr,qe=ut),Vr=qe,et&&it)t:{for(ut=et,me=it,le=0,ve=ut;ve;ve=jl(ve))le++;for(ve=0,qe=me;qe;qe=jl(qe))ve++;for(;0<le-ve;)ut=jl(ut),le--;for(;0<ve-le;)me=jl(me),ve--;for(;le--;){if(ut===me||me!==null&&ut===me.alternate)break t;ut=jl(ut),me=jl(me)}ut=null}else ut=null;et!==null&&BN(Be,Ie,et,ut,!1),it!==null&&Vr!==null&&BN(Be,Vr,it,ut,!0)}}e:{if(Ie=xe?Nl(xe):window,et=Ie.nodeName&&Ie.nodeName.toLowerCase(),et==="select"||et==="input"&&Ie.type==="file")var ft=Q6;else if(xN(Ie))if(wN)ft=rB;else{ft=eB;var yt=Z6}else(et=Ie.nodeName)&&et.toLowerCase()==="input"&&(Ie.type==="checkbox"||Ie.type==="radio")&&(ft=tB);if(ft&&(ft=ft(l,xe))){bN(Be,ft,p,$e);break e}yt&&yt(l,Ie,xe),l==="focusout"&&(yt=Ie._wrapperState)&&yt.controlled&&Ie.type==="number"&&Gt(Ie,"number",Ie.value)}switch(yt=xe?Nl(xe):window,l){case"focusin":(xN(yt)||yt.contentEditable==="true")&&(wl=yt,ov=xe,Cu=null);break;case"focusout":Cu=ov=wl=null;break;case"mousedown":sv=!0;break;case"contextmenu":case"mouseup":case"dragend":sv=!1,AN(Be,p,$e);break;case"selectionchange":if(iB)break;case"keydown":case"keyup":AN(Be,p,$e)}var xt;if(rv)e:{switch(l){case"compositionstart":var Nt="onCompositionStart";break e;case"compositionend":Nt="onCompositionEnd";break e;case"compositionupdate":Nt="onCompositionUpdate";break e}Nt=void 0}else bl?vN(l,p)&&(Nt="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(Nt="onCompositionStart");Nt&&(mN&&p.locale!=="ko"&&(bl||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&bl&&(xt=cN()):(No=$e,Jg="value"in No?No.value:No.textContent,bl=!0)),yt=th(xe,Nt),0<yt.length&&(Nt=new fN(Nt,l,null,p,$e),Be.push({event:Nt,listeners:yt}),xt?Nt.data=xt:(xt=yN(p),xt!==null&&(Nt.data=xt)))),(xt=G6?K6(l,p):Y6(l,p))&&(xe=th(xe,"onBeforeInput"),0<xe.length&&($e=new fN("onBeforeInput","beforeinput",null,p,$e),Be.push({event:$e,listeners:xe}),$e.data=xt))}LN(Be,u)})}function Au(l,u,p){return{instance:l,listener:u,currentTarget:p}}function th(l,u){for(var p=u+"Capture",v=[];l!==null;){var j=l,E=j.stateNode;j.tag===5&&E!==null&&(j=E,E=gt(l,p),E!=null&&v.unshift(Au(l,E,j)),E=gt(l,u),E!=null&&v.push(Au(l,E,j))),l=l.return}return v}function jl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function BN(l,u,p,v,j){for(var E=u._reactName,D=[];p!==null&&p!==v;){var X=p,ne=X.alternate,xe=X.stateNode;if(ne!==null&&ne===v)break;X.tag===5&&xe!==null&&(X=xe,j?(ne=gt(p,E),ne!=null&&D.unshift(Au(p,ne,X))):j||(ne=gt(p,E),ne!=null&&D.push(Au(p,ne,X)))),p=p.return}D.length!==0&&l.push({event:u,listeners:D})}var cB=/\r\n?/g,uB=/\u0000|\uFFFD/g;function UN(l){return(typeof l=="string"?l:""+l).replace(cB,`
`).replace(uB,"")}function rh(l,u,p){if(u=UN(u),UN(l)!==u&&p)throw Error(r(425))}function nh(){}var hv=null,mv=null;function pv(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,dB=typeof clearTimeout=="function"?clearTimeout:void 0,zN=typeof Promise=="function"?Promise:void 0,fB=typeof queueMicrotask=="function"?queueMicrotask:typeof zN<"u"?function(l){return zN.resolve(null).then(l).catch(hB)}:gv;function hB(l){setTimeout(function(){throw l})}function vv(l,u){var p=u,v=0;do{var j=p.nextSibling;if(l.removeChild(p),j&&j.nodeType===8)if(p=j.data,p==="/$"){if(v===0){l.removeChild(j),So(u);return}v--}else p!=="$"&&p!=="$?"&&p!=="$!"||v++;p=j}while(p);So(u)}function Po(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function qN(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"){if(u===0)return l;u--}else p==="/$"&&u++}l=l.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),mi="__reactFiber$"+Sl,Eu="__reactProps$"+Sl,Ii="__reactContainer$"+Sl,yv="__reactEvents$"+Sl,mB="__reactListeners$"+Sl,pB="__reactHandles$"+Sl;function gs(l){var u=l[mi];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Ii]||p[mi]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=qN(l);l!==null;){if(p=l[mi])return p;l=qN(l)}return u}l=p,p=l.parentNode}return null}function Ou(l){return l=l[mi]||l[Ii],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function Nl(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function ah(l){return l[Eu]||null}var xv=[],Cl=-1;function ko(l){return{current:l}}function kr(l){0>Cl||(l.current=xv[Cl],xv[Cl]=null,Cl--)}function wr(l,u){Cl++,xv[Cl]=l.current,l.current=u}var Ao={},Pn=ko(Ao),Xn=ko(!1),vs=Ao;function Pl(l,u){var p=l.type.contextTypes;if(!p)return Ao;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var j={},E;for(E in p)j[E]=u[E];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=j),j}function Qn(l){return l=l.childContextTypes,l!=null}function ih(){kr(Xn),kr(Pn)}function WN(l,u,p){if(Pn.current!==Ao)throw Error(r(168));wr(Pn,u),wr(Xn,p)}function HN(l,u,p){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return p;v=v.getChildContext();for(var j in v)if(!(j in u))throw Error(r(108,ae(l)||"Unknown",j));return F({},p,v)}function oh(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ao,vs=Pn.current,wr(Pn,l),wr(Xn,Xn.current),!0}function VN(l,u,p){var v=l.stateNode;if(!v)throw Error(r(169));p?(l=HN(l,u,vs),v.__reactInternalMemoizedMergedChildContext=l,kr(Xn),kr(Pn),wr(Pn,l)):kr(Xn),wr(Xn,p)}var $i=null,sh=!1,bv=!1;function GN(l){$i===null?$i=[l]:$i.push(l)}function gB(l){sh=!0,GN(l)}function Eo(){if(!bv&&$i!==null){bv=!0;var l=0,u=Re;try{var p=$i;for(Re=1;l<p.length;l++){var v=p[l];do v=v(!0);while(v!==null)}$i=null,sh=!1}catch(j){throw $i!==null&&($i=$i.slice(l+1)),Oe(Or,Eo),j}finally{Re=u,bv=!1}}return null}var kl=[],Al=0,lh=null,ch=0,ba=[],wa=0,ys=null,Li=1,Fi="";function xs(l,u){kl[Al++]=ch,kl[Al++]=lh,lh=l,ch=u}function KN(l,u,p){ba[wa++]=Li,ba[wa++]=Fi,ba[wa++]=ys,ys=l;var v=Li;l=Fi;var j=32-It(v)-1;v&=~(1<<j),p+=1;var E=32-It(u)+j;if(30<E){var D=j-j%5;E=(v&(1<<D)-1).toString(32),v>>=D,j-=D,Li=1<<32-It(u)+j|p<<j|v,Fi=E+l}else Li=1<<E|p<<j|v,Fi=l}function wv(l){l.return!==null&&(xs(l,1),KN(l,1,0))}function _v(l){for(;l===lh;)lh=kl[--Al],kl[Al]=null,ch=kl[--Al],kl[Al]=null;for(;l===ys;)ys=ba[--wa],ba[wa]=null,Fi=ba[--wa],ba[wa]=null,Li=ba[--wa],ba[wa]=null}var la=null,ca=null,Tr=!1,Ua=null;function YN(l,u){var p=Na(5,null,null,0);p.elementType="DELETED",p.stateNode=u,p.return=l,u=l.deletions,u===null?(l.deletions=[p],l.flags|=16):u.push(p)}function JN(l,u){switch(l.tag){case 5:var p=l.type;return u=u.nodeType!==1||p.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,la=l,ca=Po(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,la=l,ca=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(p=ys!==null?{id:Li,overflow:Fi}:null,l.memoizedState={dehydrated:u,treeContext:p,retryLane:1073741824},p=Na(18,null,null,0),p.stateNode=u,p.return=l,l.child=p,la=l,ca=null,!0):!1;default:return!1}}function jv(l){return(l.mode&1)!==0&&(l.flags&128)===0}function Sv(l){if(Tr){var u=ca;if(u){var p=u;if(!JN(l,u)){if(jv(l))throw Error(r(418));u=Po(p.nextSibling);var v=la;u&&JN(l,u)?YN(v,p):(l.flags=l.flags&-4097|2,Tr=!1,la=l)}}else{if(jv(l))throw Error(r(418));l.flags=l.flags&-4097|2,Tr=!1,la=l}}}function XN(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;la=l}function uh(l){if(l!==la)return!1;if(!Tr)return XN(l),Tr=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!pv(l.type,l.memoizedProps)),u&&(u=ca)){if(jv(l))throw QN(),Error(r(418));for(;u;)YN(l,u),u=Po(u.nextSibling)}if(XN(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"){if(u===0){ca=Po(l.nextSibling);break e}u--}else p!=="$"&&p!=="$!"&&p!=="$?"||u++}l=l.nextSibling}ca=null}}else ca=la?Po(l.stateNode.nextSibling):null;return!0}function QN(){for(var l=ca;l;)l=Po(l.nextSibling)}function El(){ca=la=null,Tr=!1}function Nv(l){Ua===null?Ua=[l]:Ua.push(l)}var vB=k.ReactCurrentBatchConfig;function Tu(l,u,p){if(l=p.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(p._owner){if(p=p._owner,p){if(p.tag!==1)throw Error(r(309));var v=p.stateNode}if(!v)throw Error(r(147,l));var j=v,E=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===E?u.ref:(u=function(D){var X=j.refs;D===null?delete X[E]:X[E]=D},u._stringRef=E,u)}if(typeof l!="string")throw Error(r(284));if(!p._owner)throw Error(r(290,l))}return l}function dh(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function ZN(l){var u=l._init;return u(l._payload)}function eC(l){function u(me,le){if(l){var ve=me.deletions;ve===null?(me.deletions=[le],me.flags|=16):ve.push(le)}}function p(me,le){if(!l)return null;for(;le!==null;)u(me,le),le=le.sibling;return null}function v(me,le){for(me=new Map;le!==null;)le.key!==null?me.set(le.key,le):me.set(le.index,le),le=le.sibling;return me}function j(me,le){return me=Lo(me,le),me.index=0,me.sibling=null,me}function E(me,le,ve){return me.index=ve,l?(ve=me.alternate,ve!==null?(ve=ve.index,ve<le?(me.flags|=2,le):ve):(me.flags|=2,le)):(me.flags|=1048576,le)}function D(me){return l&&me.alternate===null&&(me.flags|=2),me}function X(me,le,ve,qe){return le===null||le.tag!==6?(le=gy(ve,me.mode,qe),le.return=me,le):(le=j(le,ve),le.return=me,le)}function ne(me,le,ve,qe){var ft=ve.type;return ft===T?$e(me,le,ve.props.children,qe,ve.key):le!==null&&(le.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Y&&ZN(ft)===le.type)?(qe=j(le,ve.props),qe.ref=Tu(me,le,ve),qe.return=me,qe):(qe=Dh(ve.type,ve.key,ve.props,null,me.mode,qe),qe.ref=Tu(me,le,ve),qe.return=me,qe)}function xe(me,le,ve,qe){return le===null||le.tag!==4||le.stateNode.containerInfo!==ve.containerInfo||le.stateNode.implementation!==ve.implementation?(le=vy(ve,me.mode,qe),le.return=me,le):(le=j(le,ve.children||[]),le.return=me,le)}function $e(me,le,ve,qe,ft){return le===null||le.tag!==7?(le=Ps(ve,me.mode,qe,ft),le.return=me,le):(le=j(le,ve),le.return=me,le)}function Be(me,le,ve){if(typeof le=="string"&&le!==""||typeof le=="number")return le=gy(""+le,me.mode,ve),le.return=me,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return ve=Dh(le.type,le.key,le.props,null,me.mode,ve),ve.ref=Tu(me,null,le),ve.return=me,ve;case A:return le=vy(le,me.mode,ve),le.return=me,le;case Y:var qe=le._init;return Be(me,qe(le._payload),ve)}if(sn(le)||V(le))return le=Ps(le,me.mode,ve,null),le.return=me,le;dh(me,le)}return null}function Ie(me,le,ve,qe){var ft=le!==null?le.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ft!==null?null:X(me,le,""+ve,qe);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case C:return ve.key===ft?ne(me,le,ve,qe):null;case A:return ve.key===ft?xe(me,le,ve,qe):null;case Y:return ft=ve._init,Ie(me,le,ft(ve._payload),qe)}if(sn(ve)||V(ve))return ft!==null?null:$e(me,le,ve,qe,null);dh(me,ve)}return null}function et(me,le,ve,qe,ft){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return me=me.get(ve)||null,X(le,me,""+qe,ft);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case C:return me=me.get(qe.key===null?ve:qe.key)||null,ne(le,me,qe,ft);case A:return me=me.get(qe.key===null?ve:qe.key)||null,xe(le,me,qe,ft);case Y:var yt=qe._init;return et(me,le,ve,yt(qe._payload),ft)}if(sn(qe)||V(qe))return me=me.get(ve)||null,$e(le,me,qe,ft,null);dh(le,qe)}return null}function it(me,le,ve,qe){for(var ft=null,yt=null,xt=le,Nt=le=0,dn=null;xt!==null&&Nt<ve.length;Nt++){xt.index>Nt?(dn=xt,xt=null):dn=xt.sibling;var nr=Ie(me,xt,ve[Nt],qe);if(nr===null){xt===null&&(xt=dn);break}l&&xt&&nr.alternate===null&&u(me,xt),le=E(nr,le,Nt),yt===null?ft=nr:yt.sibling=nr,yt=nr,xt=dn}if(Nt===ve.length)return p(me,xt),Tr&&xs(me,Nt),ft;if(xt===null){for(;Nt<ve.length;Nt++)xt=Be(me,ve[Nt],qe),xt!==null&&(le=E(xt,le,Nt),yt===null?ft=xt:yt.sibling=xt,yt=xt);return Tr&&xs(me,Nt),ft}for(xt=v(me,xt);Nt<ve.length;Nt++)dn=et(xt,me,Nt,ve[Nt],qe),dn!==null&&(l&&dn.alternate!==null&&xt.delete(dn.key===null?Nt:dn.key),le=E(dn,le,Nt),yt===null?ft=dn:yt.sibling=dn,yt=dn);return l&&xt.forEach(function(Fo){return u(me,Fo)}),Tr&&xs(me,Nt),ft}function ut(me,le,ve,qe){var ft=V(ve);if(typeof ft!="function")throw Error(r(150));if(ve=ft.call(ve),ve==null)throw Error(r(151));for(var yt=ft=null,xt=le,Nt=le=0,dn=null,nr=ve.next();xt!==null&&!nr.done;Nt++,nr=ve.next()){xt.index>Nt?(dn=xt,xt=null):dn=xt.sibling;var Fo=Ie(me,xt,nr.value,qe);if(Fo===null){xt===null&&(xt=dn);break}l&&xt&&Fo.alternate===null&&u(me,xt),le=E(Fo,le,Nt),yt===null?ft=Fo:yt.sibling=Fo,yt=Fo,xt=dn}if(nr.done)return p(me,xt),Tr&&xs(me,Nt),ft;if(xt===null){for(;!nr.done;Nt++,nr=ve.next())nr=Be(me,nr.value,qe),nr!==null&&(le=E(nr,le,Nt),yt===null?ft=nr:yt.sibling=nr,yt=nr);return Tr&&xs(me,Nt),ft}for(xt=v(me,xt);!nr.done;Nt++,nr=ve.next())nr=et(xt,me,Nt,nr.value,qe),nr!==null&&(l&&nr.alternate!==null&&xt.delete(nr.key===null?Nt:nr.key),le=E(nr,le,Nt),yt===null?ft=nr:yt.sibling=nr,yt=nr);return l&&xt.forEach(function(JB){return u(me,JB)}),Tr&&xs(me,Nt),ft}function Vr(me,le,ve,qe){if(typeof ve=="object"&&ve!==null&&ve.type===T&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case C:e:{for(var ft=ve.key,yt=le;yt!==null;){if(yt.key===ft){if(ft=ve.type,ft===T){if(yt.tag===7){p(me,yt.sibling),le=j(yt,ve.props.children),le.return=me,me=le;break e}}else if(yt.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===Y&&ZN(ft)===yt.type){p(me,yt.sibling),le=j(yt,ve.props),le.ref=Tu(me,yt,ve),le.return=me,me=le;break e}p(me,yt);break}else u(me,yt);yt=yt.sibling}ve.type===T?(le=Ps(ve.props.children,me.mode,qe,ve.key),le.return=me,me=le):(qe=Dh(ve.type,ve.key,ve.props,null,me.mode,qe),qe.ref=Tu(me,le,ve),qe.return=me,me=qe)}return D(me);case A:e:{for(yt=ve.key;le!==null;){if(le.key===yt)if(le.tag===4&&le.stateNode.containerInfo===ve.containerInfo&&le.stateNode.implementation===ve.implementation){p(me,le.sibling),le=j(le,ve.children||[]),le.return=me,me=le;break e}else{p(me,le);break}else u(me,le);le=le.sibling}le=vy(ve,me.mode,qe),le.return=me,me=le}return D(me);case Y:return yt=ve._init,Vr(me,le,yt(ve._payload),qe)}if(sn(ve))return it(me,le,ve,qe);if(V(ve))return ut(me,le,ve,qe);dh(me,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,le!==null&&le.tag===6?(p(me,le.sibling),le=j(le,ve),le.return=me,me=le):(p(me,le),le=gy(ve,me.mode,qe),le.return=me,me=le),D(me)):p(me,le)}return Vr}var Ol=eC(!0),tC=eC(!1),fh=ko(null),hh=null,Tl=null,Cv=null;function Pv(){Cv=Tl=hh=null}function kv(l){var u=fh.current;kr(fh),l._currentValue=u}function Av(l,u,p){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===p)break;l=l.return}}function Ml(l,u){hh=l,Cv=Tl=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Zn=!0),l.firstContext=null)}function _a(l){var u=l._currentValue;if(Cv!==l)if(l={context:l,memoizedValue:u,next:null},Tl===null){if(hh===null)throw Error(r(308));Tl=l,hh.dependencies={lanes:0,firstContext:l}}else Tl=Tl.next=l;return u}var bs=null;function Ev(l){bs===null?bs=[l]:bs.push(l)}function rC(l,u,p,v){var j=u.interleaved;return j===null?(p.next=p,Ev(u)):(p.next=j.next,j.next=p),u.interleaved=p,Bi(l,v)}function Bi(l,u){l.lanes|=u;var p=l.alternate;for(p!==null&&(p.lanes|=u),p=l,l=l.return;l!==null;)l.childLanes|=u,p=l.alternate,p!==null&&(p.childLanes|=u),p=l,l=l.return;return p.tag===3?p.stateNode:null}var Oo=!1;function Ov(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nC(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ui(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function To(l,u,p){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(tr&2)!==0){var j=v.pending;return j===null?u.next=u:(u.next=j.next,j.next=u),v.pending=u,Bi(l,p)}return j=v.interleaved,j===null?(u.next=u,Ev(v)):(u.next=j.next,j.next=u),v.interleaved=u,Bi(l,p)}function mh(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194240)!==0)){var v=u.lanes;v&=l.pendingLanes,p|=v,u.lanes=p,Xt(l,p)}}function aC(l,u){var p=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,p===v)){var j=null,E=null;if(p=p.firstBaseUpdate,p!==null){do{var D={eventTime:p.eventTime,lane:p.lane,tag:p.tag,payload:p.payload,callback:p.callback,next:null};E===null?j=E=D:E=E.next=D,p=p.next}while(p!==null);E===null?j=E=u:E=E.next=u}else j=E=u;p={baseState:v.baseState,firstBaseUpdate:j,lastBaseUpdate:E,shared:v.shared,effects:v.effects},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}function ph(l,u,p,v){var j=l.updateQueue;Oo=!1;var E=j.firstBaseUpdate,D=j.lastBaseUpdate,X=j.shared.pending;if(X!==null){j.shared.pending=null;var ne=X,xe=ne.next;ne.next=null,D===null?E=xe:D.next=xe,D=ne;var $e=l.alternate;$e!==null&&($e=$e.updateQueue,X=$e.lastBaseUpdate,X!==D&&(X===null?$e.firstBaseUpdate=xe:X.next=xe,$e.lastBaseUpdate=ne))}if(E!==null){var Be=j.baseState;D=0,$e=xe=ne=null,X=E;do{var Ie=X.lane,et=X.eventTime;if((v&Ie)===Ie){$e!==null&&($e=$e.next={eventTime:et,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var it=l,ut=X;switch(Ie=u,et=p,ut.tag){case 1:if(it=ut.payload,typeof it=="function"){Be=it.call(et,Be,Ie);break e}Be=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=ut.payload,Ie=typeof it=="function"?it.call(et,Be,Ie):it,Ie==null)break e;Be=F({},Be,Ie);break e;case 2:Oo=!0}}X.callback!==null&&X.lane!==0&&(l.flags|=64,Ie=j.effects,Ie===null?j.effects=[X]:Ie.push(X))}else et={eventTime:et,lane:Ie,tag:X.tag,payload:X.payload,callback:X.callback,next:null},$e===null?(xe=$e=et,ne=Be):$e=$e.next=et,D|=Ie;if(X=X.next,X===null){if(X=j.shared.pending,X===null)break;Ie=X,X=Ie.next,Ie.next=null,j.lastBaseUpdate=Ie,j.shared.pending=null}}while(!0);if($e===null&&(ne=Be),j.baseState=ne,j.firstBaseUpdate=xe,j.lastBaseUpdate=$e,u=j.shared.interleaved,u!==null){j=u;do D|=j.lane,j=j.next;while(j!==u)}else E===null&&(j.shared.lanes=0);js|=D,l.lanes=D,l.memoizedState=Be}}function iC(l,u,p){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],j=v.callback;if(j!==null){if(v.callback=null,v=p,typeof j!="function")throw Error(r(191,j));j.call(v)}}}var Mu={},pi=ko(Mu),Ru=ko(Mu),Du=ko(Mu);function ws(l){if(l===Mu)throw Error(r(174));return l}function Tv(l,u){switch(wr(Du,u),wr(Ru,l),wr(pi,Mu),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Yn(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=Yn(u,l)}kr(pi),wr(pi,u)}function Rl(){kr(pi),kr(Ru),kr(Du)}function oC(l){ws(Du.current);var u=ws(pi.current),p=Yn(u,l.type);u!==p&&(wr(Ru,l),wr(pi,p))}function Mv(l){Ru.current===l&&(kr(pi),kr(Ru))}var Ir=ko(0);function gh(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||p.data==="$?"||p.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Rv=[];function Dv(){for(var l=0;l<Rv.length;l++)Rv[l]._workInProgressVersionPrimary=null;Rv.length=0}var vh=k.ReactCurrentDispatcher,Iv=k.ReactCurrentBatchConfig,_s=0,$r=null,en=null,cn=null,yh=!1,Iu=!1,$u=0,yB=0;function kn(){throw Error(r(321))}function $v(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!Ba(l[p],u[p]))return!1;return!0}function Lv(l,u,p,v,j,E){if(_s=E,$r=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,vh.current=l===null||l.memoizedState===null?_B:jB,l=p(v,j),Iu){E=0;do{if(Iu=!1,$u=0,25<=E)throw Error(r(301));E+=1,cn=en=null,u.updateQueue=null,vh.current=SB,l=p(v,j)}while(Iu)}if(vh.current=wh,u=en!==null&&en.next!==null,_s=0,cn=en=$r=null,yh=!1,u)throw Error(r(300));return l}function Fv(){var l=$u!==0;return $u=0,l}function gi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?$r.memoizedState=cn=l:cn=cn.next=l,cn}function ja(){if(en===null){var l=$r.alternate;l=l!==null?l.memoizedState:null}else l=en.next;var u=cn===null?$r.memoizedState:cn.next;if(u!==null)cn=u,en=l;else{if(l===null)throw Error(r(310));en=l,l={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},cn===null?$r.memoizedState=cn=l:cn=cn.next=l}return cn}function Lu(l,u){return typeof u=="function"?u(l):u}function Bv(l){var u=ja(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var v=en,j=v.baseQueue,E=p.pending;if(E!==null){if(j!==null){var D=j.next;j.next=E.next,E.next=D}v.baseQueue=j=E,p.pending=null}if(j!==null){E=j.next,v=v.baseState;var X=D=null,ne=null,xe=E;do{var $e=xe.lane;if((_s&$e)===$e)ne!==null&&(ne=ne.next={lane:0,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null}),v=xe.hasEagerState?xe.eagerState:l(v,xe.action);else{var Be={lane:$e,action:xe.action,hasEagerState:xe.hasEagerState,eagerState:xe.eagerState,next:null};ne===null?(X=ne=Be,D=v):ne=ne.next=Be,$r.lanes|=$e,js|=$e}xe=xe.next}while(xe!==null&&xe!==E);ne===null?D=v:ne.next=X,Ba(v,u.memoizedState)||(Zn=!0),u.memoizedState=v,u.baseState=D,u.baseQueue=ne,p.lastRenderedState=v}if(l=p.interleaved,l!==null){j=l;do E=j.lane,$r.lanes|=E,js|=E,j=j.next;while(j!==l)}else j===null&&(p.lanes=0);return[u.memoizedState,p.dispatch]}function Uv(l){var u=ja(),p=u.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=l;var v=p.dispatch,j=p.pending,E=u.memoizedState;if(j!==null){p.pending=null;var D=j=j.next;do E=l(E,D.action),D=D.next;while(D!==j);Ba(E,u.memoizedState)||(Zn=!0),u.memoizedState=E,u.baseQueue===null&&(u.baseState=E),p.lastRenderedState=E}return[E,v]}function sC(){}function lC(l,u){var p=$r,v=ja(),j=u(),E=!Ba(v.memoizedState,j);if(E&&(v.memoizedState=j,Zn=!0),v=v.queue,zv(dC.bind(null,p,v,l),[l]),v.getSnapshot!==u||E||cn!==null&&cn.memoizedState.tag&1){if(p.flags|=2048,Fu(9,uC.bind(null,p,v,j,u),void 0,null),un===null)throw Error(r(349));(_s&30)!==0||cC(p,u,j)}return j}function cC(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=$r.updateQueue,u===null?(u={lastEffect:null,stores:null},$r.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function uC(l,u,p,v){u.value=p,u.getSnapshot=v,fC(u)&&hC(l)}function dC(l,u,p){return p(function(){fC(u)&&hC(l)})}function fC(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!Ba(l,p)}catch{return!0}}function hC(l){var u=Bi(l,1);u!==null&&Ha(u,l,1,-1)}function mC(l){var u=gi();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:l},u.queue=l,l=l.dispatch=wB.bind(null,$r,l),[u.memoizedState,l]}function Fu(l,u,p,v){return l={tag:l,create:u,destroy:p,deps:v,next:null},u=$r.updateQueue,u===null?(u={lastEffect:null,stores:null},$r.updateQueue=u,u.lastEffect=l.next=l):(p=u.lastEffect,p===null?u.lastEffect=l.next=l:(v=p.next,p.next=l,l.next=v,u.lastEffect=l)),l}function pC(){return ja().memoizedState}function xh(l,u,p,v){var j=gi();$r.flags|=l,j.memoizedState=Fu(1|u,p,void 0,v===void 0?null:v)}function bh(l,u,p,v){var j=ja();v=v===void 0?null:v;var E=void 0;if(en!==null){var D=en.memoizedState;if(E=D.destroy,v!==null&&$v(v,D.deps)){j.memoizedState=Fu(u,p,E,v);return}}$r.flags|=l,j.memoizedState=Fu(1|u,p,E,v)}function gC(l,u){return xh(8390656,8,l,u)}function zv(l,u){return bh(2048,8,l,u)}function vC(l,u){return bh(4,2,l,u)}function yC(l,u){return bh(4,4,l,u)}function xC(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function bC(l,u,p){return p=p!=null?p.concat([l]):null,bh(4,4,xC.bind(null,u,l),p)}function qv(){}function wC(l,u){var p=ja();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&$v(u,v[1])?v[0]:(p.memoizedState=[l,u],l)}function _C(l,u){var p=ja();u=u===void 0?null:u;var v=p.memoizedState;return v!==null&&u!==null&&$v(u,v[1])?v[0]:(l=l(),p.memoizedState=[l,u],l)}function jC(l,u,p){return(_s&21)===0?(l.baseState&&(l.baseState=!1,Zn=!0),l.memoizedState=p):(Ba(p,u)||(p=ct(),$r.lanes|=p,js|=p,l.baseState=!0),u)}function xB(l,u){var p=Re;Re=p!==0&&4>p?p:4,l(!0);var v=Iv.transition;Iv.transition={};try{l(!1),u()}finally{Re=p,Iv.transition=v}}function SC(){return ja().memoizedState}function bB(l,u,p){var v=Io(l);if(p={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null},NC(l))CC(u,p);else if(p=rC(l,u,p,v),p!==null){var j=Fn();Ha(p,l,v,j),PC(p,u,v)}}function wB(l,u,p){var v=Io(l),j={lane:v,action:p,hasEagerState:!1,eagerState:null,next:null};if(NC(l))CC(u,j);else{var E=l.alternate;if(l.lanes===0&&(E===null||E.lanes===0)&&(E=u.lastRenderedReducer,E!==null))try{var D=u.lastRenderedState,X=E(D,p);if(j.hasEagerState=!0,j.eagerState=X,Ba(X,D)){var ne=u.interleaved;ne===null?(j.next=j,Ev(u)):(j.next=ne.next,ne.next=j),u.interleaved=j;return}}catch{}finally{}p=rC(l,u,j,v),p!==null&&(j=Fn(),Ha(p,l,v,j),PC(p,u,v))}}function NC(l){var u=l.alternate;return l===$r||u!==null&&u===$r}function CC(l,u){Iu=yh=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function PC(l,u,p){if((p&4194240)!==0){var v=u.lanes;v&=l.pendingLanes,p|=v,u.lanes=p,Xt(l,p)}}var wh={readContext:_a,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},_B={readContext:_a,useCallback:function(l,u){return gi().memoizedState=[l,u===void 0?null:u],l},useContext:_a,useEffect:gC,useImperativeHandle:function(l,u,p){return p=p!=null?p.concat([l]):null,xh(4194308,4,xC.bind(null,u,l),p)},useLayoutEffect:function(l,u){return xh(4194308,4,l,u)},useInsertionEffect:function(l,u){return xh(4,2,l,u)},useMemo:function(l,u){var p=gi();return u=u===void 0?null:u,l=l(),p.memoizedState=[l,u],l},useReducer:function(l,u,p){var v=gi();return u=p!==void 0?p(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=bB.bind(null,$r,l),[v.memoizedState,l]},useRef:function(l){var u=gi();return l={current:l},u.memoizedState=l},useState:mC,useDebugValue:qv,useDeferredValue:function(l){return gi().memoizedState=l},useTransition:function(){var l=mC(!1),u=l[0];return l=xB.bind(null,l[1]),gi().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,p){var v=$r,j=gi();if(Tr){if(p===void 0)throw Error(r(407));p=p()}else{if(p=u(),un===null)throw Error(r(349));(_s&30)!==0||cC(v,u,p)}j.memoizedState=p;var E={value:p,getSnapshot:u};return j.queue=E,gC(dC.bind(null,v,E,l),[l]),v.flags|=2048,Fu(9,uC.bind(null,v,E,p,u),void 0,null),p},useId:function(){var l=gi(),u=un.identifierPrefix;if(Tr){var p=Fi,v=Li;p=(v&~(1<<32-It(v)-1)).toString(32)+p,u=":"+u+"R"+p,p=$u++,0<p&&(u+="H"+p.toString(32)),u+=":"}else p=yB++,u=":"+u+"r"+p.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},jB={readContext:_a,useCallback:wC,useContext:_a,useEffect:zv,useImperativeHandle:bC,useInsertionEffect:vC,useLayoutEffect:yC,useMemo:_C,useReducer:Bv,useRef:pC,useState:function(){return Bv(Lu)},useDebugValue:qv,useDeferredValue:function(l){var u=ja();return jC(u,en.memoizedState,l)},useTransition:function(){var l=Bv(Lu)[0],u=ja().memoizedState;return[l,u]},useMutableSource:sC,useSyncExternalStore:lC,useId:SC,unstable_isNewReconciler:!1},SB={readContext:_a,useCallback:wC,useContext:_a,useEffect:zv,useImperativeHandle:bC,useInsertionEffect:vC,useLayoutEffect:yC,useMemo:_C,useReducer:Uv,useRef:pC,useState:function(){return Uv(Lu)},useDebugValue:qv,useDeferredValue:function(l){var u=ja();return en===null?u.memoizedState=l:jC(u,en.memoizedState,l)},useTransition:function(){var l=Uv(Lu)[0],u=ja().memoizedState;return[l,u]},useMutableSource:sC,useSyncExternalStore:lC,useId:SC,unstable_isNewReconciler:!1};function za(l,u){if(l&&l.defaultProps){u=F({},u),l=l.defaultProps;for(var p in l)u[p]===void 0&&(u[p]=l[p]);return u}return u}function Wv(l,u,p,v){u=l.memoizedState,p=p(v,u),p=p==null?u:F({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var _h={isMounted:function(l){return(l=l._reactInternals)?H(l)===l:!1},enqueueSetState:function(l,u,p){l=l._reactInternals;var v=Fn(),j=Io(l),E=Ui(v,j);E.payload=u,p!=null&&(E.callback=p),u=To(l,E,j),u!==null&&(Ha(u,l,j,v),mh(u,l,j))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var v=Fn(),j=Io(l),E=Ui(v,j);E.tag=1,E.payload=u,p!=null&&(E.callback=p),u=To(l,E,j),u!==null&&(Ha(u,l,j,v),mh(u,l,j))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=Fn(),v=Io(l),j=Ui(p,v);j.tag=2,u!=null&&(j.callback=u),u=To(l,j,v),u!==null&&(Ha(u,l,v,p),mh(u,l,v))}};function kC(l,u,p,v,j,E,D){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,E,D):u.prototype&&u.prototype.isPureReactComponent?!Nu(p,v)||!Nu(j,E):!0}function AC(l,u,p){var v=!1,j=Ao,E=u.contextType;return typeof E=="object"&&E!==null?E=_a(E):(j=Qn(u)?vs:Pn.current,v=u.contextTypes,E=(v=v!=null)?Pl(l,j):Ao),u=new u(p,E),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=_h,l.stateNode=u,u._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=j,l.__reactInternalMemoizedMaskedChildContext=E),u}function EC(l,u,p,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,v),u.state!==l&&_h.enqueueReplaceState(u,u.state,null)}function Hv(l,u,p,v){var j=l.stateNode;j.props=p,j.state=l.memoizedState,j.refs={},Ov(l);var E=u.contextType;typeof E=="object"&&E!==null?j.context=_a(E):(E=Qn(u)?vs:Pn.current,j.context=Pl(l,E)),j.state=l.memoizedState,E=u.getDerivedStateFromProps,typeof E=="function"&&(Wv(l,u,E,p),j.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(u=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),u!==j.state&&_h.enqueueReplaceState(j,j.state,null),ph(l,p,j,v),j.state=l.memoizedState),typeof j.componentDidMount=="function"&&(l.flags|=4194308)}function Dl(l,u){try{var p="",v=u;do p+=Ce(v),v=v.return;while(v);var j=p}catch(E){j=`
Error generating stack: `+E.message+`
`+E.stack}return{value:l,source:u,stack:j,digest:null}}function Vv(l,u,p){return{value:l,source:null,stack:p??null,digest:u??null}}function Gv(l,u){try{console.error(u.value)}catch(p){setTimeout(function(){throw p})}}var NB=typeof WeakMap=="function"?WeakMap:Map;function OC(l,u,p){p=Ui(-1,p),p.tag=3,p.payload={element:null};var v=u.value;return p.callback=function(){Ah||(Ah=!0,ly=v),Gv(l,u)},p}function TC(l,u,p){p=Ui(-1,p),p.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var j=u.value;p.payload=function(){return v(j)},p.callback=function(){Gv(l,u)}}var E=l.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(p.callback=function(){Gv(l,u),typeof v!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),p}function MC(l,u,p){var v=l.pingCache;if(v===null){v=l.pingCache=new NB;var j=new Set;v.set(u,j)}else j=v.get(u),j===void 0&&(j=new Set,v.set(u,j));j.has(p)||(j.add(p),l=FB.bind(null,l,u,p),u.then(l,l))}function RC(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function DC(l,u,p,v,j){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,p.flags|=131072,p.flags&=-52805,p.tag===1&&(p.alternate===null?p.tag=17:(u=Ui(-1,1),u.tag=2,To(p,u,1))),p.lanes|=1),l):(l.flags|=65536,l.lanes=j,l)}var CB=k.ReactCurrentOwner,Zn=!1;function Ln(l,u,p,v){u.child=l===null?tC(u,null,p,v):Ol(u,l.child,p,v)}function IC(l,u,p,v,j){p=p.render;var E=u.ref;return Ml(u,j),v=Lv(l,u,p,v,E,j),p=Fv(),l!==null&&!Zn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~j,zi(l,u,j)):(Tr&&p&&wv(u),u.flags|=1,Ln(l,u,v,j),u.child)}function $C(l,u,p,v,j){if(l===null){var E=p.type;return typeof E=="function"&&!py(E)&&E.defaultProps===void 0&&p.compare===null&&p.defaultProps===void 0?(u.tag=15,u.type=E,LC(l,u,E,v,j)):(l=Dh(p.type,null,v,u,u.mode,j),l.ref=u.ref,l.return=u,u.child=l)}if(E=l.child,(l.lanes&j)===0){var D=E.memoizedProps;if(p=p.compare,p=p!==null?p:Nu,p(D,v)&&l.ref===u.ref)return zi(l,u,j)}return u.flags|=1,l=Lo(E,v),l.ref=u.ref,l.return=u,u.child=l}function LC(l,u,p,v,j){if(l!==null){var E=l.memoizedProps;if(Nu(E,v)&&l.ref===u.ref)if(Zn=!1,u.pendingProps=v=E,(l.lanes&j)!==0)(l.flags&131072)!==0&&(Zn=!0);else return u.lanes=l.lanes,zi(l,u,j)}return Kv(l,u,p,v,j)}function FC(l,u,p){var v=u.pendingProps,j=v.children,E=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr($l,ua),ua|=p;else{if((p&1073741824)===0)return l=E!==null?E.baseLanes|p:p,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,wr($l,ua),ua|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=E!==null?E.baseLanes:p,wr($l,ua),ua|=v}else E!==null?(v=E.baseLanes|p,u.memoizedState=null):v=p,wr($l,ua),ua|=v;return Ln(l,u,j,p),u.child}function BC(l,u){var p=u.ref;(l===null&&p!==null||l!==null&&l.ref!==p)&&(u.flags|=512,u.flags|=2097152)}function Kv(l,u,p,v,j){var E=Qn(p)?vs:Pn.current;return E=Pl(u,E),Ml(u,j),p=Lv(l,u,p,v,E,j),v=Fv(),l!==null&&!Zn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~j,zi(l,u,j)):(Tr&&v&&wv(u),u.flags|=1,Ln(l,u,p,j),u.child)}function UC(l,u,p,v,j){if(Qn(p)){var E=!0;oh(u)}else E=!1;if(Ml(u,j),u.stateNode===null)Sh(l,u),AC(u,p,v),Hv(u,p,v,j),v=!0;else if(l===null){var D=u.stateNode,X=u.memoizedProps;D.props=X;var ne=D.context,xe=p.contextType;typeof xe=="object"&&xe!==null?xe=_a(xe):(xe=Qn(p)?vs:Pn.current,xe=Pl(u,xe));var $e=p.getDerivedStateFromProps,Be=typeof $e=="function"||typeof D.getSnapshotBeforeUpdate=="function";Be||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(X!==v||ne!==xe)&&EC(u,D,v,xe),Oo=!1;var Ie=u.memoizedState;D.state=Ie,ph(u,v,D,j),ne=u.memoizedState,X!==v||Ie!==ne||Xn.current||Oo?(typeof $e=="function"&&(Wv(u,p,$e,v),ne=u.memoizedState),(X=Oo||kC(u,p,X,v,Ie,ne,xe))?(Be||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=ne),D.props=v,D.state=ne,D.context=xe,v=X):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{D=u.stateNode,nC(l,u),X=u.memoizedProps,xe=u.type===u.elementType?X:za(u.type,X),D.props=xe,Be=u.pendingProps,Ie=D.context,ne=p.contextType,typeof ne=="object"&&ne!==null?ne=_a(ne):(ne=Qn(p)?vs:Pn.current,ne=Pl(u,ne));var et=p.getDerivedStateFromProps;($e=typeof et=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(X!==Be||Ie!==ne)&&EC(u,D,v,ne),Oo=!1,Ie=u.memoizedState,D.state=Ie,ph(u,v,D,j);var it=u.memoizedState;X!==Be||Ie!==it||Xn.current||Oo?(typeof et=="function"&&(Wv(u,p,et,v),it=u.memoizedState),(xe=Oo||kC(u,p,xe,v,Ie,it,ne)||!1)?($e||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,it,ne),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,it,ne)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||X===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=it),D.props=v,D.state=it,D.context=ne,v=xe):(typeof D.componentDidUpdate!="function"||X===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||X===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=1024),v=!1)}return Yv(l,u,p,v,E,j)}function Yv(l,u,p,v,j,E){BC(l,u);var D=(u.flags&128)!==0;if(!v&&!D)return j&&VN(u,p,!1),zi(l,u,E);v=u.stateNode,CB.current=u;var X=D&&typeof p.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&D?(u.child=Ol(u,l.child,null,E),u.child=Ol(u,null,X,E)):Ln(l,u,X,E),u.memoizedState=v.state,j&&VN(u,p,!0),u.child}function zC(l){var u=l.stateNode;u.pendingContext?WN(l,u.pendingContext,u.pendingContext!==u.context):u.context&&WN(l,u.context,!1),Tv(l,u.containerInfo)}function qC(l,u,p,v,j){return El(),Nv(j),u.flags|=256,Ln(l,u,p,v),u.child}var Jv={dehydrated:null,treeContext:null,retryLane:0};function Xv(l){return{baseLanes:l,cachePool:null,transitions:null}}function WC(l,u,p){var v=u.pendingProps,j=Ir.current,E=!1,D=(u.flags&128)!==0,X;if((X=D)||(X=l!==null&&l.memoizedState===null?!1:(j&2)!==0),X?(E=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(j|=1),wr(Ir,j&1),l===null)return Sv(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(D=v.children,l=v.fallback,E?(v=u.mode,E=u.child,D={mode:"hidden",children:D},(v&1)===0&&E!==null?(E.childLanes=0,E.pendingProps=D):E=Ih(D,v,0,null),l=Ps(l,v,p,null),E.return=u,l.return=u,E.sibling=l,u.child=E,u.child.memoizedState=Xv(p),u.memoizedState=Jv,l):Qv(u,D));if(j=l.memoizedState,j!==null&&(X=j.dehydrated,X!==null))return PB(l,u,D,v,X,j,p);if(E){E=v.fallback,D=u.mode,j=l.child,X=j.sibling;var ne={mode:"hidden",children:v.children};return(D&1)===0&&u.child!==j?(v=u.child,v.childLanes=0,v.pendingProps=ne,u.deletions=null):(v=Lo(j,ne),v.subtreeFlags=j.subtreeFlags&14680064),X!==null?E=Lo(X,E):(E=Ps(E,D,p,null),E.flags|=2),E.return=u,v.return=u,v.sibling=E,u.child=v,v=E,E=u.child,D=l.child.memoizedState,D=D===null?Xv(p):{baseLanes:D.baseLanes|p,cachePool:null,transitions:D.transitions},E.memoizedState=D,E.childLanes=l.childLanes&~p,u.memoizedState=Jv,v}return E=l.child,l=E.sibling,v=Lo(E,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=p),v.return=u,v.sibling=null,l!==null&&(p=u.deletions,p===null?(u.deletions=[l],u.flags|=16):p.push(l)),u.child=v,u.memoizedState=null,v}function Qv(l,u){return u=Ih({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function jh(l,u,p,v){return v!==null&&Nv(v),Ol(u,l.child,null,p),l=Qv(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function PB(l,u,p,v,j,E,D){if(p)return u.flags&256?(u.flags&=-257,v=Vv(Error(r(422))),jh(l,u,D,v)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(E=v.fallback,j=u.mode,v=Ih({mode:"visible",children:v.children},j,0,null),E=Ps(E,j,D,null),E.flags|=2,v.return=u,E.return=u,v.sibling=E,u.child=v,(u.mode&1)!==0&&Ol(u,l.child,null,D),u.child.memoizedState=Xv(D),u.memoizedState=Jv,E);if((u.mode&1)===0)return jh(l,u,D,null);if(j.data==="$!"){if(v=j.nextSibling&&j.nextSibling.dataset,v)var X=v.dgst;return v=X,E=Error(r(419)),v=Vv(E,v,void 0),jh(l,u,D,v)}if(X=(D&l.childLanes)!==0,Zn||X){if(v=un,v!==null){switch(D&-D){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(v.suspendedLanes|D))!==0?0:j,j!==0&&j!==E.retryLane&&(E.retryLane=j,Bi(l,j),Ha(v,l,j,-1))}return my(),v=Vv(Error(r(421))),jh(l,u,D,v)}return j.data==="$?"?(u.flags|=128,u.child=l.child,u=BB.bind(null,l),j._reactRetry=u,null):(l=E.treeContext,ca=Po(j.nextSibling),la=u,Tr=!0,Ua=null,l!==null&&(ba[wa++]=Li,ba[wa++]=Fi,ba[wa++]=ys,Li=l.id,Fi=l.overflow,ys=u),u=Qv(u,v.children),u.flags|=4096,u)}function HC(l,u,p){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Av(l.return,u,p)}function Zv(l,u,p,v,j){var E=l.memoizedState;E===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:p,tailMode:j}:(E.isBackwards=u,E.rendering=null,E.renderingStartTime=0,E.last=v,E.tail=p,E.tailMode=j)}function VC(l,u,p){var v=u.pendingProps,j=v.revealOrder,E=v.tail;if(Ln(l,u,v.children,p),v=Ir.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&HC(l,p,u);else if(l.tag===19)HC(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(wr(Ir,v),(u.mode&1)===0)u.memoizedState=null;else switch(j){case"forwards":for(p=u.child,j=null;p!==null;)l=p.alternate,l!==null&&gh(l)===null&&(j=p),p=p.sibling;p=j,p===null?(j=u.child,u.child=null):(j=p.sibling,p.sibling=null),Zv(u,!1,j,p,E);break;case"backwards":for(p=null,j=u.child,u.child=null;j!==null;){if(l=j.alternate,l!==null&&gh(l)===null){u.child=j;break}l=j.sibling,j.sibling=p,p=j,j=l}Zv(u,!0,p,null,E);break;case"together":Zv(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Sh(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function zi(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),js|=u.lanes,(p&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,p=Lo(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=Lo(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function kB(l,u,p){switch(u.tag){case 3:zC(u),El();break;case 5:oC(u);break;case 1:Qn(u.type)&&oh(u);break;case 4:Tv(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,j=u.memoizedProps.value;wr(fh,v._currentValue),v._currentValue=j;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(wr(Ir,Ir.current&1),u.flags|=128,null):(p&u.child.childLanes)!==0?WC(l,u,p):(wr(Ir,Ir.current&1),l=zi(l,u,p),l!==null?l.sibling:null);wr(Ir,Ir.current&1);break;case 19:if(v=(p&u.childLanes)!==0,(l.flags&128)!==0){if(v)return VC(l,u,p);u.flags|=128}if(j=u.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),wr(Ir,Ir.current),v)break;return null;case 22:case 23:return u.lanes=0,FC(l,u,p)}return zi(l,u,p)}var GC,ey,KC,YC;GC=function(l,u){for(var p=u.child;p!==null;){if(p.tag===5||p.tag===6)l.appendChild(p.stateNode);else if(p.tag!==4&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return;p=p.return}p.sibling.return=p.return,p=p.sibling}},ey=function(){},KC=function(l,u,p,v){var j=l.memoizedProps;if(j!==v){l=u.stateNode,ws(pi.current);var E=null;switch(p){case"input":j=ze(l,j),v=ze(l,v),E=[];break;case"select":j=F({},j,{value:void 0}),v=F({},v,{value:void 0}),E=[];break;case"textarea":j=er(l,j),v=er(l,v),E=[];break;default:typeof j.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=nh)}Fe(p,v);var D;p=null;for(xe in j)if(!v.hasOwnProperty(xe)&&j.hasOwnProperty(xe)&&j[xe]!=null)if(xe==="style"){var X=j[xe];for(D in X)X.hasOwnProperty(D)&&(p||(p={}),p[D]="")}else xe!=="dangerouslySetInnerHTML"&&xe!=="children"&&xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&xe!=="autoFocus"&&(a.hasOwnProperty(xe)?E||(E=[]):(E=E||[]).push(xe,null));for(xe in v){var ne=v[xe];if(X=j!=null?j[xe]:void 0,v.hasOwnProperty(xe)&&ne!==X&&(ne!=null||X!=null))if(xe==="style")if(X){for(D in X)!X.hasOwnProperty(D)||ne&&ne.hasOwnProperty(D)||(p||(p={}),p[D]="");for(D in ne)ne.hasOwnProperty(D)&&X[D]!==ne[D]&&(p||(p={}),p[D]=ne[D])}else p||(E||(E=[]),E.push(xe,p)),p=ne;else xe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,X=X?X.__html:void 0,ne!=null&&X!==ne&&(E=E||[]).push(xe,ne)):xe==="children"?typeof ne!="string"&&typeof ne!="number"||(E=E||[]).push(xe,""+ne):xe!=="suppressContentEditableWarning"&&xe!=="suppressHydrationWarning"&&(a.hasOwnProperty(xe)?(ne!=null&&xe==="onScroll"&&Pr("scroll",l),E||X===ne||(E=[])):(E=E||[]).push(xe,ne))}p&&(E=E||[]).push("style",p);var xe=E;(u.updateQueue=xe)&&(u.flags|=4)}},YC=function(l,u,p,v){p!==v&&(u.flags|=4)};function Bu(l,u){if(!Tr)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function An(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,v=0;if(u)for(var j=l.child;j!==null;)p|=j.lanes|j.childLanes,v|=j.subtreeFlags&14680064,v|=j.flags&14680064,j.return=l,j=j.sibling;else for(j=l.child;j!==null;)p|=j.lanes|j.childLanes,v|=j.subtreeFlags,v|=j.flags,j.return=l,j=j.sibling;return l.subtreeFlags|=v,l.childLanes=p,u}function AB(l,u,p){var v=u.pendingProps;switch(_v(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(u),null;case 1:return Qn(u.type)&&ih(),An(u),null;case 3:return v=u.stateNode,Rl(),kr(Xn),kr(Pn),Dv(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(uh(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Ua!==null&&(dy(Ua),Ua=null))),ey(l,u),An(u),null;case 5:Mv(u);var j=ws(Du.current);if(p=u.type,l!==null&&u.stateNode!=null)KC(l,u,p,v,j),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return An(u),null}if(l=ws(pi.current),uh(u)){v=u.stateNode,p=u.type;var E=u.memoizedProps;switch(v[mi]=u,v[Eu]=E,l=(u.mode&1)!==0,p){case"dialog":Pr("cancel",v),Pr("close",v);break;case"iframe":case"object":case"embed":Pr("load",v);break;case"video":case"audio":for(j=0;j<Pu.length;j++)Pr(Pu[j],v);break;case"source":Pr("error",v);break;case"img":case"image":case"link":Pr("error",v),Pr("load",v);break;case"details":Pr("toggle",v);break;case"input":re(v,E),Pr("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!E.multiple},Pr("invalid",v);break;case"textarea":xr(v,E),Pr("invalid",v)}Fe(p,E),j=null;for(var D in E)if(E.hasOwnProperty(D)){var X=E[D];D==="children"?typeof X=="string"?v.textContent!==X&&(E.suppressHydrationWarning!==!0&&rh(v.textContent,X,l),j=["children",X]):typeof X=="number"&&v.textContent!==""+X&&(E.suppressHydrationWarning!==!0&&rh(v.textContent,X,l),j=["children",""+X]):a.hasOwnProperty(D)&&X!=null&&D==="onScroll"&&Pr("scroll",v)}switch(p){case"input":Me(v),Pt(v,E,!0);break;case"textarea":Me(v),qr(v);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(v.onclick=nh)}v=j,u.updateQueue=v,v!==null&&(u.flags|=4)}else{D=j.nodeType===9?j:j.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Kn(p)),l==="http://www.w3.org/1999/xhtml"?p==="script"?(l=D.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=D.createElement(p,{is:v.is}):(l=D.createElement(p),p==="select"&&(D=l,v.multiple?D.multiple=!0:v.size&&(D.size=v.size))):l=D.createElementNS(l,p),l[mi]=u,l[Eu]=v,GC(l,u,!1,!1),u.stateNode=l;e:{switch(D=Ze(p,v),p){case"dialog":Pr("cancel",l),Pr("close",l),j=v;break;case"iframe":case"object":case"embed":Pr("load",l),j=v;break;case"video":case"audio":for(j=0;j<Pu.length;j++)Pr(Pu[j],l);j=v;break;case"source":Pr("error",l),j=v;break;case"img":case"image":case"link":Pr("error",l),Pr("load",l),j=v;break;case"details":Pr("toggle",l),j=v;break;case"input":re(l,v),j=ze(l,v),Pr("invalid",l);break;case"option":j=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},j=F({},v,{value:void 0}),Pr("invalid",l);break;case"textarea":xr(l,v),j=er(l,v),Pr("invalid",l);break;default:j=v}Fe(p,j),X=j;for(E in X)if(X.hasOwnProperty(E)){var ne=X[E];E==="style"?Ye(l,ne):E==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Wr(l,ne)):E==="children"?typeof ne=="string"?(p!=="textarea"||ne!=="")&&Hr(l,ne):typeof ne=="number"&&Hr(l,""+ne):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?ne!=null&&E==="onScroll"&&Pr("scroll",l):ne!=null&&P(l,E,ne,D))}switch(p){case"input":Me(l),Pt(l,v,!1);break;case"textarea":Me(l),qr(l);break;case"option":v.value!=null&&l.setAttribute("value",""+Ae(v.value));break;case"select":l.multiple=!!v.multiple,E=v.value,E!=null?bt(l,!!v.multiple,E,!1):v.defaultValue!=null&&bt(l,!!v.multiple,v.defaultValue,!0);break;default:typeof j.onClick=="function"&&(l.onclick=nh)}switch(p){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return An(u),null;case 6:if(l&&u.stateNode!=null)YC(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(p=ws(Du.current),ws(pi.current),uh(u)){if(v=u.stateNode,p=u.memoizedProps,v[mi]=u,(E=v.nodeValue!==p)&&(l=la,l!==null))switch(l.tag){case 3:rh(v.nodeValue,p,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&rh(v.nodeValue,p,(l.mode&1)!==0)}E&&(u.flags|=4)}else v=(p.nodeType===9?p:p.ownerDocument).createTextNode(v),v[mi]=u,u.stateNode=v}return An(u),null;case 13:if(kr(Ir),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Tr&&ca!==null&&(u.mode&1)!==0&&(u.flags&128)===0)QN(),El(),u.flags|=98560,E=!1;else if(E=uh(u),v!==null&&v.dehydrated!==null){if(l===null){if(!E)throw Error(r(318));if(E=u.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[mi]=u}else El(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;An(u),E=!1}else Ua!==null&&(dy(Ua),Ua=null),E=!0;if(!E)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=p,u):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Ir.current&1)!==0?tn===0&&(tn=3):my())),u.updateQueue!==null&&(u.flags|=4),An(u),null);case 4:return Rl(),ey(l,u),l===null&&ku(u.stateNode.containerInfo),An(u),null;case 10:return kv(u.type._context),An(u),null;case 17:return Qn(u.type)&&ih(),An(u),null;case 19:if(kr(Ir),E=u.memoizedState,E===null)return An(u),null;if(v=(u.flags&128)!==0,D=E.rendering,D===null)if(v)Bu(E,!1);else{if(tn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(D=gh(l),D!==null){for(u.flags|=128,Bu(E,!1),v=D.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=p,p=u.child;p!==null;)E=p,l=v,E.flags&=14680066,D=E.alternate,D===null?(E.childLanes=0,E.lanes=l,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=D.childLanes,E.lanes=D.lanes,E.child=D.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=D.memoizedProps,E.memoizedState=D.memoizedState,E.updateQueue=D.updateQueue,E.type=D.type,l=D.dependencies,E.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),p=p.sibling;return wr(Ir,Ir.current&1|2),u.child}l=l.sibling}E.tail!==null&&Ue()>Ll&&(u.flags|=128,v=!0,Bu(E,!1),u.lanes=4194304)}else{if(!v)if(l=gh(D),l!==null){if(u.flags|=128,v=!0,p=l.updateQueue,p!==null&&(u.updateQueue=p,u.flags|=4),Bu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!D.alternate&&!Tr)return An(u),null}else 2*Ue()-E.renderingStartTime>Ll&&p!==1073741824&&(u.flags|=128,v=!0,Bu(E,!1),u.lanes=4194304);E.isBackwards?(D.sibling=u.child,u.child=D):(p=E.last,p!==null?p.sibling=D:u.child=D,E.last=D)}return E.tail!==null?(u=E.tail,E.rendering=u,E.tail=u.sibling,E.renderingStartTime=Ue(),u.sibling=null,p=Ir.current,wr(Ir,v?p&1|2:p&1),u):(An(u),null);case 22:case 23:return hy(),v=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(ua&1073741824)!==0&&(An(u),u.subtreeFlags&6&&(u.flags|=8192)):An(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function EB(l,u){switch(_v(u),u.tag){case 1:return Qn(u.type)&&ih(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Rl(),kr(Xn),kr(Pn),Dv(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return Mv(u),null;case 13:if(kr(Ir),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));El()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return kr(Ir),null;case 4:return Rl(),null;case 10:return kv(u.type._context),null;case 22:case 23:return hy(),null;case 24:return null;default:return null}}var Nh=!1,En=!1,OB=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Il(l,u){var p=l.ref;if(p!==null)if(typeof p=="function")try{p(null)}catch(v){Br(l,u,v)}else p.current=null}function ty(l,u,p){try{p()}catch(v){Br(l,u,v)}}var JC=!1;function TB(l,u){if(hv=Hf,l=kN(),iv(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var v=p.getSelection&&p.getSelection();if(v&&v.rangeCount!==0){p=v.anchorNode;var j=v.anchorOffset,E=v.focusNode;v=v.focusOffset;try{p.nodeType,E.nodeType}catch{p=null;break e}var D=0,X=-1,ne=-1,xe=0,$e=0,Be=l,Ie=null;t:for(;;){for(var et;Be!==p||j!==0&&Be.nodeType!==3||(X=D+j),Be!==E||v!==0&&Be.nodeType!==3||(ne=D+v),Be.nodeType===3&&(D+=Be.nodeValue.length),(et=Be.firstChild)!==null;)Ie=Be,Be=et;for(;;){if(Be===l)break t;if(Ie===p&&++xe===j&&(X=D),Ie===E&&++$e===v&&(ne=D),(et=Be.nextSibling)!==null)break;Be=Ie,Ie=Be.parentNode}Be=et}p=X===-1||ne===-1?null:{start:X,end:ne}}else p=null}p=p||{start:0,end:0}}else p=null;for(mv={focusedElem:l,selectionRange:p},Hf=!1,nt=u;nt!==null;)if(u=nt,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,nt=l;else for(;nt!==null;){u=nt;try{var it=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(it!==null){var ut=it.memoizedProps,Vr=it.memoizedState,me=u.stateNode,le=me.getSnapshotBeforeUpdate(u.elementType===u.type?ut:za(u.type,ut),Vr);me.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var ve=u.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(qe){Br(u,u.return,qe)}if(l=u.sibling,l!==null){l.return=u.return,nt=l;break}nt=u.return}return it=JC,JC=!1,it}function Uu(l,u,p){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var j=v=v.next;do{if((j.tag&l)===l){var E=j.destroy;j.destroy=void 0,E!==void 0&&ty(u,p,E)}j=j.next}while(j!==v)}}function Ch(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&l)===l){var v=p.create;p.destroy=v()}p=p.next}while(p!==u)}}function ry(l){var u=l.ref;if(u!==null){var p=l.stateNode;switch(l.tag){case 5:l=p;break;default:l=p}typeof u=="function"?u(l):u.current=l}}function XC(l){var u=l.alternate;u!==null&&(l.alternate=null,XC(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[mi],delete u[Eu],delete u[yv],delete u[mB],delete u[pB])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function QC(l){return l.tag===5||l.tag===3||l.tag===4}function ZC(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||QC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function ny(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?p.nodeType===8?p.parentNode.insertBefore(l,u):p.insertBefore(l,u):(p.nodeType===8?(u=p.parentNode,u.insertBefore(l,p)):(u=p,u.appendChild(l)),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=nh));else if(v!==4&&(l=l.child,l!==null))for(ny(l,u,p),l=l.sibling;l!==null;)ny(l,u,p),l=l.sibling}function ay(l,u,p){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(ay(l,u,p),l=l.sibling;l!==null;)ay(l,u,p),l=l.sibling}var xn=null,qa=!1;function Mo(l,u,p){for(p=p.child;p!==null;)eP(l,u,p),p=p.sibling}function eP(l,u,p){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Qt,p)}catch{}switch(p.tag){case 5:En||Il(p,u);case 6:var v=xn,j=qa;xn=null,Mo(l,u,p),xn=v,qa=j,xn!==null&&(qa?(l=xn,p=p.stateNode,l.nodeType===8?l.parentNode.removeChild(p):l.removeChild(p)):xn.removeChild(p.stateNode));break;case 18:xn!==null&&(qa?(l=xn,p=p.stateNode,l.nodeType===8?vv(l.parentNode,p):l.nodeType===1&&vv(l,p),So(l)):vv(xn,p.stateNode));break;case 4:v=xn,j=qa,xn=p.stateNode.containerInfo,qa=!0,Mo(l,u,p),xn=v,qa=j;break;case 0:case 11:case 14:case 15:if(!En&&(v=p.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){j=v=v.next;do{var E=j,D=E.destroy;E=E.tag,D!==void 0&&((E&2)!==0||(E&4)!==0)&&ty(p,u,D),j=j.next}while(j!==v)}Mo(l,u,p);break;case 1:if(!En&&(Il(p,u),v=p.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=p.memoizedProps,v.state=p.memoizedState,v.componentWillUnmount()}catch(X){Br(p,u,X)}Mo(l,u,p);break;case 21:Mo(l,u,p);break;case 22:p.mode&1?(En=(v=En)||p.memoizedState!==null,Mo(l,u,p),En=v):Mo(l,u,p);break;default:Mo(l,u,p)}}function tP(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var p=l.stateNode;p===null&&(p=l.stateNode=new OB),u.forEach(function(v){var j=UB.bind(null,l,v);p.has(v)||(p.add(v),v.then(j,j))})}}function Wa(l,u){var p=u.deletions;if(p!==null)for(var v=0;v<p.length;v++){var j=p[v];try{var E=l,D=u,X=D;e:for(;X!==null;){switch(X.tag){case 5:xn=X.stateNode,qa=!1;break e;case 3:xn=X.stateNode.containerInfo,qa=!0;break e;case 4:xn=X.stateNode.containerInfo,qa=!0;break e}X=X.return}if(xn===null)throw Error(r(160));eP(E,D,j),xn=null,qa=!1;var ne=j.alternate;ne!==null&&(ne.return=null),j.return=null}catch(xe){Br(j,u,xe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)rP(u,l),u=u.sibling}function rP(l,u){var p=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Wa(u,l),vi(l),v&4){try{Uu(3,l,l.return),Ch(3,l)}catch(ut){Br(l,l.return,ut)}try{Uu(5,l,l.return)}catch(ut){Br(l,l.return,ut)}}break;case 1:Wa(u,l),vi(l),v&512&&p!==null&&Il(p,p.return);break;case 5:if(Wa(u,l),vi(l),v&512&&p!==null&&Il(p,p.return),l.flags&32){var j=l.stateNode;try{Hr(j,"")}catch(ut){Br(l,l.return,ut)}}if(v&4&&(j=l.stateNode,j!=null)){var E=l.memoizedProps,D=p!==null?p.memoizedProps:E,X=l.type,ne=l.updateQueue;if(l.updateQueue=null,ne!==null)try{X==="input"&&E.type==="radio"&&E.name!=null&&Ct(j,E),Ze(X,D);var xe=Ze(X,E);for(D=0;D<ne.length;D+=2){var $e=ne[D],Be=ne[D+1];$e==="style"?Ye(j,Be):$e==="dangerouslySetInnerHTML"?Wr(j,Be):$e==="children"?Hr(j,Be):P(j,$e,Be,xe)}switch(X){case"input":Vt(j,E);break;case"textarea":qt(j,E);break;case"select":var Ie=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!E.multiple;var et=E.value;et!=null?bt(j,!!E.multiple,et,!1):Ie!==!!E.multiple&&(E.defaultValue!=null?bt(j,!!E.multiple,E.defaultValue,!0):bt(j,!!E.multiple,E.multiple?[]:"",!1))}j[Eu]=E}catch(ut){Br(l,l.return,ut)}}break;case 6:if(Wa(u,l),vi(l),v&4){if(l.stateNode===null)throw Error(r(162));j=l.stateNode,E=l.memoizedProps;try{j.nodeValue=E}catch(ut){Br(l,l.return,ut)}}break;case 3:if(Wa(u,l),vi(l),v&4&&p!==null&&p.memoizedState.isDehydrated)try{So(u.containerInfo)}catch(ut){Br(l,l.return,ut)}break;case 4:Wa(u,l),vi(l);break;case 13:Wa(u,l),vi(l),j=l.child,j.flags&8192&&(E=j.memoizedState!==null,j.stateNode.isHidden=E,!E||j.alternate!==null&&j.alternate.memoizedState!==null||(sy=Ue())),v&4&&tP(l);break;case 22:if($e=p!==null&&p.memoizedState!==null,l.mode&1?(En=(xe=En)||$e,Wa(u,l),En=xe):Wa(u,l),vi(l),v&8192){if(xe=l.memoizedState!==null,(l.stateNode.isHidden=xe)&&!$e&&(l.mode&1)!==0)for(nt=l,$e=l.child;$e!==null;){for(Be=nt=$e;nt!==null;){switch(Ie=nt,et=Ie.child,Ie.tag){case 0:case 11:case 14:case 15:Uu(4,Ie,Ie.return);break;case 1:Il(Ie,Ie.return);var it=Ie.stateNode;if(typeof it.componentWillUnmount=="function"){v=Ie,p=Ie.return;try{u=v,it.props=u.memoizedProps,it.state=u.memoizedState,it.componentWillUnmount()}catch(ut){Br(v,p,ut)}}break;case 5:Il(Ie,Ie.return);break;case 22:if(Ie.memoizedState!==null){iP(Be);continue}}et!==null?(et.return=Ie,nt=et):iP(Be)}$e=$e.sibling}e:for($e=null,Be=l;;){if(Be.tag===5){if($e===null){$e=Be;try{j=Be.stateNode,xe?(E=j.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(X=Be.stateNode,ne=Be.memoizedProps.style,D=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,X.style.display=Se("display",D))}catch(ut){Br(l,l.return,ut)}}}else if(Be.tag===6){if($e===null)try{Be.stateNode.nodeValue=xe?"":Be.memoizedProps}catch(ut){Br(l,l.return,ut)}}else if((Be.tag!==22&&Be.tag!==23||Be.memoizedState===null||Be===l)&&Be.child!==null){Be.child.return=Be,Be=Be.child;continue}if(Be===l)break e;for(;Be.sibling===null;){if(Be.return===null||Be.return===l)break e;$e===Be&&($e=null),Be=Be.return}$e===Be&&($e=null),Be.sibling.return=Be.return,Be=Be.sibling}}break;case 19:Wa(u,l),vi(l),v&4&&tP(l);break;case 21:break;default:Wa(u,l),vi(l)}}function vi(l){var u=l.flags;if(u&2){try{e:{for(var p=l.return;p!==null;){if(QC(p)){var v=p;break e}p=p.return}throw Error(r(160))}switch(v.tag){case 5:var j=v.stateNode;v.flags&32&&(Hr(j,""),v.flags&=-33);var E=ZC(l);ay(l,E,j);break;case 3:case 4:var D=v.stateNode.containerInfo,X=ZC(l);ny(l,X,D);break;default:throw Error(r(161))}}catch(ne){Br(l,l.return,ne)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function MB(l,u,p){nt=l,nP(l)}function nP(l,u,p){for(var v=(l.mode&1)!==0;nt!==null;){var j=nt,E=j.child;if(j.tag===22&&v){var D=j.memoizedState!==null||Nh;if(!D){var X=j.alternate,ne=X!==null&&X.memoizedState!==null||En;X=Nh;var xe=En;if(Nh=D,(En=ne)&&!xe)for(nt=j;nt!==null;)D=nt,ne=D.child,D.tag===22&&D.memoizedState!==null?oP(j):ne!==null?(ne.return=D,nt=ne):oP(j);for(;E!==null;)nt=E,nP(E),E=E.sibling;nt=j,Nh=X,En=xe}aP(l)}else(j.subtreeFlags&8772)!==0&&E!==null?(E.return=j,nt=E):aP(l)}}function aP(l){for(;nt!==null;){var u=nt;if((u.flags&8772)!==0){var p=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:En||Ch(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!En)if(p===null)v.componentDidMount();else{var j=u.elementType===u.type?p.memoizedProps:za(u.type,p.memoizedProps);v.componentDidUpdate(j,p.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var E=u.updateQueue;E!==null&&iC(u,E,v);break;case 3:var D=u.updateQueue;if(D!==null){if(p=null,u.child!==null)switch(u.child.tag){case 5:p=u.child.stateNode;break;case 1:p=u.child.stateNode}iC(u,D,p)}break;case 5:var X=u.stateNode;if(p===null&&u.flags&4){p=X;var ne=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&p.focus();break;case"img":ne.src&&(p.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var xe=u.alternate;if(xe!==null){var $e=xe.memoizedState;if($e!==null){var Be=$e.dehydrated;Be!==null&&So(Be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}En||u.flags&512&&ry(u)}catch(Ie){Br(u,u.return,Ie)}}if(u===l){nt=null;break}if(p=u.sibling,p!==null){p.return=u.return,nt=p;break}nt=u.return}}function iP(l){for(;nt!==null;){var u=nt;if(u===l){nt=null;break}var p=u.sibling;if(p!==null){p.return=u.return,nt=p;break}nt=u.return}}function oP(l){for(;nt!==null;){var u=nt;try{switch(u.tag){case 0:case 11:case 15:var p=u.return;try{Ch(4,u)}catch(ne){Br(u,p,ne)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var j=u.return;try{v.componentDidMount()}catch(ne){Br(u,j,ne)}}var E=u.return;try{ry(u)}catch(ne){Br(u,E,ne)}break;case 5:var D=u.return;try{ry(u)}catch(ne){Br(u,D,ne)}}}catch(ne){Br(u,u.return,ne)}if(u===l){nt=null;break}var X=u.sibling;if(X!==null){X.return=u.return,nt=X;break}nt=u.return}}var RB=Math.ceil,Ph=k.ReactCurrentDispatcher,iy=k.ReactCurrentOwner,Sa=k.ReactCurrentBatchConfig,tr=0,un=null,Yr=null,bn=0,ua=0,$l=ko(0),tn=0,zu=null,js=0,kh=0,oy=0,qu=null,ea=null,sy=0,Ll=1/0,qi=null,Ah=!1,ly=null,Ro=null,Eh=!1,Do=null,Oh=0,Wu=0,cy=null,Th=-1,Mh=0;function Fn(){return(tr&6)!==0?Ue():Th!==-1?Th:Th=Ue()}function Io(l){return(l.mode&1)===0?1:(tr&2)!==0&&bn!==0?bn&-bn:vB.transition!==null?(Mh===0&&(Mh=ct()),Mh):(l=Re,l!==0||(l=window.event,l=l===void 0?16:lN(l.type)),l)}function Ha(l,u,p,v){if(50<Wu)throw Wu=0,cy=null,Error(r(185));Ee(l,p,v),((tr&2)===0||l!==un)&&(l===un&&((tr&2)===0&&(kh|=p),tn===4&&$o(l,bn)),ta(l,v),p===1&&tr===0&&(u.mode&1)===0&&(Ll=Ue()+500,sh&&Eo()))}function ta(l,u){var p=l.callbackNode;fe(l,u);var v=he(l,l===un?bn:0);if(v===0)p!==null&&Xe(p),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(p!=null&&Xe(p),u===1)l.tag===0?gB(lP.bind(null,l)):GN(lP.bind(null,l)),fB(function(){(tr&6)===0&&Eo()}),p=null;else{switch($t(v)){case 1:p=Or;break;case 4:p=ln;break;case 16:p=dr;break;case 536870912:p=Jt;break;default:p=dr}p=gP(p,sP.bind(null,l))}l.callbackPriority=u,l.callbackNode=p}}function sP(l,u){if(Th=-1,Mh=0,(tr&6)!==0)throw Error(r(327));var p=l.callbackNode;if(Fl()&&l.callbackNode!==p)return null;var v=he(l,l===un?bn:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||u)u=Rh(l,v);else{u=v;var j=tr;tr|=2;var E=uP();(un!==l||bn!==u)&&(qi=null,Ll=Ue()+500,Ns(l,u));do try{$B();break}catch(X){cP(l,X)}while(!0);Pv(),Ph.current=E,tr=j,Yr!==null?u=0:(un=null,bn=0,u=tn)}if(u!==0){if(u===2&&(j=we(l),j!==0&&(v=j,u=uy(l,j))),u===1)throw p=zu,Ns(l,0),$o(l,v),ta(l,Ue()),p;if(u===6)$o(l,v);else{if(j=l.current.alternate,(v&30)===0&&!DB(j)&&(u=Rh(l,v),u===2&&(E=we(l),E!==0&&(v=E,u=uy(l,E))),u===1))throw p=zu,Ns(l,0),$o(l,v),ta(l,Ue()),p;switch(l.finishedWork=j,l.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:Cs(l,ea,qi);break;case 3:if($o(l,v),(v&130023424)===v&&(u=sy+500-Ue(),10<u)){if(he(l,0)!==0)break;if(j=l.suspendedLanes,(j&v)!==v){Fn(),l.pingedLanes|=l.suspendedLanes&j;break}l.timeoutHandle=gv(Cs.bind(null,l,ea,qi),u);break}Cs(l,ea,qi);break;case 4:if($o(l,v),(v&4194240)===v)break;for(u=l.eventTimes,j=-1;0<v;){var D=31-It(v);E=1<<D,D=u[D],D>j&&(j=D),v&=~E}if(v=j,v=Ue()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*RB(v/1960))-v,10<v){l.timeoutHandle=gv(Cs.bind(null,l,ea,qi),v);break}Cs(l,ea,qi);break;case 5:Cs(l,ea,qi);break;default:throw Error(r(329))}}}return ta(l,Ue()),l.callbackNode===p?sP.bind(null,l):null}function uy(l,u){var p=qu;return l.current.memoizedState.isDehydrated&&(Ns(l,u).flags|=256),l=Rh(l,u),l!==2&&(u=ea,ea=p,u!==null&&dy(u)),l}function dy(l){ea===null?ea=l:ea.push.apply(ea,l)}function DB(l){for(var u=l;;){if(u.flags&16384){var p=u.updateQueue;if(p!==null&&(p=p.stores,p!==null))for(var v=0;v<p.length;v++){var j=p[v],E=j.getSnapshot;j=j.value;try{if(!Ba(E(),j))return!1}catch{return!1}}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function $o(l,u){for(u&=~oy,u&=~kh,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var p=31-It(u),v=1<<p;l[p]=-1,u&=~v}}function lP(l){if((tr&6)!==0)throw Error(r(327));Fl();var u=he(l,0);if((u&1)===0)return ta(l,Ue()),null;var p=Rh(l,u);if(l.tag!==0&&p===2){var v=we(l);v!==0&&(u=v,p=uy(l,v))}if(p===1)throw p=zu,Ns(l,0),$o(l,u),ta(l,Ue()),p;if(p===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Cs(l,ea,qi),ta(l,Ue()),null}function fy(l,u){var p=tr;tr|=1;try{return l(u)}finally{tr=p,tr===0&&(Ll=Ue()+500,sh&&Eo())}}function Ss(l){Do!==null&&Do.tag===0&&(tr&6)===0&&Fl();var u=tr;tr|=1;var p=Sa.transition,v=Re;try{if(Sa.transition=null,Re=1,l)return l()}finally{Re=v,Sa.transition=p,tr=u,(tr&6)===0&&Eo()}}function hy(){ua=$l.current,kr($l)}function Ns(l,u){l.finishedWork=null,l.finishedLanes=0;var p=l.timeoutHandle;if(p!==-1&&(l.timeoutHandle=-1,dB(p)),Yr!==null)for(p=Yr.return;p!==null;){var v=p;switch(_v(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&ih();break;case 3:Rl(),kr(Xn),kr(Pn),Dv();break;case 5:Mv(v);break;case 4:Rl();break;case 13:kr(Ir);break;case 19:kr(Ir);break;case 10:kv(v.type._context);break;case 22:case 23:hy()}p=p.return}if(un=l,Yr=l=Lo(l.current,null),bn=ua=u,tn=0,zu=null,oy=kh=js=0,ea=qu=null,bs!==null){for(u=0;u<bs.length;u++)if(p=bs[u],v=p.interleaved,v!==null){p.interleaved=null;var j=v.next,E=p.pending;if(E!==null){var D=E.next;E.next=j,v.next=D}p.pending=v}bs=null}return l}function cP(l,u){do{var p=Yr;try{if(Pv(),vh.current=wh,yh){for(var v=$r.memoizedState;v!==null;){var j=v.queue;j!==null&&(j.pending=null),v=v.next}yh=!1}if(_s=0,cn=en=$r=null,Iu=!1,$u=0,iy.current=null,p===null||p.return===null){tn=1,zu=u,Yr=null;break}e:{var E=l,D=p.return,X=p,ne=u;if(u=bn,X.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var xe=ne,$e=X,Be=$e.tag;if(($e.mode&1)===0&&(Be===0||Be===11||Be===15)){var Ie=$e.alternate;Ie?($e.updateQueue=Ie.updateQueue,$e.memoizedState=Ie.memoizedState,$e.lanes=Ie.lanes):($e.updateQueue=null,$e.memoizedState=null)}var et=RC(D);if(et!==null){et.flags&=-257,DC(et,D,X,E,u),et.mode&1&&MC(E,xe,u),u=et,ne=xe;var it=u.updateQueue;if(it===null){var ut=new Set;ut.add(ne),u.updateQueue=ut}else it.add(ne);break e}else{if((u&1)===0){MC(E,xe,u),my();break e}ne=Error(r(426))}}else if(Tr&&X.mode&1){var Vr=RC(D);if(Vr!==null){(Vr.flags&65536)===0&&(Vr.flags|=256),DC(Vr,D,X,E,u),Nv(Dl(ne,X));break e}}E=ne=Dl(ne,X),tn!==4&&(tn=2),qu===null?qu=[E]:qu.push(E),E=D;do{switch(E.tag){case 3:E.flags|=65536,u&=-u,E.lanes|=u;var me=OC(E,ne,u);aC(E,me);break e;case 1:X=ne;var le=E.type,ve=E.stateNode;if((E.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(Ro===null||!Ro.has(ve)))){E.flags|=65536,u&=-u,E.lanes|=u;var qe=TC(E,X,u);aC(E,qe);break e}}E=E.return}while(E!==null)}fP(p)}catch(ft){u=ft,Yr===p&&p!==null&&(Yr=p=p.return);continue}break}while(!0)}function uP(){var l=Ph.current;return Ph.current=wh,l===null?wh:l}function my(){(tn===0||tn===3||tn===2)&&(tn=4),un===null||(js&268435455)===0&&(kh&268435455)===0||$o(un,bn)}function Rh(l,u){var p=tr;tr|=2;var v=uP();(un!==l||bn!==u)&&(qi=null,Ns(l,u));do try{IB();break}catch(j){cP(l,j)}while(!0);if(Pv(),tr=p,Ph.current=v,Yr!==null)throw Error(r(261));return un=null,bn=0,tn}function IB(){for(;Yr!==null;)dP(Yr)}function $B(){for(;Yr!==null&&!jt();)dP(Yr)}function dP(l){var u=pP(l.alternate,l,ua);l.memoizedProps=l.pendingProps,u===null?fP(l):Yr=u,iy.current=null}function fP(l){var u=l;do{var p=u.alternate;if(l=u.return,(u.flags&32768)===0){if(p=AB(p,u,ua),p!==null){Yr=p;return}}else{if(p=EB(p,u),p!==null){p.flags&=32767,Yr=p;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{tn=6,Yr=null;return}}if(u=u.sibling,u!==null){Yr=u;return}Yr=u=l}while(u!==null);tn===0&&(tn=5)}function Cs(l,u,p){var v=Re,j=Sa.transition;try{Sa.transition=null,Re=1,LB(l,u,p,v)}finally{Sa.transition=j,Re=v}return null}function LB(l,u,p,v){do Fl();while(Do!==null);if((tr&6)!==0)throw Error(r(327));p=l.finishedWork;var j=l.finishedLanes;if(p===null)return null;if(l.finishedWork=null,l.finishedLanes=0,p===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var E=p.lanes|p.childLanes;if(be(l,E),l===un&&(Yr=un=null,bn=0),(p.subtreeFlags&2064)===0&&(p.flags&2064)===0||Eh||(Eh=!0,gP(dr,function(){return Fl(),null})),E=(p.flags&15990)!==0,(p.subtreeFlags&15990)!==0||E){E=Sa.transition,Sa.transition=null;var D=Re;Re=1;var X=tr;tr|=4,iy.current=null,TB(l,p),rP(p,l),aB(mv),Hf=!!hv,mv=hv=null,l.current=p,MB(p),Tt(),tr=X,Re=D,Sa.transition=E}else l.current=p;if(Eh&&(Eh=!1,Do=l,Oh=j),E=l.pendingLanes,E===0&&(Ro=null),Ht(p.stateNode),ta(l,Ue()),u!==null)for(v=l.onRecoverableError,p=0;p<u.length;p++)j=u[p],v(j.value,{componentStack:j.stack,digest:j.digest});if(Ah)throw Ah=!1,l=ly,ly=null,l;return(Oh&1)!==0&&l.tag!==0&&Fl(),E=l.pendingLanes,(E&1)!==0?l===cy?Wu++:(Wu=0,cy=l):Wu=0,Eo(),null}function Fl(){if(Do!==null){var l=$t(Oh),u=Sa.transition,p=Re;try{if(Sa.transition=null,Re=16>l?16:l,Do===null)var v=!1;else{if(l=Do,Do=null,Oh=0,(tr&6)!==0)throw Error(r(331));var j=tr;for(tr|=4,nt=l.current;nt!==null;){var E=nt,D=E.child;if((nt.flags&16)!==0){var X=E.deletions;if(X!==null){for(var ne=0;ne<X.length;ne++){var xe=X[ne];for(nt=xe;nt!==null;){var $e=nt;switch($e.tag){case 0:case 11:case 15:Uu(8,$e,E)}var Be=$e.child;if(Be!==null)Be.return=$e,nt=Be;else for(;nt!==null;){$e=nt;var Ie=$e.sibling,et=$e.return;if(XC($e),$e===xe){nt=null;break}if(Ie!==null){Ie.return=et,nt=Ie;break}nt=et}}}var it=E.alternate;if(it!==null){var ut=it.child;if(ut!==null){it.child=null;do{var Vr=ut.sibling;ut.sibling=null,ut=Vr}while(ut!==null)}}nt=E}}if((E.subtreeFlags&2064)!==0&&D!==null)D.return=E,nt=D;else e:for(;nt!==null;){if(E=nt,(E.flags&2048)!==0)switch(E.tag){case 0:case 11:case 15:Uu(9,E,E.return)}var me=E.sibling;if(me!==null){me.return=E.return,nt=me;break e}nt=E.return}}var le=l.current;for(nt=le;nt!==null;){D=nt;var ve=D.child;if((D.subtreeFlags&2064)!==0&&ve!==null)ve.return=D,nt=ve;else e:for(D=le;nt!==null;){if(X=nt,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:Ch(9,X)}}catch(ft){Br(X,X.return,ft)}if(X===D){nt=null;break e}var qe=X.sibling;if(qe!==null){qe.return=X.return,nt=qe;break e}nt=X.return}}if(tr=j,Eo(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Qt,l)}catch{}v=!0}return v}finally{Re=p,Sa.transition=u}}return!1}function hP(l,u,p){u=Dl(p,u),u=OC(l,u,1),l=To(l,u,1),u=Fn(),l!==null&&(Ee(l,1,u),ta(l,u))}function Br(l,u,p){if(l.tag===3)hP(l,l,p);else for(;u!==null;){if(u.tag===3){hP(u,l,p);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ro===null||!Ro.has(v))){l=Dl(p,l),l=TC(u,l,1),u=To(u,l,1),l=Fn(),u!==null&&(Ee(u,1,l),ta(u,l));break}}u=u.return}}function FB(l,u,p){var v=l.pingCache;v!==null&&v.delete(u),u=Fn(),l.pingedLanes|=l.suspendedLanes&p,un===l&&(bn&p)===p&&(tn===4||tn===3&&(bn&130023424)===bn&&500>Ue()-sy?Ns(l,0):oy|=p),ta(l,u)}function mP(l,u){u===0&&((l.mode&1)===0?u=1:(u=se,se<<=1,(se&130023424)===0&&(se=4194304)));var p=Fn();l=Bi(l,u),l!==null&&(Ee(l,u,p),ta(l,p))}function BB(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),mP(l,p)}function UB(l,u){var p=0;switch(l.tag){case 13:var v=l.stateNode,j=l.memoizedState;j!==null&&(p=j.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),mP(l,p)}var pP;pP=function(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps||Xn.current)Zn=!0;else{if((l.lanes&p)===0&&(u.flags&128)===0)return Zn=!1,kB(l,u,p);Zn=(l.flags&131072)!==0}else Zn=!1,Tr&&(u.flags&1048576)!==0&&KN(u,ch,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Sh(l,u),l=u.pendingProps;var j=Pl(u,Pn.current);Ml(u,p),j=Lv(null,u,v,l,j,p);var E=Fv();return u.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Qn(v)?(E=!0,oh(u)):E=!1,u.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,Ov(u),j.updater=_h,u.stateNode=j,j._reactInternals=u,Hv(u,v,l,p),u=Yv(null,u,v,!0,E,p)):(u.tag=0,Tr&&E&&wv(u),Ln(null,u,j,p),u=u.child),u;case 16:v=u.elementType;e:{switch(Sh(l,u),l=u.pendingProps,j=v._init,v=j(v._payload),u.type=v,j=u.tag=qB(v),l=za(v,l),j){case 0:u=Kv(null,u,v,l,p);break e;case 1:u=UC(null,u,v,l,p);break e;case 11:u=IC(null,u,v,l,p);break e;case 14:u=$C(null,u,v,za(v.type,l),p);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,j=u.pendingProps,j=u.elementType===v?j:za(v,j),Kv(l,u,v,j,p);case 1:return v=u.type,j=u.pendingProps,j=u.elementType===v?j:za(v,j),UC(l,u,v,j,p);case 3:e:{if(zC(u),l===null)throw Error(r(387));v=u.pendingProps,E=u.memoizedState,j=E.element,nC(l,u),ph(u,v,null,p);var D=u.memoizedState;if(v=D.element,E.isDehydrated)if(E={element:v,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=E,u.memoizedState=E,u.flags&256){j=Dl(Error(r(423)),u),u=qC(l,u,v,p,j);break e}else if(v!==j){j=Dl(Error(r(424)),u),u=qC(l,u,v,p,j);break e}else for(ca=Po(u.stateNode.containerInfo.firstChild),la=u,Tr=!0,Ua=null,p=tC(u,null,v,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(El(),v===j){u=zi(l,u,p);break e}Ln(l,u,v,p)}u=u.child}return u;case 5:return oC(u),l===null&&Sv(u),v=u.type,j=u.pendingProps,E=l!==null?l.memoizedProps:null,D=j.children,pv(v,j)?D=null:E!==null&&pv(v,E)&&(u.flags|=32),BC(l,u),Ln(l,u,D,p),u.child;case 6:return l===null&&Sv(u),null;case 13:return WC(l,u,p);case 4:return Tv(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Ol(u,null,v,p):Ln(l,u,v,p),u.child;case 11:return v=u.type,j=u.pendingProps,j=u.elementType===v?j:za(v,j),IC(l,u,v,j,p);case 7:return Ln(l,u,u.pendingProps,p),u.child;case 8:return Ln(l,u,u.pendingProps.children,p),u.child;case 12:return Ln(l,u,u.pendingProps.children,p),u.child;case 10:e:{if(v=u.type._context,j=u.pendingProps,E=u.memoizedProps,D=j.value,wr(fh,v._currentValue),v._currentValue=D,E!==null)if(Ba(E.value,D)){if(E.children===j.children&&!Xn.current){u=zi(l,u,p);break e}}else for(E=u.child,E!==null&&(E.return=u);E!==null;){var X=E.dependencies;if(X!==null){D=E.child;for(var ne=X.firstContext;ne!==null;){if(ne.context===v){if(E.tag===1){ne=Ui(-1,p&-p),ne.tag=2;var xe=E.updateQueue;if(xe!==null){xe=xe.shared;var $e=xe.pending;$e===null?ne.next=ne:(ne.next=$e.next,$e.next=ne),xe.pending=ne}}E.lanes|=p,ne=E.alternate,ne!==null&&(ne.lanes|=p),Av(E.return,p,u),X.lanes|=p;break}ne=ne.next}}else if(E.tag===10)D=E.type===u.type?null:E.child;else if(E.tag===18){if(D=E.return,D===null)throw Error(r(341));D.lanes|=p,X=D.alternate,X!==null&&(X.lanes|=p),Av(D,p,u),D=E.sibling}else D=E.child;if(D!==null)D.return=E;else for(D=E;D!==null;){if(D===u){D=null;break}if(E=D.sibling,E!==null){E.return=D.return,D=E;break}D=D.return}E=D}Ln(l,u,j.children,p),u=u.child}return u;case 9:return j=u.type,v=u.pendingProps.children,Ml(u,p),j=_a(j),v=v(j),u.flags|=1,Ln(l,u,v,p),u.child;case 14:return v=u.type,j=za(v,u.pendingProps),j=za(v.type,j),$C(l,u,v,j,p);case 15:return LC(l,u,u.type,u.pendingProps,p);case 17:return v=u.type,j=u.pendingProps,j=u.elementType===v?j:za(v,j),Sh(l,u),u.tag=1,Qn(v)?(l=!0,oh(u)):l=!1,Ml(u,p),AC(u,v,j),Hv(u,v,j,p),Yv(null,u,v,!0,l,p);case 19:return VC(l,u,p);case 22:return FC(l,u,p)}throw Error(r(156,u.tag))};function gP(l,u){return Oe(l,u)}function zB(l,u,p,v){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Na(l,u,p,v){return new zB(l,u,p,v)}function py(l){return l=l.prototype,!(!l||!l.isReactComponent)}function qB(l){if(typeof l=="function")return py(l)?1:0;if(l!=null){if(l=l.$$typeof,l===B)return 11;if(l===Q)return 14}return 2}function Lo(l,u){var p=l.alternate;return p===null?(p=Na(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&14680064,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p}function Dh(l,u,p,v,j,E){var D=2;if(v=l,typeof l=="function")py(l)&&(D=1);else if(typeof l=="string")D=5;else e:switch(l){case T:return Ps(p.children,j,E,u);case R:D=8,j|=8;break;case I:return l=Na(12,p,u,j|2),l.elementType=I,l.lanes=E,l;case Z:return l=Na(13,p,u,j),l.elementType=Z,l.lanes=E,l;case te:return l=Na(19,p,u,j),l.elementType=te,l.lanes=E,l;case ie:return Ih(p,j,E,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case U:D=10;break e;case O:D=9;break e;case B:D=11;break e;case Q:D=14;break e;case Y:D=16,v=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=Na(D,p,u,j),u.elementType=l,u.type=v,u.lanes=E,u}function Ps(l,u,p,v){return l=Na(7,l,v,u),l.lanes=p,l}function Ih(l,u,p,v){return l=Na(22,l,v,u),l.elementType=ie,l.lanes=p,l.stateNode={isHidden:!1},l}function gy(l,u,p){return l=Na(6,l,null,u),l.lanes=p,l}function vy(l,u,p){return u=Na(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function WB(l,u,p,v,j){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ge(0),this.expirationTimes=Ge(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ge(0),this.identifierPrefix=v,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function yy(l,u,p,v,j,E,D,X,ne){return l=new WB(l,u,p,X,ne),u===1?(u=1,E===!0&&(u|=8)):u=0,E=Na(3,null,null,u),l.current=E,E.stateNode=l,E.memoizedState={element:v,isDehydrated:p,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ov(E),l}function HB(l,u,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:v==null?null:""+v,children:l,containerInfo:u,implementation:p}}function vP(l){if(!l)return Ao;l=l._reactInternals;e:{if(H(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Qn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var p=l.type;if(Qn(p))return HN(l,p,u)}return u}function yP(l,u,p,v,j,E,D,X,ne){return l=yy(p,v,!0,l,j,E,D,X,ne),l.context=vP(null),p=l.current,v=Fn(),j=Io(p),E=Ui(v,j),E.callback=u??null,To(p,E,j),l.current.lanes=j,Ee(l,j,v),ta(l,v),l}function $h(l,u,p,v){var j=u.current,E=Fn(),D=Io(j);return p=vP(p),u.context===null?u.context=p:u.pendingContext=p,u=Ui(E,D),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=To(j,u,D),l!==null&&(Ha(l,j,D,E),mh(l,j,D)),D}function Lh(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function xP(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function xy(l,u){xP(l,u),(l=l.alternate)&&xP(l,u)}function VB(){return null}var bP=typeof reportError=="function"?reportError:function(l){console.error(l)};function by(l){this._internalRoot=l}Fh.prototype.render=by.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));$h(l,u,null,null)},Fh.prototype.unmount=by.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Ss(function(){$h(null,l,null,null)}),u[Ii]=null}};function Fh(l){this._internalRoot=l}Fh.prototype.unstable_scheduleHydration=function(l){if(l){var u=ir();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Fa.length&&u!==0&&u<Fa[p].priority;p++);Fa.splice(p,0,l),p===0&&yu(l)}};function wy(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Bh(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function wP(){}function GB(l,u,p,v,j){if(j){if(typeof v=="function"){var E=v;v=function(){var xe=Lh(D);E.call(xe)}}var D=yP(u,v,l,0,null,!1,!1,"",wP);return l._reactRootContainer=D,l[Ii]=D.current,ku(l.nodeType===8?l.parentNode:l),Ss(),D}for(;j=l.lastChild;)l.removeChild(j);if(typeof v=="function"){var X=v;v=function(){var xe=Lh(ne);X.call(xe)}}var ne=yy(l,0,!1,null,null,!1,!1,"",wP);return l._reactRootContainer=ne,l[Ii]=ne.current,ku(l.nodeType===8?l.parentNode:l),Ss(function(){$h(u,ne,p,v)}),ne}function Uh(l,u,p,v,j){var E=p._reactRootContainer;if(E){var D=E;if(typeof j=="function"){var X=j;j=function(){var ne=Lh(D);X.call(ne)}}$h(u,D,l,j)}else D=GB(p,u,l,j,v);return Lh(D)}hr=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var p=ue(u.pendingLanes);p!==0&&(Xt(u,p|1),ta(u,Ue()),(tr&6)===0&&(Ll=Ue()+500,Eo()))}break;case 13:Ss(function(){var v=Bi(l,1);if(v!==null){var j=Fn();Ha(v,l,1,j)}}),xy(l,1)}},Zt=function(l){if(l.tag===13){var u=Bi(l,134217728);if(u!==null){var p=Fn();Ha(u,l,134217728,p)}xy(l,134217728)}},gr=function(l){if(l.tag===13){var u=Io(l),p=Bi(l,u);if(p!==null){var v=Fn();Ha(p,l,u,v)}xy(l,u)}},ir=function(){return Re},Zr=function(l,u){var p=Re;try{return Re=l,u()}finally{Re=p}},kt=function(l,u,p){switch(u){case"input":if(Vt(l,p),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<p.length;u++){var v=p[u];if(v!==l&&v.form===l.form){var j=ah(v);if(!j)throw Error(r(90));pe(v),Vt(v,j)}}}break;case"textarea":qt(l,p);break;case"select":u=p.value,u!=null&&bt(l,!!p.multiple,u,!1)}},Fr=fy,ye=Ss;var KB={usingClientEntryPoint:!1,Events:[Ou,Nl,ah,br,Lr,fy]},Hu={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YB={bundleType:Hu.bundleType,version:Hu.version,rendererPackageName:Hu.rendererPackageName,rendererConfig:Hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Le(l),l===null?null:l.stateNode},findFiberByHostInstance:Hu.findFiberByHostInstance||VB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{Qt=zh.inject(YB),Wt=zh}catch{}}return ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KB,ra.createPortal=function(l,u){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wy(u))throw Error(r(200));return HB(l,u,null,p)},ra.createRoot=function(l,u){if(!wy(l))throw Error(r(299));var p=!1,v="",j=bP;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(j=u.onRecoverableError)),u=yy(l,1,!1,null,null,p,!1,v,j),l[Ii]=u.current,ku(l.nodeType===8?l.parentNode:l),new by(u)},ra.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=Le(u),l=l===null?null:l.stateNode,l},ra.flushSync=function(l){return Ss(l)},ra.hydrate=function(l,u,p){if(!Bh(u))throw Error(r(200));return Uh(null,l,u,!0,p)},ra.hydrateRoot=function(l,u,p){if(!wy(l))throw Error(r(405));var v=p!=null&&p.hydratedSources||null,j=!1,E="",D=bP;if(p!=null&&(p.unstable_strictMode===!0&&(j=!0),p.identifierPrefix!==void 0&&(E=p.identifierPrefix),p.onRecoverableError!==void 0&&(D=p.onRecoverableError)),u=yP(u,null,l,1,p??null,j,!1,E,D),l[Ii]=u.current,ku(l),v)for(l=0;l<v.length;l++)p=v[l],j=p._getVersion,j=j(p._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[p,j]:u.mutableSourceEagerHydrationData.push(p,j);return new Fh(u)},ra.render=function(l,u,p){if(!Bh(u))throw Error(r(200));return Uh(null,l,u,!1,p)},ra.unmountComponentAtNode=function(l){if(!Bh(l))throw Error(r(40));return l._reactRootContainer?(Ss(function(){Uh(null,null,l,!1,function(){l._reactRootContainer=null,l[Ii]=null})}),!0):!1},ra.unstable_batchedUpdates=fy,ra.unstable_renderSubtreeIntoContainer=function(l,u,p,v){if(!Bh(p))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Uh(l,u,p,!1,v)},ra.version="18.3.1-next-f1338f8080-20240426",ra}var AP;function FR(){if(AP)return Sy.exports;AP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sy.exports=aU(),Sy.exports}var EP;function iU(){if(EP)return Wh;EP=1;var e=FR();return Wh.createRoot=e.createRoot,Wh.hydrateRoot=e.hydrateRoot,Wh}var oU=iU();const sU=cr(oU);var Gu={},OP;function lU(){if(OP)return Gu;OP=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.parse=s,Gu.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function s(g,w){const b=new i,x=g.length;if(x<2)return b;const _=(w==null?void 0:w.decode)||h;let S=0;do{const N=g.indexOf("=",S);if(N===-1)break;const P=g.indexOf(";",S),k=P===-1?x:P;if(N>k){S=g.lastIndexOf(";",N-1)+1;continue}const C=c(g,S,N),A=d(g,N,C),T=g.slice(C,A);if(b[T]===void 0){let R=c(g,N+1,k),I=d(g,k,R);const U=_(g.slice(R,I));b[T]=U}S=k+1}while(S<x);return b}function c(g,w,b){do{const x=g.charCodeAt(w);if(x!==32&&x!==9)return w}while(++w<b);return b}function d(g,w,b){for(;w>b;){const x=g.charCodeAt(--w);if(x!==32&&x!==9)return w+1}return b}function f(g,w,b){const x=(b==null?void 0:b.encode)||encodeURIComponent;if(!e.test(g))throw new TypeError(`argument name is invalid: ${g}`);const _=x(w);if(!t.test(_))throw new TypeError(`argument val is invalid: ${w}`);let S=g+"="+_;if(!b)return S;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);S+="; Max-Age="+b.maxAge}if(b.domain){if(!r.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);S+="; Domain="+b.domain}if(b.path){if(!n.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);S+="; Path="+b.path}if(b.expires){if(!m(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);S+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(S+="; HttpOnly"),b.secure&&(S+="; Secure"),b.partitioned&&(S+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return S}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function m(g){return a.call(g)==="[object Date]"}return Gu}lU();var TP="popstate";function cU(e={}){function t(n,a){let{pathname:i,search:s,hash:c}=n.location;return Qw("",{pathname:i,search:s,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Pd(a)}return dU(t,r,null,e)}function Rr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function si(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uU(){return Math.random().toString(36).substring(2,10)}function MP(e,t){return{usr:e.state,key:e.key,idx:t}}function Qw(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Yc(t):t,state:r,key:t&&t.key||n||uU()}}function Pd({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function dU(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,c="POP",d=null,f=h();f==null&&(f=0,s.replaceState({...s.state,idx:f},""));function h(){return(s.state||{idx:null}).idx}function m(){c="POP";let _=h(),S=_==null?null:_-f;f=_,d&&d({action:c,location:x.location,delta:S})}function g(_,S){c="PUSH";let N=Qw(x.location,_,S);f=h()+1;let P=MP(N,f),k=x.createHref(N);try{s.pushState(P,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(k)}i&&d&&d({action:c,location:x.location,delta:1})}function w(_,S){c="REPLACE";let N=Qw(x.location,_,S);f=h();let P=MP(N,f),k=x.createHref(N);s.replaceState(P,"",k),i&&d&&d({action:c,location:x.location,delta:0})}function b(_){return fU(_)}let x={get action(){return c},get location(){return e(a,s)},listen(_){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(TP,m),d=_,()=>{a.removeEventListener(TP,m),d=null}},createHref(_){return t(a,_)},createURL:b,encodeLocation(_){let S=b(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:w,go(_){return s.go(_)}};return x}function fU(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Rr(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Pd(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function BR(e,t,r="/"){return hU(e,t,r,!1)}function hU(e,t,r,n){let a=typeof t=="string"?Yc(t):t,i=io(a.pathname||"/",r);if(i==null)return null;let s=UR(e);mU(s);let c=null;for(let d=0;c==null&&d<s.length;++d){let f=NU(i);c=jU(s[d],f,n)}return c}function UR(e,t=[],r=[],n=""){let a=(i,s,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};d.relativePath.startsWith("/")&&(Rr(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=Zi([n,d.relativePath]),h=r.concat(d);i.children&&i.children.length>0&&(Rr(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),UR(i.children,t,h,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:wU(f,i.index),routesMeta:h})};return e.forEach((i,s)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,s);else for(let d of zR(i.path))a(i,s,d)}),t}function zR(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=zR(n.join("/")),c=[];return c.push(...s.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...s),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function mU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:_U(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var pU=/^:[\w-]+$/,gU=3,vU=2,yU=1,xU=10,bU=-2,RP=e=>e==="*";function wU(e,t){let r=e.split("/"),n=r.length;return r.some(RP)&&(n+=bU),t&&(n+=vU),r.filter(a=>!RP(a)).reduce((a,i)=>a+(pU.test(i)?gU:i===""?yU:xU),n)}function _U(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function jU(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",s=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=Pm({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},h),g=d.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=Pm({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:Zi([i,m.pathname]),pathnameBase:AU(Zi([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=Zi([i,m.pathnameBase]))}return s}function Pm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=SU(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((f,{paramName:h,isOptional:m},g)=>{if(h==="*"){let b=c[g]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const w=c[g];return m&&!w?f[h]=void 0:f[h]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:s,pattern:e}}function SU(e,t=!1,r=!0){si(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function NU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function io(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function CU(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Yc(e):e;return{pathname:r?r.startsWith("/")?r:PU(r,t):t,search:EU(n),hash:OU(a)}}function PU(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Py(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nj(e){let t=kU(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function aj(e,t,r,n=!1){let a;typeof e=="string"?a=Yc(e):(a={...e},Rr(!a.pathname||!a.pathname.includes("?"),Py("?","pathname","search",a)),Rr(!a.pathname||!a.pathname.includes("#"),Py("#","pathname","hash",a)),Rr(!a.search||!a.search.includes("#"),Py("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,c;if(s==null)c=r;else{let m=t.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}c=m>=0?t[m]:"/"}let d=CU(a,c),f=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}var Zi=e=>e.join("/").replace(/\/\/+/g,"/"),AU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),EU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function TU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var qR=["POST","PUT","PATCH","DELETE"];new Set(qR);var MU=["GET",...qR];new Set(MU);var Jc=y.createContext(null);Jc.displayName="DataRouter";var Wp=y.createContext(null);Wp.displayName="DataRouterState";var WR=y.createContext({isTransitioning:!1});WR.displayName="ViewTransition";var RU=y.createContext(new Map);RU.displayName="Fetchers";var DU=y.createContext(null);DU.displayName="Await";var ui=y.createContext(null);ui.displayName="Navigation";var wf=y.createContext(null);wf.displayName="Location";var di=y.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var ij=y.createContext(null);ij.displayName="RouteError";function IU(e,{relative:t}={}){Rr(Xc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(ui),{hash:a,pathname:i,search:s}=_f(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:Zi([r,i])),n.createHref({pathname:c,search:s,hash:a})}function Xc(){return y.useContext(wf)!=null}function ho(){return Rr(Xc(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(wf).location}var HR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function VR(e){y.useContext(ui).static||y.useLayoutEffect(e)}function ll(){let{isDataRoute:e}=y.useContext(di);return e?XU():$U()}function $U(){Rr(Xc(),"useNavigate() may be used only in the context of a <Router> component.");let e=y.useContext(Jc),{basename:t,navigator:r}=y.useContext(ui),{matches:n}=y.useContext(di),{pathname:a}=ho(),i=JSON.stringify(nj(n)),s=y.useRef(!1);return VR(()=>{s.current=!0}),y.useCallback((d,f={})=>{if(si(s.current,HR),!s.current)return;if(typeof d=="number"){r.go(d);return}let h=aj(d,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Zi([t,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[t,r,i,a,e])}var LU=y.createContext(null);function FU(e){let t=y.useContext(di).outlet;return t&&y.createElement(LU.Provider,{value:e},t)}function _f(e,{relative:t}={}){let{matches:r}=y.useContext(di),{pathname:n}=ho(),a=JSON.stringify(nj(r));return y.useMemo(()=>aj(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function BU(e,t){return GR(e,t)}function GR(e,t,r,n){var S;Rr(Xc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=y.useContext(ui),{matches:i}=y.useContext(di),s=i[i.length-1],c=s?s.params:{},d=s?s.pathname:"/",f=s?s.pathnameBase:"/",h=s&&s.route;{let N=h&&h.path||"";KR(d,!h||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let m=ho(),g;if(t){let N=typeof t=="string"?Yc(t):t;Rr(f==="/"||((S=N.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${N.pathname}" was given in the \`location\` prop.`),g=N}else g=m;let w=g.pathname||"/",b=w;if(f!=="/"){let N=f.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=BR(e,{pathname:b});si(h||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),si(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=HU(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},c,N.params),pathname:Zi([f,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Zi([f,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,r,n);return t&&_?y.createElement(wf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},_):_}function UU(){let e=JU(),t=TU(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:a},r):null,s)}var zU=y.createElement(UU,null),qU=class extends y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?y.createElement(di.Provider,{value:this.props.routeContext},y.createElement(ij.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WU({routeContext:e,match:t,children:r}){let n=y.useContext(Jc);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),y.createElement(di.Provider,{value:e},r)}function HU(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let d=a.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);Rr(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let s=!1,c=-1;if(r)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){s=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,f,h)=>{let m,g=!1,w=null,b=null;r&&(m=i&&f.route.id?i[f.route.id]:void 0,w=f.route.errorElement||zU,s&&(c<0&&h===0?(KR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,b=null):c===h&&(g=!0,b=f.route.hydrateFallbackElement||null)));let x=t.concat(a.slice(0,h+1)),_=()=>{let S;return m?S=w:g?S=b:f.route.Component?S=y.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,y.createElement(WU,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(qU,{location:r.location,revalidation:r.revalidation,component:w,error:m,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}function oj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VU(e){let t=y.useContext(Jc);return Rr(t,oj(e)),t}function GU(e){let t=y.useContext(Wp);return Rr(t,oj(e)),t}function KU(e){let t=y.useContext(di);return Rr(t,oj(e)),t}function sj(e){let t=KU(e),r=t.matches[t.matches.length-1];return Rr(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function YU(){return sj("useRouteId")}function JU(){var n;let e=y.useContext(ij),t=GU("useRouteError"),r=sj("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function XU(){let{router:e}=VU("useNavigate"),t=sj("useNavigate"),r=y.useRef(!1);return VR(()=>{r.current=!0}),y.useCallback(async(a,i={})=>{si(r.current,HR),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var DP={};function KR(e,t,r){!t&&!DP[e]&&(DP[e]=!0,si(!1,r))}y.memo(QU);function QU({routes:e,future:t,state:r}){return GR(e,void 0,r,t)}function km({to:e,replace:t,state:r,relative:n}){Rr(Xc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=y.useContext(ui);si(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=y.useContext(di),{pathname:s}=ho(),c=ll(),d=aj(e,nj(i),s,n==="path"),f=JSON.stringify(d);return y.useEffect(()=>{c(JSON.parse(f),{replace:t,state:r,relative:n})},[c,f,n,t,r]),null}function ZU(e){return FU(e.context)}function On(e){Rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function e8({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){Rr(!Xc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),c=y.useMemo(()=>({basename:s,navigator:a,static:i,future:{}}),[s,a,i]);typeof r=="string"&&(r=Yc(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=r,w=y.useMemo(()=>{let b=io(d,s);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:g},navigationType:n}},[s,d,f,h,m,g,n]);return si(w!=null,`<Router basename="${s}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:y.createElement(ui.Provider,{value:c},y.createElement(wf.Provider,{children:t,value:w}))}function t8({children:e,location:t}){return BU(Zw(e),t)}function Zw(e,t=[]){let r=[];return y.Children.forEach(e,(n,a)=>{if(!y.isValidElement(n))return;let i=[...t,a];if(n.type===y.Fragment){r.push.apply(r,Zw(n.props.children,i));return}Rr(n.type===On,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Zw(n.props.children,i)),r.push(s)}),r}var wm="get",_m="application/x-www-form-urlencoded";function Hp(e){return e!=null&&typeof e.tagName=="string"}function r8(e){return Hp(e)&&e.tagName.toLowerCase()==="button"}function n8(e){return Hp(e)&&e.tagName.toLowerCase()==="form"}function a8(e){return Hp(e)&&e.tagName.toLowerCase()==="input"}function i8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function o8(e,t){return e.button===0&&(!t||t==="_self")&&!i8(e)}var Hh=null;function s8(){if(Hh===null)try{new FormData(document.createElement("form"),0),Hh=!1}catch{Hh=!0}return Hh}var l8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ky(e){return e!=null&&!l8.has(e)?(si(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_m}"`),null):e}function c8(e,t){let r,n,a,i,s;if(n8(e)){let c=e.getAttribute("action");n=c?io(c,t):null,r=e.getAttribute("method")||wm,a=ky(e.getAttribute("enctype"))||_m,i=new FormData(e)}else if(r8(e)||a8(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?io(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||wm,a=ky(e.getAttribute("formenctype"))||ky(c.getAttribute("enctype"))||_m,i=new FormData(c,e),!s8()){let{name:f,type:h,value:m}=e;if(h==="image"){let g=f?`${f}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else f&&i.append(f,m)}}else{if(Hp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wm,n=null,a=_m,s=e}return i&&a==="text/plain"&&(s=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:s}}function lj(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function u8(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function d8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function f8(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let s=await u8(i,r);return s.links?s.links():[]}return[]}));return g8(n.flat(1).filter(d8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function IP(e,t,r,n,a,i){let s=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,c=(d,f)=>{var h;return r[f].pathname!==d.pathname||((h=r[f].route.path)==null?void 0:h.endsWith("*"))&&r[f].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,f)=>s(d,f)||c(d,f)):i==="data"?t.filter((d,f)=>{var m;let h=n.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(s(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let g=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function h8(e,t,{includeHydrateFallback:r}={}){return m8(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function m8(e){return[...new Set(e)]}function p8(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function g8(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(p8(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v8=new Set([100,101,204,205]);function y8(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&io(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function YR(){let e=y.useContext(Jc);return lj(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function x8(){let e=y.useContext(Wp);return lj(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var cj=y.createContext(void 0);cj.displayName="FrameworkContext";function JR(){let e=y.useContext(cj);return lj(e,"You must render this element inside a <HydratedRouter> element"),e}function b8(e,t){let r=y.useContext(cj),[n,a]=y.useState(!1),[i,s]=y.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:h,onTouchStart:m}=t,g=y.useRef(null);y.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=S=>{S.forEach(N=>{s(N.isIntersecting)})},_=new IntersectionObserver(x,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[e]),y.useEffect(()=>{if(n){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[n]);let w=()=>{a(!0)},b=()=>{a(!1),s(!1)};return r?e!=="intent"?[i,g,{}]:[i,g,{onFocus:Ku(c,w),onBlur:Ku(d,b),onMouseEnter:Ku(f,w),onMouseLeave:Ku(h,b),onTouchStart:Ku(m,w)}]:[!1,g,{}]}function Ku(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function w8({page:e,...t}){let{router:r}=YR(),n=y.useMemo(()=>BR(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?y.createElement(j8,{page:e,matches:n,...t}):null}function _8(e){let{manifest:t,routeModules:r}=JR(),[n,a]=y.useState([]);return y.useEffect(()=>{let i=!1;return f8(e,t,r).then(s=>{i||a(s)}),()=>{i=!0}},[e,t,r]),n}function j8({page:e,matches:t,...r}){let n=ho(),{manifest:a,routeModules:i}=JR(),{basename:s}=YR(),{loaderData:c,matches:d}=x8(),f=y.useMemo(()=>IP(e,t,d,a,n,"data"),[e,t,d,a,n]),h=y.useMemo(()=>IP(e,t,d,a,n,"assets"),[e,t,d,a,n]),m=y.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,x=!1;if(t.forEach(S=>{var P;let N=a.routes[S.route.id];!N||!N.hasLoader||(!f.some(k=>k.route.id===S.route.id)&&S.route.id in c&&((P=i[S.route.id])!=null&&P.shouldRevalidate)||N.hasClientLoader?x=!0:b.add(S.route.id))}),b.size===0)return[];let _=y8(e,s);return x&&b.size>0&&_.searchParams.set("_routes",t.filter(S=>b.has(S.route.id)).map(S=>S.route.id).join(",")),[_.pathname+_.search]},[s,c,n,a,f,t,e,i]),g=y.useMemo(()=>h8(h,a),[h,a]),w=_8(h);return y.createElement(y.Fragment,null,m.map(b=>y.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),g.map(b=>y.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),w.map(({key:b,link:x})=>y.createElement("link",{key:b,...x})))}function S8(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var XR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XR&&(window.__reactRouterVersion="7.6.2")}catch{}function N8({basename:e,children:t,window:r}){let n=y.useRef();n.current==null&&(n.current=cU({window:r,v5Compat:!0}));let a=n.current,[i,s]=y.useState({action:a.action,location:a.location}),c=y.useCallback(d=>{y.startTransition(()=>s(d))},[s]);return y.useLayoutEffect(()=>a.listen(c),[a,c]),y.createElement(e8,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var QR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aa=y.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:s,state:c,target:d,to:f,preventScrollReset:h,viewTransition:m,...g},w){let{basename:b}=y.useContext(ui),x=typeof f=="string"&&QR.test(f),_,S=!1;if(typeof f=="string"&&x&&(_=f,XR))try{let I=new URL(window.location.href),U=f.startsWith("//")?new URL(I.protocol+f):new URL(f),O=io(U.pathname,b);U.origin===I.origin&&O!=null?f=O+U.search+U.hash:S=!0}catch{si(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=IU(f,{relative:a}),[P,k,C]=b8(n,g),A=A8(f,{replace:s,state:c,target:d,preventScrollReset:h,relative:a,viewTransition:m});function T(I){t&&t(I),I.defaultPrevented||A(I)}let R=y.createElement("a",{...g,...C,href:_||N,onClick:S||i?t:T,ref:S8(w,k),target:d,"data-discover":!x&&r==="render"?"true":void 0});return P&&!x?y.createElement(y.Fragment,null,R,y.createElement(w8,{page:N})):R});aa.displayName="Link";var C8=y.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:s,viewTransition:c,children:d,...f},h){let m=_f(s,{relative:f.relative}),g=ho(),w=y.useContext(Wp),{navigator:b,basename:x}=y.useContext(ui),_=w!=null&&R8(m)&&c===!0,S=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,N=g.pathname,P=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(N=N.toLowerCase(),P=P?P.toLowerCase():null,S=S.toLowerCase()),P&&x&&(P=io(P,x)||P);const k=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let C=N===S||!a&&N.startsWith(S)&&N.charAt(k)==="/",A=P!=null&&(P===S||!a&&P.startsWith(S)&&P.charAt(S.length)==="/"),T={isActive:C,isPending:A,isTransitioning:_},R=C?t:void 0,I;typeof n=="function"?I=n(T):I=[n,C?"active":null,A?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let U=typeof i=="function"?i(T):i;return y.createElement(aa,{...f,"aria-current":R,className:I,ref:h,style:U,to:s,viewTransition:c},typeof d=="function"?d(T):d)});C8.displayName="NavLink";var P8=y.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:s=wm,action:c,onSubmit:d,relative:f,preventScrollReset:h,viewTransition:m,...g},w)=>{let b=T8(),x=M8(c,{relative:f}),_=s.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&QR.test(c),N=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let k=P.nativeEvent.submitter,C=(k==null?void 0:k.getAttribute("formmethod"))||s;b(k||P.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:a,state:i,relative:f,preventScrollReset:h,viewTransition:m})};return y.createElement("form",{ref:w,method:_,action:x,onSubmit:n?d:N,...g,"data-discover":!S&&e==="render"?"true":void 0})});P8.displayName="Form";function k8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZR(e){let t=y.useContext(Jc);return Rr(t,k8(e)),t}function A8(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:s}={}){let c=ll(),d=ho(),f=_f(e,{relative:i});return y.useCallback(h=>{if(o8(h,t)){h.preventDefault();let m=r!==void 0?r:Pd(d)===Pd(f);c(e,{replace:m,state:n,preventScrollReset:a,relative:i,viewTransition:s})}},[d,c,f,r,n,t,e,a,i,s])}var E8=0,O8=()=>`__${String(++E8)}__`;function T8(){let{router:e}=ZR("useSubmit"),{basename:t}=y.useContext(ui),r=YU();return y.useCallback(async(n,a={})=>{let{action:i,method:s,encType:c,formData:d,body:f}=c8(n,t);if(a.navigate===!1){let h=a.fetcherKey||O8();await e.fetch(h,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function M8(e,{relative:t}={}){let{basename:r}=y.useContext(ui),n=y.useContext(di);Rr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={..._f(e||".",{relative:t})},s=ho();if(e==null){i.search=s.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(h=>h==="")){c.delete("index"),d.filter(m=>m).forEach(m=>c.append("index",m));let h=c.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Zi([r,i.pathname])),Pd(i)}function R8(e,t={}){let r=y.useContext(WR);Rr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=ZR("useViewTransitionState"),a=_f(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=io(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=io(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Pm(a.pathname,s)!=null||Pm(a.pathname,i)!=null}[...v8];var jf=FR();const D8=cr(jf),I8="modulepreload",$8=function(e){return"/"+e},$P={},Qc=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(f){return Promise.all(f.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=s(r.map(f=>{if(f=$8(f),f in $P)return;$P[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":I8,h||(g.as="script"),g.crossOrigin="",g.href=f,d&&g.setAttribute("nonce",d),document.head.appendChild(g),h)return new Promise((w,b)=>{g.addEventListener("load",w),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return a.then(s=>{for(const c of s||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})},L8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qc(async()=>{const{default:n}=await Promise.resolve().then(()=>Zc);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class uj extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class F8 extends uj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class B8 extends uj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class U8 extends uj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var e_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(e_||(e_={}));var z8=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(h){try{f(n.next(h))}catch(m){s(m)}}function d(h){try{f(n.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(c,d)}f((n=n.apply(e,t||[])).next())})};class q8{constructor(t,{headers:r={},customFetch:n,region:a=e_.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=L8(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return z8(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:s}=r;let c={},{region:d}=r;d||(d=this.region),d&&d!=="any"&&(c["x-region"]=d);let f;s&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",f=s):typeof s=="string"?(c["Content-Type"]="text/plain",f=s):typeof FormData<"u"&&s instanceof FormData?f=s:(c["Content-Type"]="application/json",f=JSON.stringify(s)));const h=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),a),body:f}).catch(b=>{throw new F8(b)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new B8(h);if(!h.ok)throw new U8(h);let g=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield h.json():g==="application/octet-stream"?w=yield h.blob():g==="text/event-stream"?w=h:g==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null}}catch(a){return{data:null,error:a}}})}}var fn={},Bl={},Ul={},zl={},ql={},Wl={},W8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bc=W8();const H8=bc.fetch,eD=bc.fetch.bind(bc),tD=bc.Headers,V8=bc.Request,G8=bc.Response,Zc=Object.freeze(Object.defineProperty({__proto__:null,Headers:tD,Request:V8,Response:G8,default:eD,fetch:H8},Symbol.toStringTag,{value:"Module"})),K8=QB(Zc);var Vh={},LP;function rD(){if(LP)return Vh;LP=1,Object.defineProperty(Vh,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Vh.default=e,Vh}var FP;function nD(){if(FP)return Wl;FP=1;var e=Wl&&Wl.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Wl,"__esModule",{value:!0});const t=e(K8),r=e(rD());class n{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=Object.assign({},this.headers),this.headers[i]=s,this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const c=this.fetch;let d=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var h,m,g;let w=null,b=null,x=null,_=f.status,S=f.statusText;if(f.ok){if(this.method!=="HEAD"){const C=await f.text();C===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=C:b=JSON.parse(C))}const P=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),k=(m=f.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");P&&k&&k.length>1&&(x=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(w={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,x=null,_=406,S="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const P=await f.text();try{w=JSON.parse(P),Array.isArray(w)&&f.status===404&&(b=[],w=null,_=200,S="OK")}catch{f.status===404&&P===""?(_=204,S="No Content"):w={message:P}}if(w&&this.isMaybeSingle&&(!((g=w==null?void 0:w.details)===null||g===void 0)&&g.includes("0 rows"))&&(w=null,_=200,S="OK"),w&&this.shouldThrowOnError)throw new r.default(w)}return{error:w,data:b,count:x,status:_,statusText:S}});return this.shouldThrowOnError||(d=d.catch(f=>{var h,m,g;return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(m=f==null?void 0:f.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(g=f==null?void 0:f.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),d.then(i,s)}returns(){return this}overrideTypes(){return this}}return Wl.default=n,Wl}var BP;function aD(){if(BP)return ql;BP=1;var e=ql&&ql.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ql,"__esModule",{value:!0});const t=e(nD());class r extends t.default{select(a){let i=!1;const s=(a??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:i=!0,nullsFirst:s,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${a}.${i?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:s=i}={}){const c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,i,{foreignTable:s,referencedTable:c=s}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:i=!1,settings:s=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var h;const m=[a?"analyze":null,i?"verbose":null,s?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${g}"; options=${m};`,f==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ql.default=r,ql}var UP;function dj(){if(UP)return zl;UP=1;var e=zl&&zl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zl,"__esModule",{value:!0});const t=e(aD());class r extends t.default{eq(a,i){return this.url.searchParams.append(a,`eq.${i}`),this}neq(a,i){return this.url.searchParams.append(a,`neq.${i}`),this}gt(a,i){return this.url.searchParams.append(a,`gt.${i}`),this}gte(a,i){return this.url.searchParams.append(a,`gte.${i}`),this}lt(a,i){return this.url.searchParams.append(a,`lt.${i}`),this}lte(a,i){return this.url.searchParams.append(a,`lte.${i}`),this}like(a,i){return this.url.searchParams.append(a,`like.${i}`),this}likeAllOf(a,i){return this.url.searchParams.append(a,`like(all).{${i.join(",")}}`),this}likeAnyOf(a,i){return this.url.searchParams.append(a,`like(any).{${i.join(",")}}`),this}ilike(a,i){return this.url.searchParams.append(a,`ilike.${i}`),this}ilikeAllOf(a,i){return this.url.searchParams.append(a,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(a,i){return this.url.searchParams.append(a,`ilike(any).{${i.join(",")}}`),this}is(a,i){return this.url.searchParams.append(a,`is.${i}`),this}in(a,i){const s=Array.from(new Set(i)).map(c=>typeof c=="string"&&new RegExp("[,()]").test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cs.{${i.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(i)}`),this}containedBy(a,i){return typeof i=="string"?this.url.searchParams.append(a,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(a,`cd.{${i.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(i)}`),this}rangeGt(a,i){return this.url.searchParams.append(a,`sr.${i}`),this}rangeGte(a,i){return this.url.searchParams.append(a,`nxl.${i}`),this}rangeLt(a,i){return this.url.searchParams.append(a,`sl.${i}`),this}rangeLte(a,i){return this.url.searchParams.append(a,`nxr.${i}`),this}rangeAdjacent(a,i){return this.url.searchParams.append(a,`adj.${i}`),this}overlaps(a,i){return typeof i=="string"?this.url.searchParams.append(a,`ov.${i}`):this.url.searchParams.append(a,`ov.{${i.join(",")}}`),this}textSearch(a,i,{config:s,type:c}={}){let d="";c==="plain"?d="pl":c==="phrase"?d="ph":c==="websearch"&&(d="w");const f=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${d}fts${f}.${i}`),this}match(a){return Object.entries(a).forEach(([i,s])=>{this.url.searchParams.append(i,`eq.${s}`)}),this}not(a,i,s){return this.url.searchParams.append(a,`not.${i}.${s}`),this}or(a,{foreignTable:i,referencedTable:s=i}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,i,s){return this.url.searchParams.append(a,`${i}.${s}`),this}}return zl.default=r,zl}var zP;function iD(){if(zP)return Ul;zP=1;var e=Ul&&Ul.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ul,"__esModule",{value:!0});const t=e(dj());class r{constructor(a,{headers:i={},schema:s,fetch:c}){this.url=a,this.headers=i,this.schema=s,this.fetch=c}select(a,{head:i=!1,count:s}={}){const c=i?"HEAD":"GET";let d=!1;const f=(a??"*").split("").map(h=>/\s/.test(h)&&!d?"":(h==='"'&&(d=!d),h)).join("");return this.url.searchParams.set("select",f),s&&(this.headers.Prefer=`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:i,defaultToNull:s=!0}={}){const c="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),i&&d.push(`count=${i}`),s||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:i,ignoreDuplicates:s=!1,count:c,defaultToNull:d=!0}={}){const f="POST",h=[`resolution=${s?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),d||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(a)){const m=a.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(m.length>0){const g=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:i}={}){const s="PATCH",c=[];return this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),this.headers.Prefer=c.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const i="DELETE",s=[];return a&&s.push(`count=${a}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ul.default=r,Ul}var Yu={},Ju={},qP;function Y8(){return qP||(qP=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.version=void 0,Ju.version="0.0.0-automated"),Ju}var WP;function J8(){if(WP)return Yu;WP=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.DEFAULT_HEADERS=void 0;const e=Y8();return Yu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Yu}var HP;function X8(){if(HP)return Bl;HP=1;var e=Bl&&Bl.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bl,"__esModule",{value:!0});const t=e(iD()),r=e(dj()),n=J8();class a{constructor(s,{headers:c={},schema:d,fetch:f}={}){this.url=s,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),c),this.schemaName=d,this.fetch=f}from(s){const c=new URL(`${this.url}/${s}`);return new t.default(c,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new a(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,c={},{head:d=!1,get:f=!1,count:h}={}){let m;const g=new URL(`${this.url}/rpc/${s}`);let w;d||f?(m=d?"HEAD":"GET",Object.entries(c).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{g.searchParams.append(x,_)})):(m="POST",w=c);const b=Object.assign({},this.headers);return h&&(b.Prefer=`count=${h}`),new r.default({method:m,url:g,headers:b,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Bl.default=a,Bl}var VP;function Q8(){if(VP)return fn;VP=1;var e=fn&&fn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(fn,"__esModule",{value:!0}),fn.PostgrestError=fn.PostgrestBuilder=fn.PostgrestTransformBuilder=fn.PostgrestFilterBuilder=fn.PostgrestQueryBuilder=fn.PostgrestClient=void 0;const t=e(X8());fn.PostgrestClient=t.default;const r=e(iD());fn.PostgrestQueryBuilder=r.default;const n=e(dj());fn.PostgrestFilterBuilder=n.default;const a=e(aD());fn.PostgrestTransformBuilder=a.default;const i=e(nD());fn.PostgrestBuilder=i.default;const s=e(rD());return fn.PostgrestError=s.default,fn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:s.default},fn}var Z8=Q8();const ez=cr(Z8),{PostgrestClient:tz,PostgrestQueryBuilder:ime,PostgrestFilterBuilder:ome,PostgrestTransformBuilder:sme,PostgrestBuilder:lme,PostgrestError:cme}=ez;let t_;typeof window>"u"?t_=require("ws"):t_=window.WebSocket;const rz="2.11.10",nz={"X-Client-Info":`realtime-js/${rz}`},az="1.0.0",oD=1e4,iz=1e3;var dc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(dc||(dc={}));var Un;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Un||(Un={}));var Ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ja||(Ja={}));var r_;(function(e){e.websocket="websocket"})(r_||(r_={}));var Ds;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ds||(Ds={}));class oz{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let s=this.HEADER_LENGTH+2;const c=n.decode(t.slice(s,s+a));s=s+a;const d=n.decode(t.slice(s,s+i));s=s+i;const f=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}class sD{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _r;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_r||(_r={}));const GP=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=sz(s,e,t,a),i),{})},sz=(e,t,r,n)=>{const a=t.find(c=>c.name===e),i=a==null?void 0:a.type,s=r[e];return i&&!n.includes(i)?lD(i,s):n_(s)},lD=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dz(t,r)}switch(e){case _r.bool:return lz(t);case _r.float4:case _r.float8:case _r.int2:case _r.int4:case _r.int8:case _r.numeric:case _r.oid:return cz(t);case _r.json:case _r.jsonb:return uz(t);case _r.timestamp:return fz(t);case _r.abstime:case _r.date:case _r.daterange:case _r.int4range:case _r.int8range:case _r.money:case _r.reltime:case _r.text:case _r.time:case _r.timestamptz:case _r.timetz:case _r.tsrange:case _r.tstzrange:return n_(t);default:return n_(t)}},n_=e=>e,lz=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cz=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uz=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dz=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const s=e.slice(1,r);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(c=>lD(t,c))}return e},fz=e=>typeof e=="string"?e.replace(" ","T"):e,cD=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ay{constructor(t,r,n={},a=oD){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var KP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(KP||(KP={}));class vd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:s,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vd.syncState(this.state,a,i,s),this.pendingDiffs.forEach(d=>{this.state=vd.syncDiff(this.state,d,i,s)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:s,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=vd.syncDiff(this.state,a,i,s),c())}),this.onJoin((a,i,s)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:s})}),this.onLeave((a,i,s)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),s=this.transformState(r),c={},d={};return this.map(i,(f,h)=>{s[f]||(d[f]=h)}),this.map(s,(f,h)=>{const m=i[f];if(m){const g=h.map(_=>_.presence_ref),w=m.map(_=>_.presence_ref),b=h.filter(_=>w.indexOf(_.presence_ref)<0),x=m.filter(_=>g.indexOf(_.presence_ref)<0);b.length>0&&(c[f]=b),x.length>0&&(d[f]=x)}else c[f]=h}),this.syncDiff(i,{joins:c,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(c,d)=>{var f;const h=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),h.length>0){const m=t[c].map(w=>w.presence_ref),g=h.filter(w=>m.indexOf(w.presence_ref)<0);t[c].unshift(...g)}n(c,h,d)}),this.map(s,(c,d)=>{let f=t[c];if(!f)return;const h=d.map(m=>m.presence_ref);f=f.filter(m=>h.indexOf(m.presence_ref)<0),t[c]=f,a(c,f,d),f.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var YP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(YP||(YP={}));var JP;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(JP||(JP={}));var Gi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Gi||(Gi={}));class fj{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Un.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ay(this,Ja.join,this.params,this.timeout),this.rejoinTimer=new sD(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Un.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Un.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Un.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ja.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new vd(this),this.broadcastEndpointURL=cD(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:s,private:c}}=this.params;this._onError(h=>t==null?void 0:t(Gi.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(Gi.CLOSED));const d={},f={broadcast:i,presence:s,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&a!==void 0?a:[],private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){t==null||t(Gi.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,b=[];for(let x=0;x<w;x++){const _=g[x],{filter:{event:S,schema:N,table:P,filter:k}}=_,C=h&&h[x];if(C&&C.event===S&&C.schema===N&&C.table===P&&C.filter===k)b.push(Object.assign(Object.assign({},_),{id:C.id}));else{this.unsubscribe(),this.state=Un.errored,t==null||t(Gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Gi.SUBSCRIBED);return}}).receive("error",h=>{this.state=Un.errored,t==null||t(Gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,c,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Un.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ja.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new Ay(this,Ja.leave,{},t);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ay(this,t,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const s=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:h}=Ja;if(n&&[c,d,f,h].indexOf(s)>=0&&n!==this._joinRef())return;let g=this._onMessage(s,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var b,x,_;return((b=w.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(x=w.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===s}).map(w=>w.callback(g,n)):(i=this.bindings[s])===null||i===void 0||i.filter(w=>{var b,x,_,S,N,P;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in w){const k=w.id,C=(b=w.filter)===null||b===void 0?void 0:b.event;return k&&((x=r.ids)===null||x===void 0?void 0:x.includes(k))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(N=(S=w==null?void 0:w.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return k==="*"||k===((P=r==null?void 0:r.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===s}).map(w=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:x,table:_,commit_timestamp:S,type:N,errors:P}=b;g=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:S,eventType:N,new:{},old:{},errors:P}),this._getPayloadRecords(b))}w.callback(g,n)})}_isClosed(){return this.state===Un.closed}_isJoined(){return this.state===Un.joined}_isJoining(){return this.state===Un.joining}_isLeaving(){return this.state===Un.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&fj.isEqual(a.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ja.close,{},t)}_onError(t){this._on(Ja.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Un.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=GP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=GP(t.columns,t.old_record)),r}}const XP=()=>{},hz=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mz{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=nz,this.params={},this.timeout=oD,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=XP,this.ref=0,this.logger=XP,this.conn=null,this.sendBuffer=[],this.serializer=new oz,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...c)=>Qc(async()=>{const{default:d}=await Promise.resolve().then(()=>Zc);return{default:d}},void 0).then(({default:d})=>d(...c)):s=fetch,(...c)=>s(...c)},this.endPoint=`${t}/${r_.websocket}`,this.httpEndpoint=cD(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,s)=>s(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sD(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=t_),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new pz(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:az}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==t._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case dc.connecting:return Ds.Connecting;case dc.open:return Ds.Open;case dc.closing:return Ds.Closing;default:return Ds.Closed}}isConnected(){return this.connectionState()===Ds.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new fj(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,s=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Ja.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(iz,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:a,payload:i,ref:s}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,i,s)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ja.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hz],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class pz{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=dc.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class hj extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function hn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gz extends hj{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class a_ extends hj{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var vz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(h){try{f(n.next(h))}catch(m){s(m)}}function d(h){try{f(n.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(c,d)}f((n=n.apply(e,t||[])).next())})};const uD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qc(async()=>{const{default:n}=await Promise.resolve().then(()=>Zc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yz=()=>vz(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qc(()=>Promise.resolve().then(()=>Zc),void 0)).Response:Response}),i_=e=>{if(Array.isArray(e))return e.map(r=>i_(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=i_(n)}),t};var cl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(h){try{f(n.next(h))}catch(m){s(m)}}function d(h){try{f(n.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(c,d)}f((n=n.apply(e,t||[])).next())})};const Ey=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xz=(e,t,r)=>cl(void 0,void 0,void 0,function*(){const n=yield yz();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{t(new gz(Ey(a),e.status||500))}).catch(a=>{t(new a_(Ey(a),a))}):t(new a_(Ey(e),e))}),bz=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Sf(e,t,r,n,a,i){return cl(this,void 0,void 0,function*(){return new Promise((s,c)=>{e(r,bz(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>s(d)).catch(d=>xz(d,c,n))})})}function Am(e,t,r,n){return cl(this,void 0,void 0,function*(){return Sf(e,"GET",t,r,n)})}function Ho(e,t,r,n,a){return cl(this,void 0,void 0,function*(){return Sf(e,"POST",t,n,a,r)})}function wz(e,t,r,n,a){return cl(this,void 0,void 0,function*(){return Sf(e,"PUT",t,n,a,r)})}function _z(e,t,r,n){return cl(this,void 0,void 0,function*(){return Sf(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function dD(e,t,r,n,a){return cl(this,void 0,void 0,function*(){return Sf(e,"DELETE",t,n,a,r)})}var na=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(h){try{f(n.next(h))}catch(m){s(m)}}function d(h){try{f(n.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(c,d)}f((n=n.apply(e,t||[])).next())})};const jz={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},QP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sz{constructor(t,r={},n,a){this.url=t,this.headers=r,this.bucketId=n,this.fetch=uD(a)}uploadOrUpdate(t,r,n,a){return na(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},QP),a);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const d=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),d&&i.append("metadata",this.encodeMetadata(d))):(i=n,c["cache-control"]=`max-age=${s.cacheControl}`,c["content-type"]=s.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),a!=null&&a.headers&&(c=Object.assign(Object.assign({},c),a.headers));const f=this._removeEmptyFolders(r),h=this._getFinalPath(f),m=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:i,headers:c},s!=null&&s.duplex?{duplex:s.duplex}:{})),g=yield m.json();return m.ok?{data:{path:f,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(hn(i))return{data:null,error:i};throw i}})}upload(t,r,n){return na(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return na(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${s}`);c.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:QP.upsert},a),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType);const m=yield this.fetch(c.toString(),{method:"PUT",body:d,headers:h}),g=yield m.json();return m.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(d){if(hn(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return na(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ho(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),s=new URL(this.url+i.url),c=s.searchParams.get("token");if(!c)throw new hj("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:c},error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}update(t,r,n){return na(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return na(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}copy(t,r,n){return na(this,void 0,void 0,function*(){try{return{data:{path:(yield Ho(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return na(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ho(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return na(this,void 0,void 0,function*(){try{const a=yield Ho(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}download(t,r){return na(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=i?`?${i}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Am(this.fetch,`${this.url}/${a}/${c}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(hn(c))return{data:null,error:c};throw c}})}info(t){return na(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Am(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:i_(n),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}exists(t){return na(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield _z(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(hn(n)&&n instanceof a_){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}remove(t){return na(this,void 0,void 0,function*(){try{return{data:yield dD(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}list(t,r,n){return na(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},jz),r),{prefix:t||""});return{data:yield Ho(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(hn(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Nz="2.7.1",Cz={"X-Client-Info":`storage-js/${Nz}`};var Hl=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(h){try{f(n.next(h))}catch(m){s(m)}}function d(h){try{f(n.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(c,d)}f((n=n.apply(e,t||[])).next())})};class Pz{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Cz),r),this.fetch=uD(n)}listBuckets(){return Hl(this,void 0,void 0,function*(){try{return{data:yield Am(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(hn(t))return{data:null,error:t};throw t}})}getBucket(t){return Hl(this,void 0,void 0,function*(){try{return{data:yield Am(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Hl(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Hl(this,void 0,void 0,function*(){try{return{data:yield wz(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(hn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Hl(this,void 0,void 0,function*(){try{return{data:yield Ho(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Hl(this,void 0,void 0,function*(){try{return{data:yield dD(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(hn(r))return{data:null,error:r};throw r}})}}class kz extends Pz{constructor(t,r={},n){super(t,r,n)}from(t){return new Sz(this.url,this.headers,t,this.fetch)}}const Az="2.49.10";let ld="";typeof Deno<"u"?ld="deno":typeof document<"u"?ld="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ld="react-native":ld="node";const Ez={"X-Client-Info":`supabase-js-${ld}/${Az}`},Oz={headers:Ez},Tz={schema:"public"},Mz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rz={};var Dz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(h){try{f(n.next(h))}catch(m){s(m)}}function d(h){try{f(n.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(c,d)}f((n=n.apply(e,t||[])).next())})};const Iz=e=>{let t;return e?t=e:typeof fetch>"u"?t=eD:t=fetch,(...r)=>t(...r)},$z=()=>typeof Headers>"u"?tD:Headers,Lz=(e,t,r)=>{const n=Iz(r),a=$z();return(i,s)=>Dz(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:e;let f=new a(s==null?void 0:s.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},s),{headers:f}))})};var Fz=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(h){try{f(n.next(h))}catch(m){s(m)}}function d(h){try{f(n.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(c,d)}f((n=n.apply(e,t||[])).next())})};function Bz(e){return e.endsWith("/")?e:e+"/"}function Uz(e,t){var r,n;const{db:a,auth:i,realtime:s,global:c}=e,{db:d,auth:f,realtime:h,global:m}=t,g={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},h),s),global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Fz(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const fD="2.69.1",oc=30*1e3,o_=3,Oy=o_*oc,zz="http://localhost:9999",qz="supabase.auth.token",Wz={"X-Client-Info":`gotrue-js/${fD}`},s_="X-Supabase-Api-Version",hD={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vz=6e5;class mj extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gz extends mj{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Kz(e){return Rt(e)&&e.name==="AuthApiError"}class mD extends mj{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class is extends mj{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Uo extends is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yz(e){return Rt(e)&&e.name==="AuthSessionMissingError"}class Ty extends is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gh extends is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kh extends is{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jz(e){return Rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class ZP extends is{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class l_ extends is{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function My(e){return Rt(e)&&e.name==="AuthRetryableFetchError"}class ek extends is{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class yd extends is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rk=` 	
\r=`.split(""),Xz=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<rk.length;t+=1)e[rk[t].charCodeAt(0)]=-2;for(let t=0;t<tk.length;t+=1)e[tk[t].charCodeAt(0)]=t;return e})();function pD(e,t,r){const n=Xz[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function nk(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=s=>{eq(s,n,r)};for(let s=0;s<e.length;s+=1)pD(e.charCodeAt(s),a,i);return t.join("")}function Qz(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Zz(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}Qz(n,t)}}function eq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function tq(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)pD(e.charCodeAt(a),r,n);return new Uint8Array(t)}function rq(e){const t=[];return Zz(e,r=>t.push(r)),new Uint8Array(t)}function nq(e){return Math.round(Date.now()/1e3)+e}function aq(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xi=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},xd=()=>{if(!xi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function iq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const gD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qc(async()=>{const{default:n}=await Promise.resolve().then(()=>Zc);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},oq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vD=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Yh=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Jh=async(e,t)=>{await e.removeItem(t)};class Vp{constructor(){this.promise=new Vp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vp.promiseConstructor=Promise;function Ry(e){const t=e.split(".");if(t.length!==3)throw new yd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Hz.test(t[n]))throw new yd("JWT not in base64url format");return{header:JSON.parse(nk(t[0])),payload:JSON.parse(nk(t[1])),signature:tq(t[2]),raw:{header:t[0],payload:t[1]}}}async function sq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lq(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await e(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){a(s);return}}})()})}function cq(e){return("0"+e.toString(16)).substr(-2)}function uq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,cq).join("")}async function dq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function fq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await dq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vl(e,t,r=!1){const n=uq();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await vD(e,`${t}-code-verifier`,a);const i=await fq(n);return[i,n===i?"plain":"s256"]}const hq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mq(e){const t=e.headers.get(s_);if(!t||!t.match(hq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function pq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var vq=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};const Ts=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yq=[502,503,504];async function ak(e){var t;if(!oq(e))throw new l_(Ts(e),0);if(yq.includes(e.status))throw new l_(Ts(e),e.status);let r;try{r=await e.json()}catch(i){throw new mD(Ts(i),i)}let n;const a=mq(e);if(a&&a.getTime()>=hD["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new ek(Ts(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Uo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new ek(Ts(r),e.status,r.weak_password.reasons);throw new Gz(Ts(r),e.status||500,n)}const xq=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Kt(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[s_]||(i[s_]=hD["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const c=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",d=await bq(e,t,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function bq(e,t,r,n,a,i){const s=xq(t,n,a,i);let c;try{c=await e(r,Object.assign({},s))}catch(d){throw console.error(d),new l_(Ts(d),0)}if(c.ok||await ak(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(d){await ak(d)}}function zo(e){var t;let r=null;Sq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=nq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ik(e){const t=zo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Go(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function wq(e){return{data:e,error:null}}function _q(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,s=vq(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},s);return{data:{properties:c,user:d},error:null}}function jq(e){return e}function Sq(e){return e.access_token&&e.refresh_token&&e.expires_in}var Nq=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r};class Cq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=gD(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await Kt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Kt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Go})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Nq(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Kt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:_q,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Rt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Kt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Go})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,s,c,d;try{const f={nextPage:null,lastPage:0,total:0},h=await Kt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:jq});if(h.error)throw h.error;const m=await h.json(),g=(s=h.headers.get("x-total-count"))!==null&&s!==void 0?s:0,w=(d=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=x}),f.total=parseInt(g)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Rt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){try{return await Kt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Go})}catch(r){if(Rt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await Kt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Go})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Go})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await Kt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await Kt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}}const Pq={getItem:e=>xd()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{xd()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{xd()&&globalThis.localStorage.removeItem(e)}};function ok(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function kq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gl={debug:!!(globalThis&&xd()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class yD extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Aq extends yD{}async function Eq(e,t,r){Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Aq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gl.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}kq();const Oq={url:zz,storageKey:qz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function sk(e,t,r){return await r()}class kd{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=kd.nextInstanceID,kd.nextInstanceID+=1,this.instanceID>0&&xi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Oq),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Cq({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=gD(a.fetch),this.lock=a.lock||sk,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:xi()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Eq:this.lock=sk,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:xd()?this.storage=Pq:(this.memoryStorage={},this.storage=ok(this.memoryStorage)):(this.memoryStorage={},this.storage=ok(this.memoryStorage)),xi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fD}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=iq(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),xi()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Jz(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Rt(r)?{error:r}:{error:new mD("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:zo}),{data:s,error:c}=i;if(c||!s)return{data:{user:null,session:null},error:c};const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Rt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:h,password:m,options:g}=t;let w=null,b=null;this.flowType==="pkce"&&([w,b]=await Vl(this.storage,this.storageKey)),i=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:w,code_challenge_method:b},xform:zo})}else if("phone"in t){const{phone:h,password:m,options:g}=t;i=await Kt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(a=g==null?void 0:g.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:zo})}else throw new Gh("You must provide either an email or phone number and a password");const{data:s,error:c}=i;if(c||!s)return{data:{user:null,session:null},error:c};const d=s.session,f=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Rt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:s,options:c}=t;r=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ik})}else if("phone"in t){const{phone:i,password:s,options:c}=t;r=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:ik})}else throw new Gh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ty}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Yh(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:s}=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:zo});if(await Jh(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ty}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:s})}catch(i){if(Rt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:s}=t,c=await Kt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:zo}),{data:d,error:f}=c;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ty}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,s;try{if("email"in t){const{email:c,options:d}=t;let f=null,h=null;this.flowType==="pkce"&&([f,h]=await Vl(this.storage,this.storageKey));const{error:m}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:h},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:h}=await Kt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new Gh("You must provide either an email or phone number.")}catch(c){if(Rt(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:c}=await Kt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:zo});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");const d=s.session,f=s.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(a){if(Rt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Vl(this.storage,this.storageKey)),await Kt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:wq})}catch(i){if(Rt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Uo;const{error:a}=await Kt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Rt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:s}=await Kt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:s,error:c}=await Kt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:c}}throw new Gh("You must provide either an email or phone number and a type")}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Yh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Oy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,h)=>(!s&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,h))})}return{data:{session:t},error:null}}const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Go}):await this._useSession(async r=>{var n,a,i;const{data:s,error:c}=r;if(c)throw c;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Uo}:await Kt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Go})})}catch(r){if(Rt(r))return Yz(r)&&(await this._removeSession(),await Jh(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Uo;const s=a.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Vl(this.storage,this.storageKey));const{data:f,error:h}=await Kt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:Go});if(h)throw h;return s.user=f.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Rt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Uo;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:s}=Ry(t.access_token);if(s.exp&&(n=s.exp,a=n<=r),a){const{session:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Rt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:c}=r;if(c)throw c;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Uo;const{session:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Rt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!xi())throw new Kh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ZP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ZP("No code detected.");const{data:N,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:s,expires_in:c,expires_at:d,token_type:f}=t;if(!i||!c||!s||!f)throw new Kh("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(c);let g=h+m;d&&(g=parseInt(d));const w=g-h;w*1e3<=oc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${m}s`);const b=g-m;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,h);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const S={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:m,expires_at:g,refresh_token:s,token_type:f,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(Rt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Yh(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const s=(n=a.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:c}=await this.admin.signOut(s,t);if(c&&!(Kz(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Jh(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=aq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Vl(this.storage,this.storageKey,!0));try{return await Kt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Rt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var s,c,d,f,h;const{data:m,error:g}=i;if(g)throw g;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Kt(this.fetch,"GET",w,{headers:this.headers,jwt:(h=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&h!==void 0?h:void 0})});if(a)throw a;return xi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Rt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)throw s;return await Kt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lq(async a=>(a>0&&await sq(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Kt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zo})),(a,i)=>{const s=200*Math.pow(2,a);return i&&My(i)&&Date.now()+s-n<oc})}catch(n){if(this._debug(r,"error",n),Rt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),xi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Yh(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Oy;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${Oy}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),My(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Uo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vp;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new Uo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(a,"error",i),Rt(i)){const s={session:null,error:i};return My(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(s),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await vD(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Jh(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),oc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/oc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${oc}ms, refresh threshold is ${o_} ticks`),a<=o_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof yD)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Vl(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});a.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Kt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:s}=r;if(s)return{data:null,error:s};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:f}=await Kt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:s,error:c}=await Kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await Kt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],a=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:a},error:i}=t;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Ry(a.access_token);let c=null;s.aal&&(c=s.aal);let d=c;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(d="aal2");const h=s.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n||(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+Vz>Date.now()))return n;const{data:a,error:i}=await Kt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new yd("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(s=>s.kid===t),!n)throw new yd("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:w,error:b}=await this.getSession();if(b||!w.session)return{data:null,error:b};n=w.session.access_token}const{header:a,payload:i,signature:s,raw:{header:c,payload:d}}=Ry(n);if(pq(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:w}=await this.getUser(n);if(w)throw w;return{data:{claims:i,header:a,signature:s},error:null}}const f=gq(a.alg),h=await this.fetchJwk(a.kid,r),m=await crypto.subtle.importKey("jwk",h,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,s,rq(`${c}.${d}`)))throw new yd("Invalid JWT signature");return{data:{claims:i,header:a,signature:s},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}}}kd.nextInstanceID=0;const Tq=kd;class Mq extends Tq{constructor(t){super(t)}}var Rq=function(e,t,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function c(h){try{f(n.next(h))}catch(m){s(m)}}function d(h){try{f(n.throw(h))}catch(m){s(m)}}function f(h){h.done?i(h.value):a(h.value).then(c,d)}f((n=n.apply(e,t||[])).next())})};class Dq{constructor(t,r,n){var a,i,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=Bz(t),d=new URL(c);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,h={db:Tz,realtime:Rz,auth:Object.assign(Object.assign({},Mz),{storageKey:f}),global:Oz},m=Uz(n??{},h);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=m.auth)!==null&&s!==void 0?s:{},this.headers,m.global.fetch),this.fetch=Lz(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new tz(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),m.accessToken||this._listenForAuthEvents()}get functions(){return new q8(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kz(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Rq(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:s,lock:c,debug:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mq({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,flowType:s,lock:c,debug:d,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new mz(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xD=(e,t,r)=>new Dq(e,t,r),Iq="https://ikkoplkcekzstlnsohby.supabase.co",$q="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlra29wbGtjZWt6c3RsbnNvaGJ5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM0NTIxNjIsImV4cCI6MjA1OTAyODE2Mn0.VBE-j-EYd2or-6V5_nFCXMXCFaZckXj_quz2YbuyTYM",lt=xD(Iq,$q,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Lq="https://dhdaopvmwciuntdiiwnx.supabase.co",Fq="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRoZGFvcHZtd2NpdW50ZGlpd254Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDkxNDgyMjQsImV4cCI6MjA2NDcyNDIyNH0.VXtNy9TindLLQWGcAK3Cm_j0WSfJAbRCEZ2dw855EYA",Bq=xD(Lq,Fq,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),bD=y.createContext({}),Nf=()=>y.useContext(bD);function Uq({children:e}){const[t,r]=y.useState(null),[n,a]=y.useState(!0),[i,s]=y.useState(null);y.useEffect(()=>{(async()=>{try{const{data:{session:f},error:h}=await lt.auth.getSession();if(h)throw h;r((f==null?void 0:f.user)??null);const{data:{subscription:m}}=lt.auth.onAuthStateChange(async(g,w)=>{r((w==null?void 0:w.user)??null)});return()=>{m==null||m.unsubscribe()}}catch(f){console.error("Error initializing auth:",f),s(f.message)}finally{a(!1)}})()},[]);const c={signUp:async d=>{try{const{data:f,error:h}=await lt.auth.signUp(d);if(h)throw h;return{data:f,error:null}}catch(f){return console.error("Error signing up:",f),{data:null,error:f}}},signIn:async d=>{try{const{data:f,error:h}=await lt.auth.signInWithPassword(d);if(h)throw h;return{data:f,error:null}}catch(f){return console.error("Error signing in:",f),{data:null,error:f}}},signOut:async()=>{var d;try{const{error:f}=await lt.auth.signOut();if(f)throw f;return{error:null}}catch(f){return(d=f.message)!=null&&d.includes("Auth session missing")||f.name==="AuthSessionMissingError"?(console.log("Session already expired or missing - treating as successful sign out"),r(null),{error:null}):(console.error("Error signing out:",f),{error:f})}},user:t,loading:n,error:i};return o.jsx(bD.Provider,{value:c,children:!n&&e})}const Wi={},ni={on(e,t){Wi[e]=Wi[e]||[],Wi[e].push(t)},emit(e,t){(Wi[e]||[]).forEach(r=>r(t))},off(e,t){Wi[e]&&(Wi[e]=Wi[e].filter(r=>r!==t),Wi[e].length===0&&delete Wi[e])}},zq=Object.freeze(Object.defineProperty({__proto__:null,EventBus:ni},Symbol.toStringTag,{value:"Module"})),wD=y.createContext(),Kl={en:"en",he:"he"},qq={en:{home:"Dashboard",dashboard:"Dashboard",about:"About",services:"Services",contact:"Contact",chat:"Chat",allChats:"All Chats",dataGenerator:"Data Generator",nutritionPlan:"Nutrition Plan",menuCreate:"Create Meal Plan",emptyMealPlanWarning:"Empty Meal Plan Warning",emptyMealPlanMessage:"You didn't fill any of the meals. Are you sure you want to generate with no structure?",whatThisMeans:"What this means:",genericMealPlanExplanation:"The system will create a generic meal plan without your specific preferences for each meal type. For better results, consider filling in meal descriptions in the Meal Plan Structure section.",goBack:"Go Back",continueAnyway:"Continue Anyway",recommendations:"Recommendations",addRecommendation:"Add Recommendation",editRecommendation:"Edit Recommendation",recommendationsDescription:"Add personalized recommendations for this meal plan",recommendationDialogDescription:"Add personalized recommendations for this meal plan",category:"Category",priority:"Priority",title:"Title",content:"Content",generalRecommendation:"General",nutritionRecommendation:"Nutrition",exerciseRecommendation:"Exercise",lifestyleRecommendation:"Lifestyle",supplementsRecommendation:"Supplements",hydrationRecommendation:"Hydration",sleepRecommendation:"Sleep",lowPriority:"Low Priority",mediumPriority:"Medium Priority",highPriority:"High Priority",recommendationTitlePlaceholder:"Enter recommendation title",recommendationContentPlaceholder:"Enter detailed recommendation content",pleaseFillAllFields:"Please fill in all required fields",noRecommendations:"No recommendations added yet",addRecommendationsPrompt:'Click "Add Recommendation" to get started',confirmDeleteRecommendation:"Are you sure you want to delete this recommendation?",recommendationsAlsoFound:"Recommendations were also found and will be restored.",menuEdit:"Edit Meal Plan",menuView:"View Meal Plan",menuLoad:"Load Meal Plan",menuAnalysis:"Meal Plan Analysis",menus:"Meal Plans",apiMenus:"API Meal Plans",clients:"Clients",clientProfile:"Client Profile",clientMenu:"Client Meal Plan",apiClientMenu:"API Client Meal Plan",editClient:"Edit Client",users:"Clients",recipes:"Recipes",recipesPage:"Recipes",weightLogs:"Weight Logs",nutritionAnalytics:"Nutrition Analytics",menuload:"Load Meal Plan",settings:"Settings",register:"Register",login:"Login",submit:"Submit",cancel:"Cancel",save:"Save",delete:"Delete",signOut:"Sign Out",retry:"Retry",edit:"Edit",loading:"Loading...",search:"Search",close:"Close",open:"Open",next:"Next",previous:"Previous",send:"Send",upload:"Upload",download:"Download",profile:"Profile",back:"Back",continue:"Continue",confirm:"Confirm",yes:"Yes",no:"No",selectClient:"Select a client",switchLanguage:"עברית",connectionError:"Connection Error",failedToLoad:"Failed to load user data. Please try refreshing the page.",selectClientToChat:"Select Client to Chat With",chooseClientFromList:"Choose a client from your list to start chatting",selectAClient:"Select a client...",chatWith:"Chat with",clientCode:"Client Code",dailyCalories:"Daily calories",notSet:"Not set",startConversation:"Start a Conversation",chatAboutNutrition:"about their nutrition plan. You can also share food images for analysis.",noClientSelected:"No Client Selected",selectClientToStart:"Please select a client from the dropdown above to start chatting about their nutrition plan.",messageClient:"Message",imageSelected:"Image selected",uploadedFood:"Uploaded food",failedToUpload:"Failed to upload image. Please try again.",failedToSend:"Failed to send message. Please try again.",failedToLoadClients:"Failed to load clients. Please try again later.",failedToLoadClientData:"Failed to load client data. Please try again later.",enterCredentials:"Enter your credentials to access your account",email:"Email",enterEmail:"Enter your email",password:"Password",enterPassword:"Enter your password",signIn:"Sign In",signingIn:"Signing in...",dontHaveAccount:"Don't have an account?",failedToSignIn:"Failed to sign in. Please check your credentials and try again.",userManagement:"User Management",manageUserProfiles:"Manage user profiles and dietary information",searchUsers:"Search clients...",viewAndManageUsers:"View and manage all registered clients",userCode:"User Code",details:"Details",actions:"Actions",noData:"No data",noUsersFound:"No clients found",editUserInformation:"Edit User Information",editUserDescription:"Update the client's information and preferences.",addUserDescription:"Add a new client to your practice.",heightCm:"Height (cm)",weightKg:"Weight (kg)",gender:"Gender",activity:"Activity",goal:"Goal",selectGender:"Select gender",male:"Male",female:"Female",selectActivityLevel:"Select activity level",sedentary:"Sedentary (little to no exercise)",lightActivity:"Light Activity (light exercise/sports 1-3 days/week)",moderateActivity:"Moderate Activity (moderate exercise/sports 3-5 days/week)",veryActive:"Very Active (hard exercise/sports 6-7 days a week)",extraActive:"Extra Active (very hard exercise/sports & a physical job)",selectGoal:"Select goal",loseWeight:"Lose Weight",maintainWeight:"Maintain Weight",gainWeight:"Gain Weight",saveChanges:"Save Changes",clientManagement:"Client Management",manageClientProfiles:"Manage your client profiles and information",addNewClient:"Add New Client",searchClients:"Search clients by name, email, code, or phone...",viewAndManageClients:"View and manage your client profiles",showAll:"Show All",showLess:"Show Less",of:"of",noClientsFound:"No clients found matching your search",noClientsFoundGeneral:"No clients found. Add your first client to get started.",physical:"Physical",goals:"Goals",macros:"Macros",name:"Name",yearsOld:"years old",city:"City",noDataAvailable:"No data",invalidBmiData:"Invalid BMI data",activityLevel:"Activity Level",kcalPerDay:"kcal/day",noMacrosSet:"No macros set",basicInformation:"Basic Information",fullName:"Full Name",phoneNumber:"Phone Number",dateOfBirth:"Date of Birth",physicalInformation:"Physical Information",age:"Age",weight:"Weight",height:"Height",other:"Other",toning:"Toning",buildMuscle:"Build Muscle",improveHealth:"Improve Health",nutritionInformation:"Nutrition Information",dailyTotalCalories:"Daily Total Calories",autoCalculated:"Auto-calculated",harrisBenedictInfo:"Based on Harris-Benedict equation using age, gender, weight, height, activity level, and goal",mifflinStJeorInfo:"Based on Mifflin-St Jeor equation using age, gender, weight, height, activity level, and goal",fillRequiredFieldsToCalculate:"Fill required fields to calculate",isRequired:"is required",ageCalculatedFromBirthDate:"Age calculated from birth date",enterAgeOrBirthDate:"Enter age or birth date",numberOfMeals:"Number of Meals",region:"Region",macrosGrams:"Macros (grams)",protein:"Protein",ingredients:"Ingredients",carbs:"Carbohydrates",fat:"Fat",grams:"grams",totalPercentages:"Total Percentages",totalCaloriesInTargets:"Total Calories in Targets",macrosSumMatches:"The sum of macros always matches calories:",caloriesFormula:"calories = (4 × protein) + (4 × carbs) + (9 × fat)",dietaryInformation:"Dietary Information",foodAllergies:"Food Allergies",foodAllergiesPlaceholder:"e.g., nuts, dairy, shellfish (separate with commas)",foodLimitations:"Food Limitations",foodLimitationsPlaceholder:"Simple text: vegetarian, kosher, low sodium",clientPreferences:"Client Preferences",foodDiary:"Food Diary",clientPreferencesPlaceholder:"Simple text: loves pasta, mediterranean cuisine, quick meals",recommendationsPlaceholder:"Simple text: drink more water, take vitamin D, exercise 30min daily",saving:"Saving...",updateClient:"Update Client",addClient:"Add Client",failedToSaveClient:"Failed to save client:",failedToUpdateClient:"Failed to update client:",failedToCreateClient:"Failed to create client:",failedToDeleteClient:"Failed to delete client",confirmDelete:"Are you sure you want to delete",clientDeleted:"Client deleted successfully",deleteWarning:"This action cannot be undone.",foodLogsFound:"Food logs found",entriesFound:"entries found",preferencesAutoPopulated:"Preferences auto-populated",autoPopulated:"Auto-populated",translateToHebrew:"Translate to Hebrew",viewDetailedAnalysis:"View Detailed Nutritional Analysis",detailedAnalysis:"Detailed Nutritional Analysis",comprehensiveAnalysis:"Comprehensive analysis of client's eating habits with improvement recommendations",analysisSummary:"Analysis Summary",totalEntries:"Total Entries",uniqueFoods:"Unique Foods",mealCategories:"Meal Categories",analysisDate:"Analysis Date",topFoodsByMeal:"Top Foods by Meal Category",times:"times",aiDietitianPrompt:"AI Dietitian Analysis Prompt",nutritionalAnalysis:"Nutritional Analysis",analysisDescription:"AI-generated analysis of the client's eating habits with personalized improvement recommendations.",copySystemPrompt:"Copy System Prompt",copyAnalysis:"Copy Analysis",systemPromptCopied:"System prompt copied to clipboard!",analysisCopied:"Analysis copied to clipboard!",underweight:"Underweight",normal:"Normal",overweight:"Overweight",obese:"Obese",lose:"Lose Weight",maintain:"Maintain Weight",gain:"Gain Weight",muscle:"Build Muscle",health:"Improve Health",light:"Light Activity (light exercise/sports 1-3 days/week)",moderate:"Moderate Activity (moderate exercise/sports 3-5 days/week)",very:"Very Active (hard exercise/sports 6-7 days a week)",extra:"Extra Active (very hard exercise/sports & a physical job)",sortBy:"Sort by",filterBy:"Filter by",sortByName:"Sort by Name",sortByAge:"Sort by Age",sortByWeight:"Sort by Weight",sortByHeight:"Sort by Height",sortByGoal:"Sort by Goal",sortByActivity:"Sort by Activity Level",sortByCalories:"Sort by Calories",filterByGoal:"Filter by Goal",filterByActivity:"Filter by Activity Level",filterByAge:"Filter by Age",filterByGender:"Filter by Gender",allGoals:"All Goals",allActivities:"All Activities",allAges:"All Ages",allGenders:"All Genders",ascending:"Ascending",descending:"Descending",clearFilters:"Clear Filters",applyFilters:"Apply Filters",welcomeToDashboard:"Welcome to Your Dashboard",overviewOfPractice:"Overview of your nutrition practice",liveData:"Live Data",totalClients:"Total Clients",menusCreated:"Menus Created",chatSessions:"Chat Sessions",weeklyActivity:"Weekly Activity",quickActions:"Quick Actions",commonTasks:"Access your most common tasks quickly",recentActivity:"Recent Activity",latestUpdates:"Latest updates from your practice",createMenu:"Create Meal Plan",generateNutritionPlan:"Generate a nutrition plan",manageClients:"Manage Clients",viewEditClients:"View and edit client profiles",startChat:"Start Chat",consultWithAI:"Consult with AI assistant",recipeManagement:"Recipe Management",browseRecipes:"Browse and manage recipes",nutritionPlans:"Nutrition Plans",managePlans:"Manage client nutrition plans",menuoverview:"Meal Plan Overview",consultations:"Consultations",startFirstChat:"Start Your First Chat",physicalStats:"Physical Stats",nutritionTargets:"Nutrition Targets",dietaryRestrictions:"Dietary Restrictions",userPreferences:"User Preferences",weightChange:"Weight Change",activeMenus:"Active Menus",totalMenus:"Total Menus",contactInformation:"Contact Information",preferences:"Preferences",recentNutritionPlans:"Recent nutrition plans and menus",aiPoweredConsultations:"AI-powered nutrition consultations",clientInformation:"Client Information",overviewOfClient:"Overview of your client information",notes:"Notes",editInformation:"Edit Information",clientSummary:"Client Summary",kcal:"kcal",noMenusYet:"No meal plans yet",createFirstMenu:"Create your first meal plan for this client",menusTotal:"total",viewAllMenus:"View All Meal Plans",chatSession:"Chat Session",messages:"messages",noChatHistory:"No chat history",startConversationWith:"Start a conversation with this client",chatSessionsTotal:"chat session",viewAllChats:"View All Chats",noRecentActivity:"No recent activity",nutritionSummary:"Nutrition Summary",noMenuDataAvailable:"No meal plan data available",updateInfo:"Update Info",clientName:"Client Name",birthDate:"Birth Date",medicalConditions:"Medical Conditions",allergies:"Allergies",emergencyContact:"Emergency Contact",menuName:"Meal Plan Name",menuDescription:"Meal Plan Description",targetCalories:"Target Calories",mealPlan:"Meal Plan",breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner",snacks:"Snacks",totalNutrition:"Total Nutrition",macroBreakdown:"Macro Breakdown",micronutrients:"Micronutrients",vitamins:"Vitamins",minerals:"Minerals",fiber:"Fiber",sugar:"Sugar",sodium:"Sodium",potassium:"Potassium",calculateNutrition:"Calculate Nutrition",generateMenu:"Generate Meal Plan",saveMenu:"Save Meal Plan",loadMenu:"Load Meal Plan",duplicateMenu:"Duplicate Meal Plan",deleteMenu:"Delete Meal Plan",printMenu:"Print Meal Plan",shareMenu:"Share Meal Plan",setPortion:"Set Portion Size",portionDialogDescription:"Enter the amount in grams and a household measurement. The nutrition values will be automatically adjusted based on the 100g serving size from the database.",amountInGrams:"Amount (grams)",householdMeasure:"Household Measure",householdMeasurePlaceholder:"e.g., 1 cup, 2 tbsp, 1 medium apple",adjustedNutrition:"Adjusted Nutrition",basedOn100g:"Based on 100g serving",ratio:"Ratio",pleaseEnterValidAmount:"Please enter a valid amount greater than 0",editPortion:"Edit portion size",ingredient:"Ingredient",within5Percent:"within ±5%",within10Percent:"within ±10%",deleteIngredient:"Delete ingredient",makeMain:"Make Main",makeMainTooltip:"Make this the main option",analyticsOverview:"Analytics Overview",clientProgress:"Client Progress",nutritionTrends:"Nutrition Trends",goalAchievement:"Goal Achievement",complianceRate:"Compliance Rate",weeklyReport:"Weekly Report",monthlyReport:"Monthly Report",customReport:"Custom Report",exportReport:"Export Report",generateReport:"Generate Report",reportPeriod:"Report Period",dateRange:"Date Range",fromDate:"From Date",toDate:"To Date",apiConfiguration:"API Configuration",dataImport:"Data Import",dataExport:"Data Export",syncData:"Sync Data",backupData:"Backup Data",restoreData:"Restore Data",apiKey:"API Key",apiEndpoint:"API Endpoint",connectionStatus:"Connection Status",connected:"Connected",disconnected:"Disconnected",lastSync:"Last Sync",syncInProgress:"Sync in Progress",healthyDeliciousRecipes:"Healthy & Delicious Recipes",professionalRecipes:"Professional nutrition recipes curated by experts for optimal health and taste",professionalRecipesDescription:"Professional nutrition recipes curated by experts for optimal health and taste",recipesAvailable:"120+ Recipes",recipesCount:"120+ Recipes",expertApproved:"Expert Approved",professionalRecipeCount:"professional recipe",professionalRecipe:"professional recipe",pluralSuffix:"s",serving:"serving",salads:"Salads",warmDishes:"Warm Dishes",appetizers:"Appetizers",more:"More",howToMakeIt:"How to make it",tip:"Tip",printRecipe:"Print Recipe",easy:"Easy",medium:"Medium",hard:"Hard",healthy:"Healthy",quick:"Quick",vegetarian:"Vegetarian",vegan:"Vegan",glutenFree:"Gluten Free",dairyFree:"Dairy Free",lowCarb:"Low Carb",highProtein:"High Protein",mediterranean:"Mediterranean",fiberRich:"Fiber Rich",comfortFood:"Comfort Food",makeAhead:"Make Ahead",mealPrep:"Meal Prep",translating:"Translating...",translateRecipes:"Translate Recipes",translatingRecipes:"Translating recipes...",recipeDifficulty:"Difficulty",recipeTime:"Time",recipeServings:"Servings",recipeIngredients:"Ingredients",recipeInstructions:"Instructions",recipeTips:"Tips",recipeMacros:"Nutrition Facts",closeRecipe:"Close Recipe",weightLogsDescription:"Track and analyze client progress with comprehensive measurement data and beautiful visualizations",nutritionAnalyticsDescription:"Track your daily nutrition intake and compare against your personal goals",searchPlaceholder:"Search measurements...",chartType:"Chart Type",selectMetrics:"Select Metrics to Display",progressChart:"Progress Chart",progressChartDescription:"Visual representation of client progress over time",refresh:"Refresh",export:"Export",loadingData:"Loading data...",refreshing:"Refreshing...",autoRefresh:"Auto-refresh",userActive:"User Active",scrollToBottom:"Scroll to bottom",newMessages:"New messages",newMessagesClickToView:"New messages - Click to view",scrollPosition:"Scroll position",scrollTop:"Scroll top",scrollMiddle:"Scroll middle",scrollBottom:"Scroll bottom",messageTime:"Message time",justNow:"Just now",minAgo:"min ago",yesterday:"Yesterday",processing:"Processing...",today:"Today",measurementHistory:"Measurement History",measurementHistoryDescription:"Detailed view of all measurements",totalMeasurements:"Total Measurements",currentWeight:"Current Weight",bodyFatPercent:"Body Fat %",avgWeight:"Avg Weight",periodAverage:"Period average",noDataAvailableForFilters:"No data available for the selected filters",pleaseSelectClientToView:"Please select a client to view their weight logs",noWeightLogsFound:"No weight logs found for the selected client",tryDifferentClientOrDateRange:"Try selecting a different client or adjusting the date range",last7Days:"Last 7 days",last30Days:"Last 30 days",last90Days:"Last 90 days",lastYear:"Last year",allTime:"All time",lineChart:"Line Chart",areaChart:"Area Chart",barChart:"Bar Chart",bodyFatPercentage:"Body Fat %",waistCm:"Waist (cm)",hipCm:"Hip (cm)",armCm:"Arm (cm)",createNewMenu:"Create New Meal Plan",menuCreationWizard:"Meal Plan Creation Wizard",buildNutritionPlan:"Build a comprehensive nutrition plan for your client",menuBasics:"Meal Plan Basics",clientSelection:"Client Selection",selectTargetClient:"Select the target client for this meal plan",noClientSelectedMenu:"No client selected",menuNameLabel:"Meal Plan Name",menuNamePlaceholder:"Enter a descriptive name for this meal plan",menuDescriptionLabel:"Meal Plan Description",menuDescriptionPlaceholder:"Describe the purpose and goals of this meal plan",targetCaloriesLabel:"Target Daily Calories",targetCaloriesPlaceholder:"Enter target calories (e.g., 2000)",menuDuration:"Meal Plan Duration",singleDay:"Single Day",threeDays:"3 Days",oneWeek:"1 Week",twoWeeks:"2 Weeks",oneMonth:"1 Month",mealStructure:"Meal Structure",includedMeals:"Included Meals",additionalOptions:"Additional Options",includeSnacks:"Include Snacks",includeDrinks:"Include Drinks",includeSupplements:"Include Supplements",allergiesAndRestrictions:"Allergies & Restrictions",preferredCuisines:"Preferred Cuisines",menuGeneration:"Meal Plan Generation",generateMenuAI:"Generate Meal Plan with AI",generateMenuDescription:"Click the button below to generate a personalized meal plan based on your preferences.",selected:"Selected",dailyTotals:"Daily Totals",manualMenuCreation:"Manual Meal Plan Creation",proteinTarget:"Protein Target",carbsTarget:"Carbohydrates Target",fatTarget:"Fat Target",fiberTarget:"Fiber Target",reviewAndSave:"Review & Save",previewMenu:"Preview Meal Plan",saveMenuDraft:"Save as Draft",publishMenu:"Publish Meal Plan",backToMenus:"Back to Meal Plans",fromDatabase:"from database",targetVsGenerated:"Target vs Generated Meal Plan Comparison",target:"Target",generated:"Generated",difference:"Difference",menuAccuracy:"Meal Plan Accuracy",accurate:"Accurate",noTargetDataFound:"No target data found for this client.",addingProductCodes:"Adding product codes to ingredients...",personalizedRecommendations:"Personalized recommendations",generalComments:"General Comments",confirmClearMenu:"Are you sure you want to clear the current meal plan and start fresh? This action cannot be undone.",startFresh:"Start Fresh",previousMenuFound:"Previous Meal Plan Found",previousMenuDescription:"We found a previously generated meal plan for",fromTime:"from",continueOrStartFresh:"Would you like to continue working on it or start fresh?",continuePreviousMenu:"Continue Previous Meal Plan",loadingClientTargets:"Loading client targets...",mainOption:"Main Option",alternative:"Alternative",otherAlternatives:"Other Alternatives",addAlternative:"Add Alternative",downloadAsPdf:"Download as PDF",upcCache:"UPC Cache",ingredientsStored:"ingredients stored",upcCacheCleared:"UPC cache cleared successfully!",clearCache:"Clear Cache",menuAutoSaved:"Meal plan auto-saved locally",saveSchemaAndMenu:"Save Schema & Meal Plan",showShoppingList:"Show Shopping List",hideShoppingList:"Hide Shopping List",editMenu:"Edit Meal Plan",loadedMenu:"Loaded Meal Plan",searchMenus:"Search by name or client code...",filterByClient:"Filter by client",allClients:"All Clients",checkExpiredMenus:"Check Expired Meal Plans",checking:"Checking...",untitledMenu:"Untitled Meal Plan",notAvailable:"N/A",created:"Created",updated:"Updated",activeFrom:"Active From",activeUntil:"Active Until",loadAndEditMenu:"Load & Edit Meal Plan",manageStatus:"Manage Status",noMenusFound:"No meal plans found",noMenusMatchCriteria:"No meal plans match your search criteria",manageMenuStatus:"Manage Meal Plan Status",status:"Status",optional:"Optional",updating:"Updating...",updateStatus:"Update Status",alternativeOption:"Alternative Option",generating:"Generating...",loadExistingMenu:"Load Existing Meal Plan",browseMenuLibrary:"Browse Meal Plan Library",duplicateAndEdit:"Duplicate & Edit",menuPreview:"Meal Plan Preview",menuCreatedBy:"Created by",menuCreatedDate:"Created",menuLastModified:"Last Modified",menuUsageCount:"Used",menuRating:"Rating",noMenusAvailable:"No meal plans available",menuCode:"Meal Plan Code",createYourFirstMenu:"Create your first meal plan",loadSelectedMenu:"Load Selected Meal Plan",menuLoadSuccess:"Meal plan loaded successfully",menuLoadError:"Failed to load meal plan",userManagementTitle:"User Management",allUsers:"All Users",activeUsers:"Active Users",inactiveUsers:"Inactive Users",newUsers:"New Users",addNewUser:"Add New User",userProfile:"User Profile",userDetails:"User Details",personalInformation:"Personal Information",healthInformation:"Health Information",firstName:"First Name",lastName:"Last Name",emailAddress:"Email Address",phoneNumberField:"Phone Number",address:"Address",state:"State",zipCode:"Zip Code",country:"Country",emergencyContactName:"Emergency Contact Name",emergencyContactPhone:"Emergency Contact Phone",relationship:"Relationship",goalWeight:"Goal Weight",heightField:"Height",medicalHistory:"Medical History",currentMedications:"Current Medications",dietaryAllergies:"Dietary Allergies",foodIntolerances:"Food Intolerances",dietaryPreferences:"Dietary Preferences",fitnessLevel:"Fitness Level",exerciseFrequency:"Exercise Frequency",dailyActivityLevel:"Daily Activity Level",healthGoals:"Health Goals",nutritionGoals:"Nutrition Goals",userStatus:"User Status",activeStatus:"Active",inactiveStatus:"Inactive",pendingStatus:"Pending",suspendedStatus:"Suspended",registrationDate:"Registration Date",lastLoginDate:"Last Login",totalSessions:"Total Sessions",userActions:"User Actions",viewProfile:"View Profile",editProfile:"Edit Profile",deleteUser:"Delete User",suspendUser:"Suspend User",activateUser:"Activate User",resetPassword:"Reset Password",sendMessage:"Send Message",exportUserData:"Export User Data",userSearchPlaceholder:"Search by name, email, or ID...",filterByStatus:"Filter by Status",filterByDate:"Filter by Date",sortByDate:"Sort by Date",searchIngredient:"Search ingredient...",editPlan:"Edit Plan",personalizedNutritionPlan:"Personalized Nutrition Plan",addMeal:"Add Meal",addItem:"Add Item",addIngredient:"Add Ingredient",mealName:"Meal Name",itemName:"Item Name",portion:"Portion",energy:"Energy",calories:"kcal",carbohydrates:"Carbohydrates",mealType:"Meal Type",foodItems:"Food Items",nutritionTrendsDescription:"Track your nutrition intake over time",nutritionHistory:"Nutrition History",nutritionHistoryDescription:"Detailed view of your food logs",caloriesAchievement:"Calories Achievement",proteinAchievement:"Protein Achievement",carbsAchievement:"Carbs Achievement",fatAchievement:"Fat Achievement",averageCalories:"Avg Calories",averageProtein:"Avg Protein",averageCarbs:"Avg Carbs",perDay:"per day",noNutritionLogsFound:"No nutrition logs found",dailyNutritionSummary:"Daily Nutrition Summary",dailyNutritionSummaryDescription:"Daily totals for calories and macros",mealsLogged:"Meals",mealDetails:"Meal Details",totalDays:"Total Days",totalMeals:"meals logged",nutritionValues:"Nutrition Values",alternatives:"Alternatives",overview:"Overview",meals:"Meals",nutrition:"Nutrition",clientInfo:"Client Information",dailyNutrition:"Daily Nutrition",supplements:"Supplements",hydration:"Hydration",sleep:"Sleep",general:"General",accountSettings:"Account Settings",profileSettings:"Profile Settings",notificationSettings:"Notification Settings",privacySettings:"Privacy Settings",appearanceSettings:"Appearance Settings",languageSettings:"Language Settings",themeSettings:"Theme Settings",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",dataRetention:"Data Retention",twoFactorAuth:"Two-Factor Authentication",passwordChange:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm Password",required:"Required",pleaseEnter:"Please enter",pleaseSelect:"Please select",invalidEmail:"Invalid email address",passwordTooShort:"Password too short",passwordsDoNotMatch:"Passwords do not match",fieldRequired:"This field is required",invalidFormat:"Invalid format",valueTooLow:"Value too low",valueTooHigh:"Value too high",invalidPhoneNumber:"Invalid phone number",invalidDate:"Invalid date",futureDate:"Date cannot be in the future",pastDate:"Date cannot be in the past",basicInformationDescription:"Let's start with the essential details about your client",physicalInformationDescription:"Physical details help us create personalized nutrition plans",nutritionInformationDescription:"Nutritional targets and meal planning preferences",autoGenerated:"Auto-generated",clientCodeDescription:"Unique identifier for your client",enterClientFullName:"Enter client's full name",pleaseEnterFullName:"Please enter the client's full name",emailPlaceholder:"client@example.com",pleaseEnterValidEmail:"Please enter a valid email address",emailDescription:"We'll use this for important communications",phonePlaceholder:"+1 (555) 123-4567",pleaseEnterPhone:"Please enter a phone number",phoneDescription:"For urgent communications and reminders",cityPlaceholder:"City name",cityDescription:"Optional: Helps with local recommendations",pleaseSelectDateOfBirth:"Please select the date of birth",dateOfBirthDescription:"We'll automatically calculate the age for you",pleaseEnterDateOfBirthToCalculateAge:"Please enter date of birth above to calculate age",ageCalculatedAutomatically:"Age calculated automatically",pleaseSelectGender:"Please select a gender",pleaseEnterWeight:"Please enter the current weight",weightPlaceholder:"70.5",weightDescription:"Current weight in kilograms",pleaseEnterHeight:"Please enter the height",heightPlaceholder:"175",heightDescription:"Height in centimeters",pleaseSelectActivityLevel:"Please select an activity level",pleaseSelectGoal:"Please select a health goal",genderDescription:"Helps with accurate calorie calculations",activityLevelDescription:"How active is your client on a daily basis?",goalDescription:"What does your client want to achieve?",mealsPlaceholder:"5",mealsDescription:"How many meals per day does your client prefer?",regionPlaceholder:"israel",regionDescription:"Region for local food recommendations",macrosDescription:"Set your client's macronutrient targets",lockAll:"Lock All",unlockAll:"Unlock All",resetToDefault:"Reset to Default (30/40/30)",lockAllMacrosTooltip:"Lock all macros - none will be automatically rebalanced",unlockAllMacrosTooltip:"Unlock all macros - all will be automatically rebalanced",macrosPerfectlyBalanced:"Macros are perfectly balanced!",macroBalanceNeedsAttention:"Macro balance needs attention",macrosReadyToGo:"Your client's nutrition targets are ready to go!",caloriesNotSet:"Daily calories not set yet",setCaloriesFirst:"Set daily calories first to configure macro percentages",totalCalories:"Total Calories",macroLockStatus:"Macro Lock Status",lockedMacrosDescription:"Locked macros won't be automatically rebalanced when you change other macros.",lockConflictDetected:"Lock Conflict Detected",currentLockedTotal:"Current locked total",proTips:"Pro Tips",proTip1:"Adjust one macro percentage and unlocked macros will automatically rebalance",proTip2:"Use the lock buttons (🔒/🔓) to prevent specific macros from changing",proTip3:"Aim for 100% total to ensure all calories are accounted for",success:"Success",error:"Error",warning:"Warning",info:"Information",saved:"Saved",deleted:"Deleted",imported:"Imported",exported:"Exported",synchronized:"Synchronized",published:"Published",unpublished:"Unpublished",activated:"Activated",deactivated:"Deactivated",completed:"Completed",failed:"Failed",pending:"Pending",approved:"Approved",rejected:"Rejected",inProgress:"In Progress",cancelled:"Cancelled",noResultsFound:"No results found",emptyList:"Empty list",showMore:"Show More",viewAll:"View All",viewDetails:"View Details",groupBy:"Group by",firstPage:"First Page",lastPage:"Last Page",itemsPerPage:"Items per Page",showingItems:"Showing",total:"Total",all:"All",none:"None",typeMessage:"Type a message...",chatHistory:"Chat History",conversationStarted:"Conversation Started",messageDelivered:"Message Delivered",messageRead:"Message Read",onlineStatus:"Online",offlineStatus:"Offline",lastSeen:"Last seen",typing:"Typing...",attachFile:"Attach File",sendImage:"Send Image",voiceMessage:"Voice Message",videoCall:"Video Call",loadingMore:"Loading more messages...",loadMore:"Load more messages",specialization:"Specialization",certification:"Certification",yearsOfExperience:"Years of Experience",clinicName:"Clinic Name",clinicAddress:"Clinic Address",profileBio:"Profile Bio",languages:"Languages",consultationFee:"Consultation Fee",availableTimes:"Available Times",professionalTitle:"Professional Title",licenseNumber:"License Number",educationBackground:"Education Background",workExperience:"Work Experience",achievements:"Achievements",publications:"Publications",mealPlanStructure:"Meal Plan Structure",mealPlanDescription:"Configure how daily calories are distributed across meals",description:"Description",percentage:"Percentage",lock:"Lock",locked:"locked",lockedCalories:"Locked Calories",unlockedCalories:"Unlocked Calories",availableBudget:"Available Budget",maxPerMeal:"Max per Meal",totalPercentage:"Total Percentage",mealPlanLockNote:"Note: 🔒 Locked meals maintain their calories. When you edit a meal, that meal keeps its exact value and other unlocked meals scale to fit the remaining budget.",scalingFormula:"Formula: Scaling Factor = (Daily Target - Locked Calories - Edited Meal) ÷ Other Unlocked Total",calorieInputHelp:"Calorie Input: Type a value and press Enter to confirm. Values exceeding daily limits will reset all unlocked meals to 0.",saveMealPlan:"Save Plan",caloriesLabel:"Calories",mealDescriptionShort:"What's in the meal",descriptionPlaceholder:"Optional description",systemStatus:"System Status",allSystemsOperational:"All systems operational",professionalNutrition:"Professional Nutrition",professionalPlatform:"Professional Platform"},he:{mealName:"שם ארוחה",home:"לוח בקרה",dashboard:"לוח בקרה",about:"אודות",services:"שירותים",contact:"צור קשר",chat:"צ׳אט",allChats:"כל הצ׳אטים",dataGenerator:"יצירת נתונים",nutritionPlan:"תוכנית תזונה",menuCreate:"יצירת תוכנית ארוחות",emptyMealPlanWarning:"אזהרת תוכנית ארוחות ריקה",emptyMealPlanMessage:"לא מילאת אף ארוחה. האם אתה בטוח שתרצה לייצר ללא מבנה?",whatThisMeans:"מה זה אומר:",genericMealPlanExplanation:"המערכת תיצור תוכנית ארוחות כללית ללא ההעדפות הספציפיות שלך לכל סוג ארוחה. לתוצאות טובות יותר, שקול למלא תיאורי ארוחות בחלק מבנה תוכנית הארוחות.",goBack:"חזור",continueAnyway:"המשך בכל זאת",recommendations:"המלצות",addRecommendation:"הוסף המלצה",editRecommendation:"ערוך המלצה",recommendationsDescription:"הוסף המלצות מותאמות אישית לתוכנית ארוחות זו",recommendationDialogDescription:"הוסף המלצות מותאמות אישית לתוכנית ארוחות זו",category:"קטגוריה",priority:"עדיפות",title:"כותרת",content:"תוכן",generalRecommendation:"כללי",nutritionRecommendation:"תזונה",exerciseRecommendation:"פעילות גופנית",lifestyleRecommendation:"אורח חיים",supplementsRecommendation:"תוספי תזונה",hydrationRecommendation:"הידרציה",sleepRecommendation:"שינה",lowPriority:"עדיפות נמוכה",mediumPriority:"עדיפות בינונית",highPriority:"עדיפות גבוהה",recommendationTitlePlaceholder:"הכנס כותרת המלצה",recommendationContentPlaceholder:"הכנס תוכן מפורט של ההמלצה",pleaseFillAllFields:"אנא מלא את כל השדות הנדרשים",noRecommendations:"לא נוספו המלצות עדיין",addRecommendationsPrompt:'לחץ על "הוסף המלצה" כדי להתחיל',confirmDeleteRecommendation:"האם אתה בטוח שברצונך למחוק המלצה זו?",recommendationsAlsoFound:"נמצאו גם המלצות וישוחזרו.",menuEdit:"עריכת תוכנית ארוחות",menuView:"צפייה בתוכנית ארוחות",menuLoad:"טעינת תוכנית ארוחות",menuAnalysis:"ניתוח תוכנית ארוחות",menus:"תוכניות ארוחות",apiMenus:"תוכניות ארוחות API",clients:"לקוחות",clientProfile:"פרופיל לקוח",clientMenu:"תוכנית ארוחות לקוח",apiClientMenu:"תוכנית ארוחות לקוח API",editClient:"עריכת לקוח",users:"לקוחות",recipes:"מתכונים",recipesPage:"מתכונים",weightLogs:"יומן משקל",nutritionAnalytics:"ניתוח תזונה",menuload:"טעינת תוכנית ארוחות",settings:"הגדרות",register:"הרשמה",login:"התחברות",submit:"שלח",cancel:"ביטול",save:"שמור",delete:"מחק",signOut:"התנתק",retry:"נסה שוב",edit:"ערוך",loading:"טוען...",search:"חפש",close:"סגור",open:"פתח",next:"הבא",previous:"הקודם",send:"שלח",upload:"העלה",download:"הורד",profile:"פרופיל",back:"חזור",continue:"המשך",confirm:"אשר",yes:"כן",no:"לא",selectClient:"בחר לקוח",switchLanguage:"English",connectionError:"שגיאת התחברות",failedToLoad:"טעינת נתוני המשתמש נכשלה. אנא רענן את הדף.",selectClientToChat:"בחר לקוח לשיחה",chooseClientFromList:"בחר לקוח מהרשימה שלך כדי להתחיל לצ׳אט",selectAClient:"בחר לקוח...",chatWith:"צ׳אט עם",clientCode:"קוד לקוח",dailyCalories:"קלוריות יומיות",notSet:"לא נקבע",startConversation:"התחל שיחה",chatAboutNutrition:"על תוכנית התזונה שלהם. תוכל גם לשתף תמונות אוכל לניתוח.",noClientSelected:"לא נבחר לקוח",selectClientToStart:"אנא בחר לקוח מהתפריט הנפתח למעלה כדי להתחיל לצ׳אט על תוכנית התזונה שלהם.",messageClient:"הודעה ל",imageSelected:"תמונה נבחרה",uploadedFood:"אוכל שהועלה",failedToUpload:"העלאת התמונה נכשלה. אנא נסה שוב.",failedToSend:"שליחת ההודעה נכשלה. אנא נסה שוב.",failedToLoadClients:"טעינת הלקוחות נכשלה. אנא נסה שוב מאוחר יותר.",failedToLoadClientData:"טעינת נתוני הלקוח נכשלה. אנא נסה שוב מאוחר יותר.",enterCredentials:"הכנס את פרטי הגישה שלך כדי לגשת לחשבון שלך",email:"אימייל",enterEmail:"הכנס את האימייל שלך",password:"סיסמה",enterPassword:"הכנס את הסיסמה שלך",signIn:"התחבר",signingIn:"מתחבר...",dontHaveAccount:"אין לך חשבון?",failedToSignIn:"ההתחברות נכשלה. אנא בדוק את פרטי הגישה שלך ונסה שוב.",userManagement:"ניהול משתמשים",manageUserProfiles:"נהל פרופילי משתמשים ומידע תזונתי",searchUsers:"חפש לקוחות...",viewAndManageUsers:"צפה ונהל את כל הלקוחות הרשומים",userCode:"קוד משתמש",details:"פרטים",actions:"פעולות",noData:"אין נתונים",noUsersFound:"לא נמצאו לקוחות",editUserInformation:"ערוך מידע משתמש",editUserDescription:"עדכן את מידע הלקוח והעדפותיו.",addUserDescription:"הוסף לקוח חדש למרפאה שלך.",heightCm:"גובה (ס״מ)",weightKg:"משקל (ק״ג)",gender:"מין",activity:"פעילות",goal:"מטרה",selectGender:"בחר מין",male:"זכר",female:"נקבה",selectActivityLevel:"בחר רמת פעילות",sedentary:"יושב (אין או מעט מאוד פעילות גופנית)",lightActivity:"פעילות קלה (פעילות גופנית קלה/ספורט 1-3 ימים בשבוע)",moderateActivity:"פעילות בינונית (פעילות גופנית בינונית/ספורט 3-5 ימים בשבוע)",veryActive:"פעיל מאוד (פעילות גופנית קשה/ספורט 6-7 ימים בשבוע)",extraActive:"פעיל במיוחד (פעילות גופנית קשה מאוד/ספורט ועבודה פיזית)",selectGoal:"בחר מטרה",loseWeight:"הורדת משקל",maintainWeight:"שמירת משקל",gainWeight:"עלייה במשקל",saveChanges:"שמור שינויים",clientManagement:"ניהול לקוחות",manageClientProfiles:"נהל את פרופילי הלקוחות שלך ומידע",addNewClient:"הוסף לקוח חדש",searchClients:"חפש לקוחות על פי שם, אימייל, קוד או טלפון...",viewAndManageClients:"צפה ונהל את פרופילי הלקוחות שלך",showAll:"הצג הכל",showLess:"הצג פחות",of:"מתוך",noClientsFound:"לא נמצאו לקוחות שעונים על חיפוש שלך",noClientsFoundGeneral:"לא נמצאו לקוחות. הוסף את הלקוח הראשון שלך כדי להתחיל.",physical:"גופני",goals:"מטרות",macros:"מאקרו",name:"שם",yearsOld:"שנים",city:"עיר",noDataAvailable:"אין נתונים",invalidBmiData:"נתוני BMI שגויים",activityLevel:"רמת פעילות",kcalPerDay:"קק״ל/יום",noMacrosSet:"מאקרו לא נקבע",basicInformation:"מידע בסיסי",fullName:"שם מלא",phoneNumber:"מספר טלפון",dateOfBirth:"תאריך לידה",physicalInformation:"מידע גופני",age:"גיל",weight:"משקל",height:"גובה",other:"אחר",toning:"חיטוב",buildMuscle:"בניית שריר",improveHealth:"שיפור בריאות",nutritionInformation:"מידע תזונתי",dailyTotalCalories:"קלוריות כוללות יומיות",autoCalculated:"מחושב אוטומטית",harrisBenedictInfo:"מבוסס על נוסחת האריס-בנדיקט באמצעות גיל, מין, משקל, גובה, רמת פעילות ומטרה",mifflinStJeorInfo:"מבוסס על נוסחת מיפלין-סנט ג׳ור באמצעות גיל, מין, משקל, גובה, רמת פעילות ומטרה",fillRequiredFieldsToCalculate:"מלא שדות נדרשים לחישוב",isRequired:"נדרש",required:"נדרש",ageCalculatedFromBirthDate:"גיל מחושב מתאריך לידה",enterAgeOrBirthDate:"הכנס גיל או תאריך לידה",numberOfMeals:"מספר הארוחות",region:"אזור",macrosGrams:"מאקרו (גרמים)",protein:"חלבון",calories:"קלוריות",carbohydrates:"פחמימות",mealType:"סוג ארוחה",foodItems:"פריטי מזון",nutritionTrends:"מגמות תזונה",nutritionTrendsDescription:"עקוב אחרי צריכת התזונה לאורך זמן",nutritionHistory:"היסטוריית תזונה",nutritionHistoryDescription:"תצוגה מפורטת של יומן המזון",caloriesAchievement:"הישג קלוריות",proteinAchievement:"הישג חלבון",carbsAchievement:"הישג פחמימות",fatAchievement:"הישג שומן",averageCalories:"ממוצע קלוריות",averageProtein:"ממוצע חלבון",averageCarbs:"ממוצע פחמימות",totalEntries:"סה״כ רשומות",perDay:"ליום",noNutritionLogsFound:"לא נמצאו רשומות תזונה",dailyNutritionSummary:"סיכום תזונה יומי",dailyNutritionSummaryDescription:"סכומים יומיים לקלוריות ומאקרו",mealsLogged:"ארוחות",mealDetails:"פירוט ארוחות",totalDays:"סה״כ ימים",totalMeals:"ארוחות רשומות",ingredients:"מרכיבים",carbs:"פחמימות",fat:"שומן",grams:"גרם",totalPercentages:"סה״כ אחוזים",totalCaloriesInTargets:"סה״כ קלוריות ביעדים",macrosSumMatches:"סכום המאקרו תמיד תואם את הקלוריות:",caloriesFormula:"קלוריות = (4 × חלבון) + (4 × פחמימות) + (9 × שומן)",dietaryInformation:"מידע תזונתי",foodAllergies:"אלרגיות במזון",foodAllergiesPlaceholder:"למשל, פרי עץ, חלב, ביצים (הפרד בפסיקים)",foodLimitations:"הגבלות במזון",foodLimitationsPlaceholder:"טקסט פשוט: צמחוני, כשר, נמוך בנתרן",clientPreferences:"העדפות לקוח",foodDiary:"יומן מזון",clientPreferencesPlaceholder:"טקסט פשוט: אוהב פסטה, מטבח ים תיכוני, ארוחות מהירות",recommendationsPlaceholder:"טקסט פשוט: שתה יותר מים, קח ויטמין D, להתאמן 30 דקות ביום",saving:"שמירה...",updateClient:"עדכן לקוח",addClient:"הוסף לקוח",failedToSaveClient:"שמירת הלקוח נכשלה:",failedToUpdateClient:"עדכון הלקוח נכשל:",failedToCreateClient:"יצירת הלקוח נכשל:",failedToDeleteClient:"מחיקת הלקוח נכשלה",confirmDelete:"האם אתה בטוח שברצונך למחוק",clientDeleted:"הלקוח נמחק בהצלחה",deleteWarning:"פעולה זו לא ניתנת לביטול.",foodLogsFound:"נמצאו יומני מזון",entriesFound:"רשומות נמצאו",preferencesAutoPopulated:"העדפות מולאו אוטומטית",autoPopulated:"מולא אוטומטית",translateToHebrew:"תרגם לעברית",viewDetailedAnalysis:"צפה בניתוח תזונתי מפורט",detailedAnalysis:"ניתוח תזונתי מפורט",comprehensiveAnalysis:"ניתוח מקיף של הרגלי האכילה של הלקוח עם המלצות לשיפור",analysisSummary:"סיכום הניתוח",uniqueFoods:"מזונות ייחודיים",mealCategories:"קטגוריות ארוחות",analysisDate:"תאריך הניתוח",topFoodsByMeal:"מזונות מובילים לפי קטגוריית ארוחה",times:"פעמים",aiDietitianPrompt:"פקודת ניתוח דיאטנית AI",nutritionalAnalysis:"ניתוח תזונתי",analysisDescription:"ניתוח שנוצר על ידי AI של הרגלי האכילה של הלקוח עם המלצות מותאמות אישית לשיפור.",copySystemPrompt:"העתק פקודת מערכת",copyAnalysis:"העתק ניתוח",systemPromptCopied:"פקודת המערכת הועתקה ללוח!",analysisCopied:"הניתוח הועתק ללוח!",underweight:"תת משקל",normal:"נורמלי",overweight:"עודף משקל",obese:"השמנת יתר",lose:"הורדת משקל",maintain:"שמירת משקל",gain:"עלייה במשקל",muscle:"בניית שריר",health:"שיפור בריאות",light:"פעילות קלה (פעילות גופנית קלה/ספורט 1-3 ימים בשבוע)",moderate:"פעילות בינונית (פעילות גופנית בינונית/ספורט 3-5 ימים בשבוע)",very:"פעיל מאוד (פעילות גופנית קשה/ספורט 6-7 ימים בשבוע)",extra:"פעיל במיוחד (פעילות גופנית קשה מאוד/ספורט ועבודה פיזית)",sortBy:"מיון לפי",filterBy:"סינון לפי",sortByName:"מיון לפי שם",sortByAge:"מיון לפי גיל",sortByWeight:"מיון לפי משקל",sortByHeight:"מיון לפי גובה",sortByGoal:"מיון לפי מטרה",sortByActivity:"מיון לפי רמת פעילות",sortByCalories:"מיון לפי קלוריות",filterByGoal:"סינון לפי מטרה",filterByActivity:"סינון לפי רמת פעילות",filterByAge:"סינון לפי גיל",filterByGender:"סינון לפי מין",allGoals:"כל המטרות",allActivities:"כל הפעילויות",allAges:"כל הגילאים",allGenders:"כל המינים",ascending:"ממוין בסדר עולה",descending:"ממוין בסדר יורד",clearFilters:"נקה סינונים",applyFilters:"החל סינונים",welcomeToDashboard:"ברוכים הבאים ללוח הבקרה שלכם",overviewOfPractice:"סקירה כללית של המרפאה התזונתית שלכם",liveData:"נתונים בזמן אמת",totalClients:"סה״כ לקוחות",menusCreated:"תפריטים שנוצרו",chatSessions:"סשני צ׳אט",weeklyActivity:"פעילות שבועית",quickActions:"פעולות מהירות",commonTasks:"גישה מהירה למשימות הנפוצות שלכם",recentActivity:"פעילות אחרונה",latestUpdates:"עדכונים אחרונים מהמרפאה שלכם",createMenu:"צור תוכנית ארוחות",generateNutritionPlan:"יצירת תוכנית תזונה",manageClients:"ניהול לקוחות",viewEditClients:"צפייה ועריכת פרופילי לקוחות",startChat:"התחל צ׳אט",consultWithAI:"התייעצות עם עוזר בינה מלאכותית",recipeManagement:"ניהול מתכונים",browseRecipes:"עיון וניהול מתכונים",nutritionPlans:"תוכניות תזונה",managePlans:"ניהול תוכניות תזונה ללקוחות",menuoverview:"תצוגה כללית של תוכנית ארוחות",consultations:"התייעצויות",startFirstChat:"התחל את הצ׳אט הראשון שלך",physicalStats:"סטטיסטיקות גופניות",nutritionTargets:"יעדי תזונה",dietaryRestrictions:"הגבלות תזונתיות",userPreferences:"העדפות משתמש",weightChange:"שינוי משקל",activeMenus:"תפריטים פעילים",totalMenus:"סה״כ תפריטים",contactInformation:"מידע ליצירת קשר",preferences:"העדפות",recentNutritionPlans:"תכניות תזונה ותפריטים אחרונים",aiPoweredConsultations:"ייעוץ תזונה מבוסס בינה מלאכותית",clientInformation:"מידע לקוח",overviewOfClient:"סקירה כללית של מידע הלקוח שלך",notes:"הערות",editInformation:"ערוך מידע",clientSummary:"סיכום לקוח",kcal:"קק״ל",noMenusYet:"אין תוכניות ארוחות עדיין",createFirstMenu:"צור את תוכנית הארוחות הראשונה שלך עבור הלקוח הזה",menusTotal:"סה״כ",viewAllMenus:"צפה בכל תוכניות הארוחות",chatSession:"סשן צ׳אט",messages:"הודעות",noChatHistory:"אין היסטוריית צ׳אט",startConversationWith:"התחל שיחה עם הלקוח הזה",chatSessionsTotal:"סשן צ׳אט",viewAllChats:"צפה בכל הצ׳אטים",noRecentActivity:"אין פעילות אחרונה",nutritionSummary:"סיכום תזונתי",noMenuDataAvailable:"אין נתוני תוכנית ארוחות זמינים",updateInfo:"עדכן מידע",clientName:"שם לקוח",birthDate:"תאריך לידה",medicalConditions:"מצבים רפואיים",allergies:"אלרגיות",emergencyContact:"איש קשר לחירום",menuName:"שם תוכנית ארוחות",menuDescription:"תיאור תוכנית ארוחות",targetCalories:"קלוריות יעד",mealPlan:"תוכנית ארוחות",breakfast:"ארוחת בוקר",lunch:"ארוחת צהריים",dinner:"ארוחת ערב",snacks:"חטיפים",totalNutrition:"סה״כ תזונה",macroBreakdown:"חלוקת מאקרו",micronutrients:"מיקרונוטריאנטים",vitamins:"ויטמינים",minerals:"מינרלים",fiber:"סיבים",sugar:"סוכר",sodium:"נתרן",potassium:"אשלגן",calculateNutrition:"חשב תזונה",generateMenu:"צור תוכנית ארוחות",saveMenu:"שמור תוכנית ארוחות",loadMenu:"טען תוכנית ארוחות",duplicateMenu:"שכפל תוכנית ארוחות",deleteMenu:"מחק תוכנית ארוחות",printMenu:"הדפס תוכנית ארוחות",shareMenu:"שתף תוכנית ארוחות",setPortion:"קבע גודל מנה",portionDialogDescription:"הכנס את הכמות בגרמים ומדידת ביתית. הערכים התזונתיים יותאמו אוטומטית לפי גודל מנה של 100 גרם ממסד הנתונים.",amountInGrams:"כמות (גרמים)",householdMeasure:"מדידה ביתית",householdMeasurePlaceholder:"לדוגמה, 1 כוס, 2 כפות, תפוח בינוני אחד",adjustedNutrition:"תזונה מותאמת",basedOn100g:"מבוסס על מנה של 100 גרם",ratio:"יחס",pleaseEnterValidAmount:"אנא הזן כמות תקפה גדולה מ-0",editPortion:"ערוך גודל מנה",ingredient:"מרכיב",within5Percent:"בטווח ±5%",within10Percent:"בטווח ±10%",deleteIngredient:"מחק מרכיב",makeMain:"הפוך לעיקרי",makeMainTooltip:"הפוך אפשרות זו לעיקרית",analyticsOverview:"סקירת אנליטיקות",clientProgress:"התקדמות לקוח",goalAchievement:"השגת יעדים",complianceRate:"שיעור היענות",weeklyReport:"דוח שבועי",monthlyReport:"דוח חודשי",customReport:"דוח מותאם",exportReport:"ייצוא דוח",generateReport:"יצירת דוח",reportPeriod:"תקופת הדוח",dateRange:"טווח תאריכים",fromDate:"מתאריך",toDate:"עד תאריך",apiConfiguration:"תצורת API",dataImport:"ייבוא נתונים",dataExport:"ייצוא נתונים",syncData:"סנכרון נתונים",backupData:"גיבוי נתונים",restoreData:"שחזור נתונים",apiKey:"מפתח API",apiEndpoint:"נקודת קצה API",connectionStatus:"סטטוס חיבור",connected:"מחובר",disconnected:"מנותק",lastSync:"סנכרון אחרון",syncInProgress:"סנכרון בעיצומו",healthyDeliciousRecipes:"מתכונים בריאים וטעימים",professionalRecipes:"מתכונים תזונתיים מקצועיים שנערכו על ידי מומחים לבריאות ולטעם מיטביים",professionalRecipesDescription:"מתכונים תזונתיים מקצועיים שנערכו על ידי מומחים לבריאות ולטעם מיטביים",recipesAvailable:"120+ מתכונים",recipesCount:"120+ מתכונים",expertApproved:"מאושר על ידי מומחים",professionalRecipeCount:"מתכון מקצועי",professionalRecipe:"מתכון מקצועי",pluralSuffix:"ים",serving:"מנה",salads:"סלטים",warmDishes:"מנות חמות",appetizers:"מנות ראשונות",more:"עוד",howToMakeIt:"איך מכינים",tip:"טיפ",printRecipe:"הדפס מתכון",easy:"קל",medium:"בינוני",hard:"קשה",healthy:"בריא",quick:"מהיר",vegetarian:"צמחוני",vegan:"טבעוני",glutenFree:"ללא גלוטן",dairyFree:"ללא מוצרי חלב",lowCarb:"דל פחמימה",highProtein:"עתיר חלבון",mediterranean:"ים תיכוני",fiberRich:"עשיר בסיבים",comfortFood:"אוכל מנחם",makeAhead:"מוכן מראש",mealPrep:"הכנת ארוחות",translating:"מתרגם...",translateRecipes:"תרגם מתכונים",translatingRecipes:"מתרגם מתכונים...",recipeDifficulty:"רמת קושי",recipeTime:"זמן",recipeServings:"מנות",recipeIngredients:"מרכיבים",recipeInstructions:"הוראות",recipeTips:"טיפים",recipeMacros:"עובדות תזונה",closeRecipe:"סגור מתכון",weightLogsDescription:"עקוב ונתח התקדמות לקוח עם נתוני מדידה מקיפים והמחשות יפות",nutritionAnalyticsDescription:"עקוב אחרי צריכת התזונה היומית שלך והשווה מול המטרות האישיות",searchPlaceholder:"חפש מדידות...",chartType:"סוג תרשים",selectMetrics:"בחר מדדים להצגה",progressChart:"תרשים התקדמות",progressChartDescription:"ייצוג חזותי של התקדמות הלקוח לאורך זמן",refresh:"רענן",export:"ייצוא",loadingData:"טוען נתונים...",loadMore:"טען עוד הודעות",loadingMore:"טוען הודעות נוספות...",refreshing:"מרענן...",autoRefresh:"רענון אוטומטי",userActive:"משתמש פעיל",scrollToBottom:"גלול למטה",newMessages:"הודעות חדשות",newMessagesClickToView:"הודעות חדשות - לחץ לצפייה",scrollPosition:"מיקום גלילה",scrollTop:"גלילה למעלה",scrollMiddle:"גלילה לאמצע",scrollBottom:"גלילה למטה",messageTime:"זמן הודעה",justNow:"עכשיו",minAgo:"דק׳ לפני",yesterday:"אתמול",processing:"מעבד...",today:"היום",measurementHistory:"היסטוריית מדידות",measurementHistoryDescription:"תצוגה מפורטת של כל המדידות",totalMeasurements:"סה״כ מדידות",currentWeight:"משקל נוכחי",bodyFatPercent:"אחוז שומן גוף",avgWeight:"משקל ממוצע",periodAverage:"ממוצע תקופה",noDataAvailableForFilters:"אין נתונים זמינים עבור המסננים שנבחרו",pleaseSelectClientToView:"אנא בחר לקוח כדי לראות את יומני המשקל שלו",noWeightLogsFound:"לא נמצאו יומני משקל עבור הלקוח שנבחר",tryDifferentClientOrDateRange:"נסה לבחור לקוח אחר או לשנות את טווח התאריכים",last7Days:"7 הימים האחרונים",last30Days:"30 הימים האחרונים",last90Days:"90 הימים האחרונים",lastYear:"השנה האחרונה",allTime:"כל הזמן",lineChart:"תרשים קו",areaChart:"תרשים שטח",barChart:"תרשים עמודות",bodyFatPercentage:"אחוז שומן גוף",waistCm:"היקף מותן (ס״מ)",hipCm:"היקף ירך (ס״מ)",armCm:"היקף זרוע (ס״מ)",createNewMenu:"צור תוכנית ארוחות חדשה",menuCreationWizard:"אשף יצירת תוכנית ארוחות",buildNutritionPlan:"בנה תוכנית תזונה מקיפה ללקוח שלך",menuBasics:"יסודות תוכנית ארוחות",clientSelection:"בחירת לקוח",selectTargetClient:"בחר את הלקוח היעד לתוכנית זו",noClientSelectedMenu:"לא נבחר לקוח",menuNameLabel:"שם תוכנית ארוחות",menuNamePlaceholder:"הכנס שם תיאורי לתוכנית זו",menuDescriptionLabel:"תיאור תוכנית ארוחות",menuDescriptionPlaceholder:"תאר את מטרות ותכלית התוכנית",targetCaloriesLabel:"קלוריות יומיות יעד",targetCaloriesPlaceholder:"הכנס קלוריות יעד (לדוגמה, 2000)",menuDuration:"משך תוכנית ארוחות",singleDay:"יום אחד",threeDays:"3 ימים",oneWeek:"שבוע",twoWeeks:"שבועיים",oneMonth:"חודש",mealStructure:"מבנה ארוחות",includedMeals:"ארוחות כלולות",additionalOptions:"אפשרויות נוספות",includeSnacks:"כלול חטיפים",includeDrinks:"כלול משקאות",includeSupplements:"כלול תוספים",allergiesAndRestrictions:"אלרגיות והגבלות",preferredCuisines:"מטבחים מועדפים",menuGeneration:"יצירת תוכנית ארוחות",generateMenuAI:"צור תוכנית ארוחות עם AI",generateMenuDescription:"לחץ על הכפתור למטה כדי ליצור תוכנית מותאמת אישית לפי העדפותיך.",selected:"נבחר",dailyTotals:"סיכומים יומיים",manualMenuCreation:"יצירה ידנית של תוכנית ארוחות",proteinTarget:"יעד חלבון",carbsTarget:"יעד פחמימות",fatTarget:"יעד שומן",fiberTarget:"יעד סיבים",reviewAndSave:"סקור ושמור",previewMenu:"תצוגה מקדימה",saveMenuDraft:"שמור כטיוטה",publishMenu:"פרסם תוכנית ארוחות",backToMenus:"חזרה לתוכניות ארוחות",fromDatabase:"ממסד נתונים",targetVsGenerated:"השוואת יעד מול תוכנית שנוצרה",target:"יעד",generated:"נוצר",difference:"הפרש",menuAccuracy:"דיוק תוכנית",accurate:"מדויק",noTargetDataFound:"לא נמצאו נתוני יעד ללקוח זה.",addingProductCodes:"מוסיף קודי מוצר למרכיבים...",personalizedRecommendations:"המלצות מותאמות אישית",generalComments:"הערות כלליות",confirmClearMenu:"האם לנקות את התוכנית הנוכחית ולהתחיל מחדש? פעולה זו אינה הפיכה.",startFresh:"התחל מחדש",previousMenuFound:"נמצאה תוכנית קודמת",previousMenuDescription:"מצאנו תוכנית ארוחות שנוצרה בעבר עבור",fromTime:"מ-",continueOrStartFresh:"להמשיך לעבוד עליה או להתחיל מחדש?",continuePreviousMenu:"המשך תוכנית קודמת",loadingClientTargets:"טוען יעדי לקוח...",mainOption:"אפשרות עיקרית",alternative:"חלופה",otherAlternatives:"חלופות נוספות",addAlternative:"הוסף חלופה",downloadAsPdf:"הורד כ-PDF",upcCache:"מטמון UPC",ingredientsStored:"מרכיבים שנשמרו",upcCacheCleared:"מטמון UPC נוקה בהצלחה!",clearCache:"נקה מטמון",menuAutoSaved:"התוכנית נשמרה אוטומטית מקומית",saveSchemaAndMenu:"שמור סכימה ותוכנית",showShoppingList:"הצג רשימת קניות",hideShoppingList:"הסתר רשימת קניות",editMenu:"ערוך תוכנית ארוחות",loadedMenu:"תוכנית טעונה",searchMenus:"חפש לפי שם או קוד לקוח...",filterByClient:"סינון לפי לקוח",allClients:"כל הלקוחות",checkExpiredMenus:"בדוק תוכניות שפגו",checking:"בודק...",untitledMenu:"תוכנית ללא שם",notAvailable:"לא זמין",created:"נוצר",updated:"עודכן",activeFrom:"פעיל מ-",activeUntil:"פעיל עד",loadAndEditMenu:"טען וערוך תוכנית ארוחות",manageStatus:"ניהול סטטוס",noMenusFound:"לא נמצאו תוכניות ארוחות",noMenusMatchCriteria:"אין תוכניות תואמות לחיפוש",manageMenuStatus:"נהל סטטוס תוכנית ארוחות",status:"סטטוס",optional:"אופציונלי",updating:"מעדכן...",updateStatus:"עדכן סטטוס",alternativeOption:"חלופה",generating:"מייצר...",loadExistingMenu:"טען תוכנית קיימת",browseMenuLibrary:"עיין בספריית תוכניות",duplicateAndEdit:"שכפל וערוך",menuPreview:"תצוגה מקדימה של תוכנית",menuCreatedBy:"נוצר על ידי",menuCreatedDate:"תאריך יצירה",menuLastModified:"נערך לאחרונה",menuUsageCount:"שומש",menuRating:"דירוג",noMenusAvailable:"אין תוכניות זמינות",menuCode:"קוד תוכנית ארוחות",createYourFirstMenu:"צור את התוכנית הראשונה שלך",loadSelectedMenu:"טען תוכנית שנבחרה",menuLoadSuccess:"התוכנית נטענה בהצלחה",menuLoadError:"טעינת התוכנית נכשלה",mealPlanStructure:"מבנה תוכנית ארוחות",mealPlanDescription:"הגדר כיצד מחולקות הקלוריות היומיות בין הארוחות",description:"תיאור",percentage:"אחוזים",lock:"נעילה",locked:"נעול",totalCalories:"סה״כ קלוריות",lockedCalories:"קלוריות נעולות",unlockedCalories:"קלוריות לא נעולות",availableBudget:"תקציב זמין",maxPerMeal:"מקסימום לארוחה",totalPercentage:"סה״כ אחוזים",mealPlanLockNote:"הערה: 🔒 ארוחות נעולות שומרות על הקלוריות שלהן. בעת עריכת ארוחה, הערך של אותה ארוחה נשמר וארוחות לא נעולות מותאמות לתקציב הנותר.",scalingFormula:"נוסחה: גורם קנה מידה = (יעד יומי - קלוריות נעולות - הארוחה הערוכה) ÷ סך הקלוריות של הארוחות הלא נעולות",calorieInputHelp:"קלט קלוריות: הזן ערך ולחץ Enter כדי לאשר. ערכים החורגים מהיעד היומי יאפסו את כל הארוחות הלא נעולות ל-0.",saveMealPlan:"שמור תוכנית",caloriesLabel:"קלוריות",mealDescriptionShort:"מה בארוחה",descriptionPlaceholder:"תיאור קצר",systemStatus:"סטטוס מערכת",allSystemsOperational:"כל המערכות מופעלות",professionalNutrition:"תזונה מקצועית",professionalPlatform:"פלטפורמה מקצועית",basicInformationDescription:"בואו נתחיל עם הפרטים החשובים על הלקוח שלך",physicalInformationDescription:"פרטים גופניים עוזרים לנו ליצור תוכניות תזונה מותאמות אישית",nutritionInformationDescription:"יעדי תזונה והעדפות תכנון ארוחות",autoGenerated:"נוצר אוטומטית",clientCodeDescription:"מזהה ייחודי ללקוח שלך",enterClientFullName:"הכנס את השם המלא של הלקוח",pleaseEnterFullName:"אנא הכנס את השם המלא של הלקוח",emailPlaceholder:"לקוח@דוגמה.com",pleaseEnterValidEmail:"אנא הכנס כתובת אימייל תקפה",emailDescription:"נשתמש בזה לתקשורת חשובה",phonePlaceholder:"+972 (50) 123-4567",pleaseEnterPhone:"אנא הכנס מספר טלפון",phoneDescription:"לתקשורת דחופה ותזכורות",cityPlaceholder:"שם העיר",cityDescription:"אופציונלי: עוזר עם המלצות מקומיות",pleaseSelectDateOfBirth:"אנא בחר תאריך לידה",dateOfBirthDescription:"נחשב את הגיל אוטומטית בשבילך",pleaseEnterDateOfBirthToCalculateAge:"אנא הכנס תאריך לידה למעלה כדי לחשב גיל",ageCalculatedAutomatically:"גיל מחושב אוטומטית",pleaseSelectGender:"אנא בחר מין",pleaseEnterWeight:"אנא הכנס את המשקל הנוכחי",weightPlaceholder:"70.5",weightDescription:"משקל נוכחי בקילוגרמים",pleaseEnterHeight:"אנא הכנס את הגובה",heightPlaceholder:"175",heightDescription:"גובה בסנטימטרים",pleaseSelectActivityLevel:"אנא בחר רמת פעילות",pleaseSelectGoal:"אנא בחר יעד בריאות",genderDescription:"עוזר עם חישובי קלוריות מדויקים",activityLevelDescription:"כמה פעיל הלקוח שלך ביום יום?",goalDescription:"מה הלקוח שלך רוצה להשיג?",mealsPlaceholder:"5",mealsDescription:"כמה ארוחות ביום הלקוח שלך מעדיף?",regionPlaceholder:"ישראל",regionDescription:"אזור להמלצות מזון מקומיות",macrosDescription:"קבע את יעדי המאקרו של הלקוח שלך",lockAll:"נעל הכל",unlockAll:"פתח הכל",resetToDefault:"אפס לברירת מחדל (30/40/30)",lockAllMacrosTooltip:"נעל את כל המאקרו - אף אחד לא יאוזן אוטומטית",unlockAllMacrosTooltip:"פתח את כל המאקרו - הכל יאוזן אוטומטית",macrosPerfectlyBalanced:"המאקרו מאוזנים בצורה מושלמת!",macroBalanceNeedsAttention:"איזון המאקרו דורש תשומת לב",macrosReadyToGo:"יעדי התזונה של הלקוח שלך מוכנים!",caloriesNotSet:"קלוריות יומיות לא נקבעו עדיין",setCaloriesFirst:"קבע קלוריות יומיות תחילה כדי להגדיר אחוזי מאקרו",macroLockStatus:"סטטוס נעילת מאקרו",lockedMacrosDescription:"מאקרו נעולים לא יאוזנו אוטומטית כשאתה משנה אחרים.",lockConflictDetected:"זוהתה התנגשות נעילה",currentLockedTotal:"סה״כ נעול נוכחי",proTips:"טיפים מקצועיים",proTip1:"התאם אחוז מאקרו אחד ומאקרו לא נעולים יאוזנו אוטומטית",proTip2:"השתמש בכפתורי הנעילה (🔒/🔓) כדי למנוע שינוי מאקרו ספציפיים",proTip3:"שאף ל-100% סה״כ כדי להבטיח שכל הקלוריות מחושבות"}};function Wq({children:e}){const[t,r]=y.useState(Kl.en),n=async()=>{const a=t===Kl.en?Kl.he:Kl.en;r(a),document.documentElement.dir=a===Kl.he?"rtl":"ltr",document.documentElement.lang=a,ni.emit("translateMenu",a)};return ee.useEffect(()=>{document.documentElement.dir=t===Kl.he?"rtl":"ltr",document.documentElement.lang=t},[]),o.jsx(wD.Provider,{value:{language:t,toggleLanguage:n,translations:qq[t]},children:e})}function ya(){const e=y.useContext(wD);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const Hq={login:async e=>(localStorage.setItem("user",JSON.stringify(mockUser)),mockUser),logout:async()=>{localStorage.removeItem("user")},getCurrentUser:()=>{const e=localStorage.getItem("user");return e?JSON.parse(e):null},me:async()=>{let e=localStorage.getItem("user");return e||(localStorage.setItem("user",JSON.stringify(mockUser)),e=JSON.stringify(mockUser)),JSON.parse(e)},updateMyUserData:async e=>{const r={...JSON.parse(localStorage.getItem("user")||JSON.stringify(mockUser)),...e};return localStorage.setItem("user",JSON.stringify(r)),r},list:async()=>[mockUser]},mo={Menu:{create:async e=>{const t={...e,status:(e==null?void 0:e.status)||"draft"};if(console.log("🏪 Menu.create called with data:",JSON.stringify(t,null,2)),t.user_code&&t.status==="active"){const{data:r,error:n}=await lt.from("meal_plans_and_schemas").select("id").eq("user_code",t.user_code).eq("record_type","meal_plan").eq("status","active");if(n)throw console.error("❌ Error checking for existing active menus:",n),new Error("Failed to check for existing active menus.");if(r&&r.length>0)throw new Error("Cannot create menu: this user already has an active menu. Please deactivate the existing active menu first.")}try{const r={timestamp:new Date().toISOString(),actor_id:t.dietitian_id||"system",action:"CREATED",details:{record_type:t.record_type,meal_plan_name:t.meal_plan_name}};console.log("📝 Creating log entry:",r);const n=t.change_log||[];n.push(r);const a={...t,change_log:n};console.log("💾 Inserting into Supabase table: meal_plans_and_schemas"),console.log("📤 Supabase data:",JSON.stringify(a,null,2));const{data:i,error:s}=await lt.from("meal_plans_and_schemas").insert([a]).select().single();if(s)throw console.error("❌ Supabase error:",s),new Error(`Supabase error: ${s.message}`);return console.log("✅ Menu.create successfully saved to Supabase:",i),i}catch(r){throw console.error("❌ Error in Menu.create:",r),r}},get:async e=>{try{console.log("🔍 Getting menu with id:",e);const{data:t,error:r}=await lt.from("meal_plans_and_schemas").select("*").eq("id",e).single();if(r)throw console.error("❌ Supabase get error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Retrieved menu from Supabase:",t),t}catch(t){throw console.error("❌ Error in Menu.get:",t),t}},list:async()=>{try{console.log("📋 Getting all menus");const{data:e,error:t}=await lt.from("meal_plans_and_schemas").select("*").order("created_at",{ascending:!1});if(t)throw console.error("❌ Supabase list error:",t),new Error(`Supabase error: ${t.message}`);return console.log("✅ Retrieved menus from Supabase:",(e==null?void 0:e.length)||0,"records"),e||[]}catch(e){throw console.error("❌ Error in Menu.list:",e),e}},filter:async(e,t="created_at")=>{try{console.log("🔍 Filtering menus with query:",e);let r=lt.from("meal_plans_and_schemas").select("*");Object.entries(e).forEach(([s,c])=>{c!=null&&(r=r.eq(s,c))});let n=t;t.startsWith("-")&&(n=t.substring(1)),n==="created_date"&&(n="created_at"),t.startsWith("-")?r=r.order(n,{ascending:!1}):r=r.order(n,{ascending:!0});const{data:a,error:i}=await r;if(i)throw console.error("❌ Supabase filter error:",i),new Error(`Supabase error: ${i.message}`);return console.log("✅ Filtered menus from Supabase:",(a==null?void 0:a.length)||0,"records"),a||[]}catch(r){throw console.error("❌ Error in Menu.filter:",r),r}},update:async(e,t)=>{if(t.status==="active"){let r=t.user_code;if(!r){const{data:s,error:c}=await lt.from("meal_plans_and_schemas").select("user_code").eq("id",e).single();if(c)throw console.error("❌ Error fetching current menu for user_code:",c),new Error("Failed to resolve user for activation.");r=s==null?void 0:s.user_code}if(!r)throw new Error("User code is required to activate a menu.");const{data:n,error:a}=await lt.from("meal_plans_and_schemas").select("id").eq("user_code",r).eq("record_type","meal_plan").eq("status","active");if(a)throw console.error("❌ Error checking for existing active menus:",a),new Error("Failed to check for existing active menus.");const i=(n||[]).filter(s=>s.id!==e);if(i.length>0){const s=i.map(d=>d.id),{error:c}=await lt.from("meal_plans_and_schemas").update({status:"expired",active_from:null,active_until:null,updated_at:new Date().toISOString()}).in("id",s);if(c)throw console.error("❌ Failed to deactivate existing active menus:",c),new Error("Failed to deactivate existing active menus.")}}try{console.log("✏️ Updating menu with id:",e,"data:",t);const r={timestamp:new Date().toISOString(),actor_id:t.dietitian_id||"system",action:"UPDATED",details:t},{data:n,error:a}=await lt.from("meal_plans_and_schemas").select("change_log").eq("id",e).single();a&&console.error("❌ Error getting existing menu for change log:",a);const i=(n==null?void 0:n.change_log)||[];i.push(r);const s={...t,change_log:i,updated_at:new Date().toISOString()},{data:c,error:d}=await lt.from("meal_plans_and_schemas").update(s).eq("id",e).select().single();if(d)throw console.error("❌ Supabase update error:",d),new Error(`Supabase error: ${d.message}`);return console.log("✅ Updated menu in Supabase:",c),c}catch(r){throw console.error("❌ Error in Menu.update:",r),r}},delete:async e=>{try{console.log("🗑️ Deleting menu with id:",e);const{error:t}=await lt.from("meal_plans_and_schemas").delete().eq("id",e);if(t)throw console.error("❌ Supabase delete error:",t),new Error(`Supabase error: ${t.message}`);return console.log("✅ Deleted menu from Supabase"),!0}catch(t){throw console.error("❌ Error in Menu.delete:",t),t}}},Chat:{create:async e=>{try{console.log("💬 Chat.create called with data:",JSON.stringify(e,null,2));const{data:t,error:r}=await lt.from("chats").insert([e]).select().single();if(r)throw console.error("❌ Supabase chat create error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Chat created in Supabase:",t),t}catch(t){throw console.error("❌ Error in Chat.create:",t),t}},get:async e=>{try{console.log("🔍 Getting chat with id:",e);const{data:t,error:r}=await lt.from("chats").select("*").eq("id",e).single();if(r)throw console.error("❌ Supabase chat get error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Retrieved chat from Supabase:",t),t}catch(t){throw console.error("❌ Error in Chat.get:",t),t}},list:async()=>{try{console.log("📋 Getting all chats");const{data:e,error:t}=await lt.from("chats").select("*").order("created_at",{ascending:!1});if(t)throw console.error("❌ Supabase chat list error:",t),new Error(`Supabase error: ${t.message}`);return console.log("✅ Retrieved chats from Supabase:",(e==null?void 0:e.length)||0,"records"),e||[]}catch(e){throw console.error("❌ Error in Chat.list:",e),e}},filter:async e=>{try{console.log("🔍 Filtering chats with query:",e);let t=lt.from("chats").select("*");Object.entries(e).forEach(([a,i])=>{i!=null&&(t=t.eq(a,i))});const{data:r,error:n}=await t;if(n)throw console.error("❌ Supabase chat filter error:",n),new Error(`Supabase error: ${n.message}`);return console.log("✅ Filtered chats from Supabase:",(r==null?void 0:r.length)||0,"records"),r||[]}catch(t){throw console.error("❌ Error in Chat.filter:",t),t}},update:async(e,t)=>{try{console.log("✏️ Updating chat with id:",e,"data:",t);const r={...t,updated_at:new Date().toISOString()},{data:n,error:a}=await lt.from("chats").update(r).eq("id",e).select().single();if(a)throw console.error("❌ Supabase chat update error:",a),new Error(`Supabase error: ${a.message}`);return console.log("✅ Updated chat in Supabase:",n),n}catch(r){throw console.error("❌ Error in Chat.update:",r),r}},delete:async e=>{try{console.log("🗑️ Deleting chat with id:",e);const{error:t}=await lt.from("chats").delete().eq("id",e);if(t)throw console.error("❌ Supabase chat delete error:",t),new Error(`Supabase error: ${t.message}`);return console.log("✅ Deleted chat from Supabase"),!0}catch(t){throw console.error("❌ Error in Chat.delete:",t),t}}},ChatUser:{create:async e=>{try{console.log("👤 Creating new chat user with data:",JSON.stringify(e,null,2));const{data:t,error:r}=await lt.from("chat_users").insert([e]).select().single();if(r)throw console.error("❌ Supabase chat user create error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Chat user created in Supabase:",t),t}catch(t){throw console.error("❌ Error in ChatUser.create:",t),t}},list:async()=>{try{console.log("👥 Getting all chat users");const{data:e,error:t}=await lt.from("chat_users").select("*").order("full_name",{ascending:!0});if(t)throw console.error("❌ Supabase chat users list error:",t),new Error(`Supabase error: ${t.message}`);return console.log("✅ Retrieved chat users from Supabase:",(e==null?void 0:e.length)||0,"records"),e||[]}catch(e){throw console.error("❌ Error in ChatUser.list:",e),e}},get:async e=>{try{console.log("🔍 Getting chat user with user_code:",e);const{data:t,error:r}=await lt.from("chat_users").select("*").eq("user_code",e).single();if(r)throw console.error("❌ Supabase chat user get error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Retrieved chat user from Supabase:",t),t}catch(t){throw console.error("❌ Error in ChatUser.get:",t),t}},getByUserCode:async e=>{try{console.log("🔍 Getting chat user with user_code:",e);const{data:t,error:r}=await lt.from("chat_users").select(`
            *,
            age,
            date_of_birth,
            gender,
            weight_kg,
            height_cm,
            food_allergies,
            user_language,
            dailyTotalCalories,
            recommendations,
            food_limitations,
            Activity_level,
            goal,
            number_of_meals,
            client_preference,
            macros,
            user_context
          `).eq("user_code",e).single();if(r)throw console.error("❌ Supabase chat user get error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Retrieved chat user from Supabase with full profile:",t),t}catch(t){throw console.error("❌ Error in ChatUser.getByUserCode:",t),t}},update:async(e,t)=>{try{console.log("✏️ Updating chat user with user_code:",e,"data:",t);const r={...t},{data:n,error:a}=await lt.from("chat_users").update(r).eq("user_code",e).select().single();if(a)throw console.error("❌ Supabase chat user update error:",a),new Error(`Supabase error: ${a.message}`);return console.log("✅ Updated chat user in Supabase:",n),n}catch(r){throw console.error("❌ Error in ChatUser.update:",r),r}},delete:async e=>{try{console.log("🗑️ Deleting chat user with user_code:",e);const{error:t}=await lt.from("chat_users").delete().eq("user_code",e);if(t)throw console.error("❌ Supabase chat user delete error:",t),new Error(`Supabase error: ${t.message}`);return console.log("✅ Deleted chat user from Supabase"),!0}catch(t){throw console.error("❌ Error in ChatUser.delete:",t),t}},getMealPlanByUserCode:async e=>{try{console.log("🍽️ Getting active meal plan for user_code:",e);const{data:t,error:r}=await lt.from("meal_plans_and_schemas").select("meal_plan, daily_total_calories, macros_target, recommendations, dietary_restrictions").eq("user_code",e).eq("record_type","meal_plan").eq("status","active").order("created_at",{ascending:!1}).limit(1);if(r)throw console.error("❌ Supabase meal plan get error:",r),new Error(`Supabase error: ${r.message}`);const n=t&&t.length>0?t[0]:null;return console.log("✅ Retrieved active meal plan from Supabase:",n),n}catch(t){throw console.error("❌ Error in ChatUser.getMealPlanByUserCode:",t),t}}},WeightLogs:{getByUserCode:async e=>{try{console.log("⚖️ Getting weight logs for user_code:",e);const{data:t,error:r}=await lt.from("weight_logs").select(`
            user_code,
            measurement_date,
            weight_kg,
            body_fat_percentage,
            general_measurements,
            body_composition,
            central_measurements,
            hip_measurements,
            limb_measurements,
            waist_circumference_cm,
            hip_circumference_cm,
            arm_circumference_cm
          `).eq("user_code",e).order("measurement_date",{ascending:!0});if(r)throw console.error("❌ Supabase weight logs get error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Retrieved weight logs from Supabase:",(t==null?void 0:t.length)||0,"records"),console.log("📊 Sample data structure:",t==null?void 0:t[0]),t||[]}catch(t){throw console.error("❌ Error in WeightLogs.getByUserCode:",t),t}},list:async()=>{try{console.log("⚖️ Getting all weight logs");const{data:e,error:t}=await lt.from("weight_logs").select(`
            user_code,
            measurement_date,
            weight_kg,
            body_fat_percentage,
            general_measurements,
            body_composition,
            central_measurements,
            hip_measurements,
            limb_measurements,
            waist_circumference_cm,
            hip_circumference_cm,
            arm_circumference_cm
          `).order("measurement_date",{ascending:!1});if(t)throw console.error("❌ Supabase weight logs list error:",t),new Error(`Supabase error: ${t.message}`);return console.log("✅ Retrieved all weight logs from Supabase:",(e==null?void 0:e.length)||0,"records"),console.log("📊 Sample data structure:",e==null?void 0:e[0]),e||[]}catch(e){throw console.error("❌ Error in WeightLogs.list:",e),e}},getUniqueUserCodes:async()=>{try{console.log("⚖️ Getting unique user codes with weight logs");const{data:e,error:t}=await lt.from("weight_logs").select("user_code").not("user_code","is",null);if(t)throw console.error("❌ Supabase weight logs user codes error:",t),new Error(`Supabase error: ${t.message}`);const r=[...new Set(e.map(n=>n.user_code))];return console.log("✅ Retrieved unique user codes with weight logs:",r),r}catch(e){throw console.error("❌ Error in WeightLogs.getUniqueUserCodes:",e),e}},create:async e=>{try{console.log("⚖️ Creating weight log entry:",JSON.stringify(e,null,2));const{data:t,error:r}=await lt.from("weight_logs").insert([e]).select().single();if(r)throw console.error("❌ Supabase weight log create error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Created weight log entry in Supabase:",t),t}catch(t){throw console.error("❌ Error in WeightLogs.create:",t),t}}},Client:{create:async e=>({id:`client-${Date.now()}`,...e}),get:async e=>{try{const t=await fetch("/client.json");if(!t.ok)throw new Error("Failed to fetch client data");return await t.json()}catch(t){return console.error("Error fetching client:",t),null}},list:async()=>{try{const e=await fetch("/client.json");if(!e.ok)throw new Error("Failed to fetch client data");return[await e.json()]}catch(e){return console.error("Error fetching clients:",e),[]}},filter:async e=>{var t;try{console.log("🔍 Filtering clients with query:",e),console.log("🔑 Current auth user:",(t=(await lt.auth.getUser()).data.user)==null?void 0:t.id);let r=lt.from("chat_users").select("*");e.dietitian_id&&(console.log("🎯 Filtering by dietitian_id:",e.dietitian_id),r=r.eq("provider_id",e.dietitian_id)),e.code&&(console.log("🎯 Filtering by code:",e.code),r=r.eq("user_code",e.code)),console.log(" Executing Supabase query...");const{data:n,error:a}=await r.order("full_name",{ascending:!0});if(a)throw console.error("❌ Supabase client filter error:",a),new Error(`Supabase error: ${a.message}`);return console.log("✅ Retrieved filtered clients from Supabase:",(n==null?void 0:n.length)||0,"records"),console.log(" Data:",n),n||[]}catch(r){throw console.error("❌ Error in Client.filter:",r),r}},update:async(e,t)=>({id:e,...t}),delete:async e=>!0},FoodLogs:{getByUserId:async e=>{try{console.log("🍽️ Getting food logs for user_id:",e);const{data:t,error:r}=await lt.from("food_logs").select("*").eq("user_id",e).order("log_date",{ascending:!1});if(r)throw console.error("❌ Supabase food logs get error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Retrieved food logs from Supabase:",(t==null?void 0:t.length)||0,"records"),t||[]}catch(t){throw console.error("❌ Error in FoodLogs.getByUserId:",t),t}},getByUserCode:async e=>{try{console.log("🍽️ Getting food logs for user_code:",e);const{data:t,error:r}=await lt.from("chat_users").select("id").eq("user_code",e).single();if(r)throw console.error("❌ Error getting user by user_code:",r),new Error(`User not found: ${e}`);if(!t)return console.log("⚠️ No user found with user_code:",e),[];const{data:n,error:a}=await lt.from("food_logs").select("*").eq("user_id",t.id).order("log_date",{ascending:!1});if(a)throw console.error("❌ Supabase food logs get error:",a),new Error(`Supabase error: ${a.message}`);return console.log("✅ Retrieved food logs from Supabase:",(n==null?void 0:n.length)||0,"records"),n||[]}catch(t){throw console.error("❌ Error in FoodLogs.getByUserCode:",t),t}},analyzePreferences:async e=>{try{console.log("🔍 Analyzing food preferences for user_code:",e);const t=await mo.FoodLogs.getByUserCode(e);if(!t||t.length===0)return console.log("⚠️ No food logs found for user:",e),null;const r=[];t.forEach(f=>{f.food_items&&typeof f.food_items=="object"&&(Array.isArray(f.food_items)?f.food_items:[f.food_items]).forEach(m=>{m&&m.name&&r.push({name:m.name,meal_label:f.meal_label,date:f.log_date})})});const n={};r.forEach(f=>{const h=f.name.toLowerCase().trim();n[h]=(n[h]||0)+1});const a=Object.entries(n).sort(([,f],[,h])=>h-f).slice(0,10).map(([f,h])=>({name:f,count:h})),i={},s={};t.forEach(f=>{f.meal_label&&(i[f.meal_label]=(i[f.meal_label]||0)+1,s[f.meal_label]||(s[f.meal_label]={}),f.food_items&&typeof f.food_items=="object"&&(Array.isArray(f.food_items)?f.food_items:[f.food_items]).forEach(m=>{if(m&&m.name){const g=m.name.toLowerCase().trim();s[f.meal_label][g]=(s[f.meal_label][g]||0)+1}}))});const c={};Object.keys(s).forEach(f=>{const h=Object.entries(s[f]).sort(([,m],[,g])=>g-m).map(([m,g])=>({name:m,count:g}));c[f]=h});const d={frequently_consumed_foods:a.map(f=>f.name),meal_patterns:i,foods_by_meal:c,total_logs:t.length,analysis_date:new Date().toISOString()};return console.log("✅ Food preferences analysis completed:",d),d}catch(t){throw console.error("❌ Error analyzing food preferences:",t),t}}},ChatMessage:{create:async e=>{try{console.log("💬 ChatMessage.create called with data:",JSON.stringify(e,null,2));const{data:t,error:r}=await lt.from("chat_messages").insert([e]).select().single();if(r)throw console.error("❌ Supabase chat message create error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Chat message created in Supabase:",t),t}catch(t){throw console.error("❌ Error in ChatMessage.create:",t),t}},listByConversation:async(e,{limit:t=20,beforeMessageId:r=null}={})=>{let n=lt.from("chat_messages").select("*").eq("conversation_id",e).order("created_at",{ascending:!1}).limit(t);r&&(n=n.lt("id",r));const{data:a,error:i}=await n;if(i)throw new Error(i.message);return a||[]}},MessageQueue:{addToQueue:async e=>{try{if(console.log("📬 MessageQueue.addToQueue called with data:",JSON.stringify(e,null,2)),!e.conversation_id||!e.client_id||!e.dietitian_id)throw new Error("Missing required fields: conversation_id, client_id, and dietitian_id are required");const{data:t,error:r}=await lt.from("message_queue").insert([e]).select().single();if(r)throw console.error("❌ Supabase message queue add error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Message added to queue in Supabase:",t),t}catch(t){throw console.error("❌ Error in MessageQueue.addToQueue:",t),t}},getPendingForUser:async e=>{try{console.log("📬 Getting pending messages for user:",e);const{data:t,error:r}=await lt.from("message_queue").select("*").eq("user_code",e).eq("status","pending").order("priority",{ascending:!1}).order("created_at",{ascending:!0});if(r)throw console.error("❌ Supabase message queue get error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Retrieved pending messages from queue:",(t==null?void 0:t.length)||0,"records"),t||[]}catch(t){throw console.error("❌ Error in MessageQueue.getPendingForUser:",t),t}},getPendingForClient:async e=>{try{console.log("📬 Getting pending messages for client ID:",e);const{data:t,error:r}=await lt.from("message_queue").select("*").eq("client_id",e).eq("status","pending").order("priority",{ascending:!1}).order("created_at",{ascending:!0});if(r)throw console.error("❌ Supabase message queue get error:",r),new Error(`Supabase error: ${r.message}`);return console.log("✅ Retrieved pending messages for client:",(t==null?void 0:t.length)||0,"records"),t||[]}catch(t){throw console.error("❌ Error in MessageQueue.getPendingForClient:",t),t}},getByDietitian:async(e,{status:t=null,limit:r=100,offset:n=0}={})=>{try{console.log("📬 Getting messages by dietitian:",e);let a=lt.from("message_queue").select("*").eq("dietitian_id",e).order("created_at",{ascending:!1}).range(n,n+r-1);t&&(a=a.eq("status",t));const{data:i,error:s}=await a;if(s)throw console.error("❌ Supabase message queue get by dietitian error:",s),new Error(`Supabase error: ${s.message}`);return console.log("✅ Retrieved messages by dietitian:",(i==null?void 0:i.length)||0,"records"),i||[]}catch(a){throw console.error("❌ Error in MessageQueue.getByDietitian:",a),a}},updateStatus:async(e,t,r={})=>{try{console.log("📬 Updating message status:",e,"to:",t);const n={status:t,updated_at:new Date().toISOString(),...r};t==="sent"&&(n.processed_at=new Date().toISOString());const{data:a,error:i}=await lt.from("message_queue").update(n).eq("id",e).select().single();if(i)throw console.error("❌ Supabase message queue update error:",i),new Error(`Supabase error: ${i.message}`);return console.log("✅ Message status updated in queue:",a),a}catch(n){throw console.error("❌ Error in MessageQueue.updateStatus:",n),n}},listAll:async({status:e=null,limit:t=100,offset:r=0}={})=>{try{console.log("📬 Getting all messages from queue");let n=lt.from("message_queue").select(`
            *,
            chat_conversations!inner(id, started_at),
            chat_users!inner(id, full_name, user_code)
          `).order("priority",{ascending:!1}).order("created_at",{ascending:!1}).range(r,r+t-1);e&&(n=n.eq("status",e));const{data:a,error:i}=await n;if(i)throw console.error("❌ Supabase message queue list error:",i),new Error(`Supabase error: ${i.message}`);return console.log("✅ Retrieved messages from queue:",(a==null?void 0:a.length)||0,"records"),a||[]}catch(n){throw console.error("❌ Error in MessageQueue.listAll:",n),n}}},ChatConversation:{getByUserId:async e=>{const{data:t,error:r}=await lt.from("chat_conversations").select("*").eq("user_id",e).order("started_at",{ascending:!1}).limit(1).single();if(r)throw new Error(r.message);return t},getByUserCode:async e=>{const{data:t,error:r}=await lt.from("chat_users").select("id").eq("user_code",e).single();if(r)throw new Error(r.message);const{data:n,error:a}=await lt.from("chat_conversations").select("*").eq("user_id",t.id).order("started_at",{ascending:!1}).limit(1).single();if(a)throw new Error(a.message);return n}}},Vq="https://ai-hubfooddata915979189829.openai.azure.com",Gq="2024-02-15-preview",Kq="forObi4-mini",Yq="7GE7Tuq2qHvKvTHjS6oqkZ3zQuROcPwgFt5VHHbaPhGnGxLIJBZRJQQJ99BBACYeBjFXJ3w3AAAAACOGgNEZ",Jq={Core:{InvokeLLM:async({prompt:e,response_json_schema:t,base64Image:r})=>{var n,a,i,s;try{let c;r?c=[{type:"text",text:e},{type:"image_url",image_url:{url:`data:image/jpeg;base64,${r}`}}]:c=e;const d=await fetch(`${Vq}/openai/deployments/${Kq}/chat/completions?api-version=${Gq}`,{method:"POST",headers:{"Content-Type":"application/json","api-key":Yq,Accept:"application/json"},body:JSON.stringify({messages:[{role:"system",content:'You are a friendly and helpful HEALTHY nutritionist assistant. Keep your responses concise and to the point. Use emojis appropriately to make the conversation engaging. When answering questions about specific foods or nutrients, focus only on the asked topic. If the user provides a JSON schema, format your response as valid JSON matching that schema. **CRITICAL HEALTHY DIETITIAN RULES:** You are a HEALTHY nutritionist - prioritize nutritious, whole foods over processed snacks. NEVER suggest unhealthy processed snacks (like BISLI, Bamba, chips, candy, cookies, etc.) unless the user EXPLICITLY requests them in their preferences. For snacks, always suggest healthy options like: fruits, vegetables, nuts, yogurt, cottage cheese, hummus, whole grain crackers, etc. Only include unhealthy snacks if the user specifically mentions "likes BISLI", "loves chips", "wants candy" etc. in their preferences. Even then, limit unhealthy snacks to maximum 1-2 times per week, not daily. Focus on balanced nutrition with whole foods, lean proteins, complex carbohydrates, and healthy fats.'},{role:"user",content:c}],max_tokens:800,temperature:.7,top_p:1,frequency_penalty:0,presence_penalty:0,stream:!1})});if(!d.ok){const m=await d.json().catch(()=>({}));throw console.error("API Error:",{status:d.status,statusText:d.statusText,error:m}),new Error(((n=m.error)==null?void 0:n.message)||`API Error: ${d.status} ${d.statusText}`)}const f=await d.json();if(!((s=(i=(a=f.choices)==null?void 0:a[0])==null?void 0:i.message)!=null&&s.content))throw new Error("Invalid response format from API");const h=f.choices[0].message.content;if(t)try{return JSON.parse(h)}catch(m){return console.error("Failed to parse LLM response as JSON:",m),h}return h}catch(c){throw console.error("Error calling LLM:",c),c}}}},$s=mo.Menu,Xq=mo.Chat,Xh=mo.Client,Yi=mo.ChatUser,Yl=mo.ChatMessage,Qq=mo.ChatConversation,Zq=mo.WeightLogs,e7=mo.FoodLogs,Qh=Hq,_D=y.createContext(),ul=()=>{const e=y.useContext(_D);if(!e)throw new Error("useClient must be used within a ClientProvider");return e};function t7({children:e}){const[t,r]=y.useState([]),[n,a]=y.useState(()=>{try{return localStorage.getItem("selectedUserCode")||null}catch{return null}}),[i,s]=y.useState(null),[c,d]=y.useState(!0),[f,h]=y.useState(null);y.useEffect(()=>{m()},[]),y.useEffect(()=>{const _=()=>m();return ni.on("refreshClients",_),()=>{ni.off&&ni.off("refreshClients",_)}},[]),y.useEffect(()=>{try{n?(localStorage.setItem("selectedUserCode",n),g()):(localStorage.removeItem("selectedUserCode"),s(null))}catch{}},[n]);const m=async()=>{try{d(!0),h(null),console.log("👥 Loading clients from chat_users table...");const _=await Yi.list();if(console.log("✅ Clients loaded:",(_==null?void 0:_.length)||0,"records"),r(_||[]),_&&_.length>0){const S=n&&_.some(N=>N.user_code===n);!S&&!n&&a(_[0].user_code),!S&&n&&a(_[0].user_code)}}catch(_){console.error("❌ Error loading clients:",_),h("Failed to load clients")}finally{d(!1)}},g=async()=>{if(n)try{console.log("👤 Loading client data for:",n);const _=await Yi.getByUserCode(n);s(_),console.log("✅ Client data loaded:",_)}catch(_){console.error("❌ Error loading selected client:",_),h("Failed to load client data"),s(null)}},x={clients:t,selectedUserCode:n,selectedClient:i,isLoading:c,error:f,selectClient:_=>{a(_)},refreshClients:()=>{m()},loadSelectedClient:g};return o.jsx(_D.Provider,{value:x,children:e})}function Ko(e){return"/"+e}/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jD=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...c},d)=>y.createElement("svg",{ref:d,...n7,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:jD("lucide",a),...c},[...s.map(([f,h])=>y.createElement(f,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(e,t)=>{const r=y.forwardRef(({className:n,...a},i)=>y.createElement(a7,{ref:i,iconNode:t,className:jD(`lucide-${r7(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Hs=rt("Activity",i7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],c_=rt("Apple",o7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],lk=rt("ArrowDownRight",s7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],u_=rt("ArrowDown",l7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],d_=rt("ArrowLeft",c7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],d7=rt("ArrowRight",u7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],h7=rt("ArrowUpDown",f7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Em=rt("ArrowUpRight",m7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],f_=rt("ArrowUp",p7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]],Dy=rt("Beef",g7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],y7=rt("BookOpen",v7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],SD=rt("CalendarRange",x7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ND=rt("Calendar",b7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Vs=rt("ChartColumn",w7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],CD=rt("ChartLine",_7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],PD=rt("ChartPie",j7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ls=rt("Check",S7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Is=rt("ChefHat",N7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pj=rt("ChevronDown",C7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],k7=rt("ChevronRight",P7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kD=rt("ChevronUp",A7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ck=rt("CircleAlert",E7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],T7=rt("CircleCheckBig",O7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],R7=rt("Circle",M7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Gp=rt("Clock",D7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]],Iy=rt("Cookie",I7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Zh=rt("Database",$7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],gj=rt("Download",L7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F7=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],uk=rt("Droplets",F7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B7=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],h_=rt("FileText",B7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U7=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],AD=rt("Filter",U7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z7=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],$y=rt("Flame",z7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],W7=rt("Globe",q7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H7=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],m_=rt("Heart",H7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],dk=rt("Image",V7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],K7=rt("Info",G7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],J7=rt("ListChecks",Y7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xu=rt("LoaderCircle",X7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],wi=rt("Loader",Q7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],eW=rt("LogOut",Z7);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ED=rt("Mail",tW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],nW=rt("Menu",rW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Ki=rt("MessageSquare",aW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M5 12h14",key:"1ays0h"}]],fk=rt("Minus",iW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],sW=rt("Phone",oW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fc=rt("Plus",lW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],uW=rt("Printer",cW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],eo=rt("RefreshCw",dW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],Ly=rt("Ruler",fW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M11.38 12a2.4 2.4 0 0 1-.4-4.77 2.4 2.4 0 0 1 3.2-2.77 2.4 2.4 0 0 1 3.47-.63 2.4 2.4 0 0 1 3.37 3.37 2.4 2.4 0 0 1-1.1 3.7 2.51 2.51 0 0 1 .03 1.1",key:"10xrj0"}],["path",{d:"m13 12 4-4",key:"1hckqy"}],["path",{d:"M10.9 7.25A3.99 3.99 0 0 0 4 10c0 .73.2 1.41.54 2",key:"1p4srx"}]],mW=rt("Salad",hW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"m2.37 11.223 8.372-6.777a2 2 0 0 1 2.516 0l8.371 6.777",key:"f1wd0e"}],["path",{d:"M21 15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-5.25",key:"1pfu07"}],["path",{d:"M3 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9",key:"1oq9qw"}],["path",{d:"m6.67 15 6.13 4.6a2 2 0 0 0 2.8-.4l3.15-4.2",key:"1fnwu5"}],["rect",{width:"20",height:"4",x:"2",y:"11",rx:"1",key:"itshg"}]],gW=rt("Sandwich",pW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],p_=rt("Save",vW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],Om=rt("Scale",yW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wc=rt("Search",xW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wW=rt("Send",bW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jW=rt("Settings",_W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]],NW=rt("Soup",SW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],OD=rt("SquarePen",CW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],TD=rt("Star",PW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ad=rt("Target",kW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],EW=rt("Trash2",AW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],TW=rt("TrendingUp",OW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Js=rt("User",MW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Xs=rt("Users",RW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],vj=rt("Utensils",DW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],hk=rt("Weight",IW);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ma=rt("X",$W);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yj=rt("Zap",LW);function mk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kp(...e){return t=>{let r=!1;const n=e.map(a=>{const i=mk(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():mk(e[a],null)}}}}function Ot(...e){return y.useCallback(Kp(...e),e)}function ts(e){const t=BW(e),r=y.forwardRef((n,a)=>{const{children:i,...s}=n,c=y.Children.toArray(i),d=c.find(zW);if(d){const f=d.props.children,h=c.map(m=>m===d?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:m);return o.jsx(t,{...s,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,h):null})}return o.jsx(t,{...s,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var FW=ts("Slot");function BW(e){const t=y.forwardRef((r,n)=>{const{children:a,...i}=r;if(y.isValidElement(a)){const s=WW(a),c=qW(i,a.props);return a.type!==y.Fragment&&(c.ref=n?Kp(n,s):s),y.cloneElement(a,c)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UW=Symbol("radix.slottable");function zW(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UW}function qW(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function WW(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function MD(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=MD(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Yt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=MD(e))&&(n&&(n+=" "),n+=t);return n}const pk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gk=Yt,Yp=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return gk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(f=>{const h=r==null?void 0:r[f],m=i==null?void 0:i[f];if(h===null)return null;const g=pk(h)||pk(m);return a[f][g]}),c=r&&Object.entries(r).reduce((f,h)=>{let[m,g]=h;return g===void 0||(f[m]=g),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,h)=>{let{class:m,className:g,...w}=h;return Object.entries(w).every(b=>{let[x,_]=b;return Array.isArray(_)?_.includes({...i,...c}[x]):{...i,...c}[x]===_})?[...f,m,g]:f},[]);return gk(e,s,d,r==null?void 0:r.class,r==null?void 0:r.className)},xj="-",HW=e=>{const t=GW(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const c=s.split(xj);return c[0]===""&&c.length!==1&&c.shift(),RD(c,t)||VW(s)},getConflictingClassGroupIds:(s,c)=>{const d=r[s]||[];return c&&n[s]?[...d,...n[s]]:d}}},RD=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?RD(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(xj);return(s=t.validators.find(({validator:c})=>c(i)))==null?void 0:s.classGroupId},vk=/^\[(.+)\]$/,VW=e=>{if(vk.test(e)){const t=vk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},GW=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)g_(r[a],n,a,t);return n},g_=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:yk(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(KW(a)){g_(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{g_(s,yk(t,i),r,n)})})},yk=(e,t)=>{let r=e;return t.split(xj).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KW=e=>e.isThemeGetter,YW=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},v_="!",y_=":",JW=y_.length,XW=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let s=0,c=0,d=0,f;for(let b=0;b<a.length;b++){let x=a[b];if(s===0&&c===0){if(x===y_){i.push(a.slice(d,b)),d=b+JW;continue}if(x==="/"){f=b;continue}}x==="["?s++:x==="]"?s--:x==="("?c++:x===")"&&c--}const h=i.length===0?a:a.substring(d),m=QW(h),g=m!==h,w=f&&f>d?f-d:void 0;return{modifiers:i,hasImportantModifier:g,baseClassName:m,maybePostfixModifierPosition:w}};if(t){const a=t+y_,i=n;n=s=>s.startsWith(a)?i(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},QW=e=>e.endsWith(v_)?e.substring(0,e.length-1):e.startsWith(v_)?e.substring(1):e,ZW=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(s=>{s[0]==="["||t[s]?(a.push(...i.sort(),s),i=[]):i.push(s)}),a.push(...i.sort()),a}},eH=e=>({cache:YW(e.cacheSize),parseClassName:XW(e),sortModifiers:ZW(e),...HW(e)}),tH=/\s+/,rH=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,s=[],c=e.trim().split(tH);let d="";for(let f=c.length-1;f>=0;f-=1){const h=c[f],{isExternal:m,modifiers:g,hasImportantModifier:w,baseClassName:b,maybePostfixModifierPosition:x}=r(h);if(m){d=h+(d.length>0?" "+d:d);continue}let _=!!x,S=n(_?b.substring(0,x):b);if(!S){if(!_){d=h+(d.length>0?" "+d:d);continue}if(S=n(b),!S){d=h+(d.length>0?" "+d:d);continue}_=!1}const N=i(g).join(":"),P=w?N+v_:N,k=P+S;if(s.includes(k))continue;s.push(k);const C=a(S,_);for(let A=0;A<C.length;++A){const T=C[A];s.push(P+T)}d=h+(d.length>0?" "+d:d)}return d};function nH(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=DD(t))&&(n&&(n+=" "),n+=r);return n}const DD=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=DD(e[n]))&&(r&&(r+=" "),r+=t);return r};function aH(e,...t){let r,n,a,i=s;function s(d){const f=t.reduce((h,m)=>m(h),e());return r=eH(f),n=r.cache.get,a=r.cache.set,i=c,c(d)}function c(d){const f=n(d);if(f)return f;const h=rH(d,r);return a(d,h),h}return function(){return i(nH.apply(null,arguments))}}const rn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},ID=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$D=/^\((?:(\w[\w-]*):)?(.+)\)$/i,iH=/^\d+\/\d+$/,oH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jl=e=>iH.test(e),Lt=e=>!!e&&!Number.isNaN(Number(e)),Bo=e=>!!e&&Number.isInteger(Number(e)),Fy=e=>e.endsWith("%")&&Lt(e.slice(0,-1)),Hi=e=>oH.test(e),dH=()=>!0,fH=e=>sH.test(e)&&!lH.test(e),LD=()=>!1,hH=e=>cH.test(e),mH=e=>uH.test(e),pH=e=>!ot(e)&&!st(e),gH=e=>eu(e,UD,LD),ot=e=>ID.test(e),As=e=>eu(e,zD,fH),By=e=>eu(e,wH,Lt),xk=e=>eu(e,FD,LD),vH=e=>eu(e,BD,mH),em=e=>eu(e,qD,hH),st=e=>$D.test(e),Qu=e=>tu(e,zD),yH=e=>tu(e,_H),bk=e=>tu(e,FD),xH=e=>tu(e,UD),bH=e=>tu(e,BD),tm=e=>tu(e,qD,!0),eu=(e,t,r)=>{const n=ID.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},tu=(e,t,r=!1)=>{const n=$D.exec(e);return n?n[1]?t(n[1]):r:!1},FD=e=>e==="position"||e==="percentage",BD=e=>e==="image"||e==="url",UD=e=>e==="length"||e==="size"||e==="bg-size",zD=e=>e==="length",wH=e=>e==="number",_H=e=>e==="family-name",qD=e=>e==="shadow",jH=()=>{const e=rn("color"),t=rn("font"),r=rn("text"),n=rn("font-weight"),a=rn("tracking"),i=rn("leading"),s=rn("breakpoint"),c=rn("container"),d=rn("spacing"),f=rn("radius"),h=rn("shadow"),m=rn("inset-shadow"),g=rn("text-shadow"),w=rn("drop-shadow"),b=rn("blur"),x=rn("perspective"),_=rn("aspect"),S=rn("ease"),N=rn("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...k(),st,ot],A=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],R=()=>[st,ot,d],I=()=>[Jl,"full","auto",...R()],U=()=>[Bo,"none","subgrid",st,ot],O=()=>["auto",{span:["full",Bo,st,ot]},Bo,st,ot],B=()=>[Bo,"auto",st,ot],Z=()=>["auto","min","max","fr",st,ot],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...R()],ie=()=>[Jl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],W=()=>[e,st,ot],V=()=>[...k(),bk,xk,{position:[st,ot]}],F=()=>["no-repeat",{repeat:["","x","y","space","round"]}],L=()=>["auto","cover","contain",xH,gH,{size:[st,ot]}],J=()=>[Fy,Qu,As],G=()=>["","none","full",f,st,ot],de=()=>["",Lt,Qu,As],Ce=()=>["solid","dashed","dotted","double"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ae=()=>[Lt,Fy,bk,xk],Ae=()=>["","none",b,st,ot],K=()=>["none",Lt,st,ot],_e=()=>["none",Lt,st,ot],Me=()=>[Lt,st,ot],pe=()=>[Jl,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hi],breakpoint:[Hi],color:[dH],container:[Hi],"drop-shadow":[Hi],ease:["in","out","in-out"],font:[pH],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hi],shadow:[Hi],spacing:["px",Lt],text:[Hi],"text-shadow":[Hi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Jl,ot,st,_]}],container:["container"],columns:[{columns:[Lt,ot,st,c]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Bo,"auto",st,ot]}],basis:[{basis:[Jl,"full","auto",c,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Lt,Jl,"auto","initial","none",ot]}],grow:[{grow:["",Lt,st,ot]}],shrink:[{shrink:["",Lt,st,ot]}],order:[{order:[Bo,"first","last","none",st,ot]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[c,"screen",...ie()]}],"min-w":[{"min-w":[c,"screen","none",...ie()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[s]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",r,Qu,As]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,st,By]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fy,ot]}],"font-family":[{font:[yH,ot,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,st,ot]}],"line-clamp":[{"line-clamp":[Lt,"none",st,By]}],leading:[{leading:[i,...R()]}],"list-image":[{"list-image":["none",st,ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",st,ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Lt,"from-font","auto",st,As]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[Lt,"auto",st,ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st,ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st,ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:F()}],"bg-size":[{bg:L()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Bo,st,ot],radial:["",st,ot],conic:[Bo,st,ot]},bH,vH]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Lt,st,ot]}],"outline-w":[{outline:["",Lt,Qu,As]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",h,tm,em]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",m,tm,em]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[Lt,As]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",g,tm,em]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[Lt,st,ot]}],"mix-blend":[{"mix-blend":[...q(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":q()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Lt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":ae()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":ae()}],"mask-image-t-to-pos":[{"mask-t-to":ae()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":ae()}],"mask-image-r-to-pos":[{"mask-r-to":ae()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":ae()}],"mask-image-b-to-pos":[{"mask-b-to":ae()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":ae()}],"mask-image-l-to-pos":[{"mask-l-to":ae()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":ae()}],"mask-image-x-to-pos":[{"mask-x-to":ae()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":ae()}],"mask-image-y-to-pos":[{"mask-y-to":ae()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[st,ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":ae()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Lt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":ae()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:F()}],"mask-size":[{mask:L()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",st,ot]}],filter:[{filter:["","none",st,ot]}],blur:[{blur:Ae()}],brightness:[{brightness:[Lt,st,ot]}],contrast:[{contrast:[Lt,st,ot]}],"drop-shadow":[{"drop-shadow":["","none",w,tm,em]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",Lt,st,ot]}],"hue-rotate":[{"hue-rotate":[Lt,st,ot]}],invert:[{invert:["",Lt,st,ot]}],saturate:[{saturate:[Lt,st,ot]}],sepia:[{sepia:["",Lt,st,ot]}],"backdrop-filter":[{"backdrop-filter":["","none",st,ot]}],"backdrop-blur":[{"backdrop-blur":Ae()}],"backdrop-brightness":[{"backdrop-brightness":[Lt,st,ot]}],"backdrop-contrast":[{"backdrop-contrast":[Lt,st,ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Lt,st,ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Lt,st,ot]}],"backdrop-invert":[{"backdrop-invert":["",Lt,st,ot]}],"backdrop-opacity":[{"backdrop-opacity":[Lt,st,ot]}],"backdrop-saturate":[{"backdrop-saturate":[Lt,st,ot]}],"backdrop-sepia":[{"backdrop-sepia":["",Lt,st,ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",st,ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Lt,"initial",st,ot]}],ease:[{ease:["linear","initial",S,st,ot]}],delay:[{delay:[Lt,st,ot]}],animate:[{animate:["none",N,st,ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,st,ot]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[st,ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st,ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st,ot]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[Lt,Qu,As,By]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SH=aH(jH);function ht(...e){return SH(Yt(e))}const NH=Yp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 disabled:saturate-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:scale-[0.98] hover:scale-[1.02] hover:-translate-y-0.5 relative overflow-hidden font-medium",{variants:{variant:{default:"bg-gradient-to-br from-primary via-primary-lighter to-primary-accent text-white shadow-[0_8px_30px_rgb(59,130,246,0.3)] hover:shadow-[0_12px_40px_rgb(59,130,246,0.4)] border border-primary/20 before:absolute before:inset-0 before:bg-gradient-to-r before:from-white/0 before:via-white/20 before:to-white/0 before:transform before:scale-x-0 before:opacity-0 hover:before:scale-x-100 hover:before:opacity-100 before:transition-all before:duration-500 after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-white/30 after:to-transparent after:transform after:-skew-x-12 after:translate-x-[-150%] hover:after:translate-x-[150%] after:transition-transform after:duration-1000 after:ease-out",destructive:"bg-gradient-to-br from-destructive to-red-600 text-destructive-foreground shadow-[0_8px_30px_rgb(239,68,68,0.3)] hover:shadow-[0_12px_40px_rgb(239,68,68,0.4)] border border-destructive/20 relative overflow-hidden before:absolute before:inset-0 before:bg-white/20 before:transform before:scale-x-0 before:opacity-0 hover:before:scale-x-100 hover:before:opacity-100 before:transition-transform before:duration-300",outline:"border-2 border-primary/30 bg-background/80 backdrop-blur-sm text-primary hover:bg-primary/5 hover:text-primary-darker hover:border-primary/60 shadow-[0_2px_8px_rgba(0,0,0,0.04)] hover:shadow-[0_4px_16px_rgba(37,99,235,0.15)] transition-all duration-300",secondary:"bg-gradient-to-br from-secondary to-secondary-darker text-secondary-foreground shadow-[0_4px_14px_rgba(0,0,0,0.06)] hover:shadow-[0_6px_20px_rgba(0,0,0,0.1)] border border-secondary-darker/50 hover:border-secondary-darker",ghost:"text-foreground/80 hover:bg-accent/50 hover:text-accent-foreground backdrop-blur-sm transition-all duration-300",link:"text-primary underline-offset-4 hover:underline transition-all hover:text-primary-lighter",success:"bg-gradient-to-br from-success to-success-lighter text-white shadow-[0_8px_30px_rgb(5,150,105,0.3)] hover:shadow-[0_12px_40px_rgb(5,150,105,0.4)] border border-success/20",warning:"bg-gradient-to-br from-warning to-warning-lighter text-white shadow-[0_8px_30px_rgb(245,158,11,0.3)] hover:shadow-[0_12px_40px_rgb(245,158,11,0.4)] border border-warning/20"},size:{default:"h-10 px-4 py-2 text-sm",sm:"h-8 rounded-lg px-3 text-xs",lg:"h-12 rounded-xl px-8 text-base",xl:"h-14 rounded-xl px-10 text-lg",icon:"h-10 w-10 p-2.5","icon-sm":"h-8 w-8 p-2","icon-lg":"h-12 w-12 p-3"}},defaultVariants:{variant:"default",size:"default"}}),Te=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const s=n?FW:"button";return o.jsx(s,{className:ht(NH({variant:t,size:r,className:e})),ref:i,...a})});Te.displayName="Button";function Ke(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function CH(e,t){const r=y.createContext(t),n=i=>{const{children:s,...c}=i,d=y.useMemo(()=>c,Object.values(c));return o.jsx(r.Provider,{value:d,children:s})};n.displayName=e+"Provider";function a(i){const s=y.useContext(r);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function xa(e,t=[]){let r=[];function n(i,s){const c=y.createContext(s),d=r.length;r=[...r,s];const f=m=>{var S;const{scope:g,children:w,...b}=m,x=((S=g==null?void 0:g[e])==null?void 0:S[d])||c,_=y.useMemo(()=>b,Object.values(b));return o.jsx(x.Provider,{value:_,children:w})};f.displayName=i+"Provider";function h(m,g){var x;const w=((x=g==null?void 0:g[e])==null?void 0:x[d])||c,b=y.useContext(w);if(b)return b;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[f,h]}const a=()=>{const i=r.map(s=>y.createContext(s));return function(c){const d=(c==null?void 0:c[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,PH(a,...t)]}function PH(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const s=n.reduce((c,{useScope:d,scopeName:f})=>{const m=d(i)[`__scope${f}`];return{...c,...m}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return r.scopeName=t.scopeName,r}var Qr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},kH=LR[" useInsertionEffect ".trim().toString()]||Qr;function oo({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,s]=AH({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const h=y.useRef(e!==void 0);y.useEffect(()=>{const m=h.current;m!==c&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=c},[c,n])}const f=y.useCallback(h=>{var m;if(c){const g=EH(h)?h(e):h;g!==e&&((m=s.current)==null||m.call(s,g))}else i(h)},[c,e,i,s]);return[d,f]}function AH({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),a=y.useRef(r),i=y.useRef(t);return kH(()=>{i.current=t},[t]),y.useEffect(()=>{var s;a.current!==r&&((s=i.current)==null||s.call(i,r),a.current=r)},[r,a]),[r,n,i]}function EH(e){return typeof e=="function"}var OH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mt=OH.reduce((e,t)=>{const r=ts(`Primitive.${t}`),n=y.forwardRef((a,i)=>{const{asChild:s,...c}=a,d=s?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function WD(e,t){e&&jf.flushSync(()=>e.dispatchEvent(t))}function Jp(e){const t=e+"CollectionProvider",[r,n]=xa(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),s=x=>{const{scope:_,children:S}=x,N=ee.useRef(null),P=ee.useRef(new Map).current;return o.jsx(a,{scope:_,itemMap:P,collectionRef:N,children:S})};s.displayName=t;const c=e+"CollectionSlot",d=ts(c),f=ee.forwardRef((x,_)=>{const{scope:S,children:N}=x,P=i(c,S),k=Ot(_,P.collectionRef);return o.jsx(d,{ref:k,children:N})});f.displayName=c;const h=e+"CollectionItemSlot",m="data-radix-collection-item",g=ts(h),w=ee.forwardRef((x,_)=>{const{scope:S,children:N,...P}=x,k=ee.useRef(null),C=Ot(_,k),A=i(h,S);return ee.useEffect(()=>(A.itemMap.set(k,{ref:k,...P}),()=>void A.itemMap.delete(k))),o.jsx(g,{[m]:"",ref:C,children:N})});w.displayName=h;function b(x){const _=i(e+"CollectionConsumer",x);return ee.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const P=Array.from(N.querySelectorAll(`[${m}]`));return Array.from(_.itemMap.values()).sort((A,T)=>P.indexOf(A.ref.current)-P.indexOf(T.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:s,Slot:f,ItemSlot:w},b,n]}var TH=y.createContext(void 0);function ru(e){const t=y.useContext(TH);return e||t||"ltr"}function pn(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function MH(e,t=globalThis==null?void 0:globalThis.document){const r=pn(e);y.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var RH="DismissableLayer",x_="dismissableLayer.update",DH="dismissableLayer.pointerDownOutside",IH="dismissableLayer.focusOutside",wk,HD=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cf=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:s,onDismiss:c,...d}=e,f=y.useContext(HD),[h,m]=y.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=y.useState({}),b=Ot(t,T=>m(T)),x=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),N=h?x.indexOf(h):-1,P=f.layersWithOutsidePointerEventsDisabled.size>0,k=N>=S,C=FH(T=>{const R=T.target,I=[...f.branches].some(U=>U.contains(R));!k||I||(a==null||a(T),s==null||s(T),T.defaultPrevented||c==null||c())},g),A=BH(T=>{const R=T.target;[...f.branches].some(U=>U.contains(R))||(i==null||i(T),s==null||s(T),T.defaultPrevented||c==null||c())},g);return MH(T=>{N===f.layers.size-1&&(n==null||n(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},g),y.useEffect(()=>{if(h)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(wk=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(h)),f.layers.add(h),_k(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=wk)}},[h,g,r,f]),y.useEffect(()=>()=>{h&&(f.layers.delete(h),f.layersWithOutsidePointerEventsDisabled.delete(h),_k())},[h,f]),y.useEffect(()=>{const T=()=>w({});return document.addEventListener(x_,T),()=>document.removeEventListener(x_,T)},[]),o.jsx(mt.div,{...d,ref:b,style:{pointerEvents:P?k?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,A.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,C.onPointerDownCapture)})});Cf.displayName=RH;var $H="DismissableLayerBranch",LH=y.forwardRef((e,t)=>{const r=y.useContext(HD),n=y.useRef(null),a=Ot(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),o.jsx(mt.div,{...e,ref:a})});LH.displayName=$H;function FH(e,t=globalThis==null?void 0:globalThis.document){const r=pn(e),n=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){VD(DH,r,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function BH(e,t=globalThis==null?void 0:globalThis.document){const r=pn(e),n=y.useRef(!1);return y.useEffect(()=>{const a=i=>{i.target&&!n.current&&VD(IH,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function _k(){const e=new CustomEvent(x_);document.dispatchEvent(e)}function VD(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?WD(a,i):a.dispatchEvent(i)}var Uy=0;function Xp(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??jk()),document.body.insertAdjacentElement("beforeend",e[1]??jk()),Uy++,()=>{Uy===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Uy--}},[])}function jk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zy="focusScope.autoFocusOnMount",qy="focusScope.autoFocusOnUnmount",Sk={bubbles:!1,cancelable:!0},UH="FocusScope",Pf=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...s}=e,[c,d]=y.useState(null),f=pn(a),h=pn(i),m=y.useRef(null),g=Ot(t,x=>d(x)),w=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let x=function(P){if(w.paused||!c)return;const k=P.target;c.contains(k)?m.current=k:qo(m.current,{select:!0})},_=function(P){if(w.paused||!c)return;const k=P.relatedTarget;k!==null&&(c.contains(k)||qo(m.current,{select:!0}))},S=function(P){if(document.activeElement===document.body)for(const C of P)C.removedNodes.length>0&&qo(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const N=new MutationObserver(S);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),N.disconnect()}}},[n,c,w.paused]),y.useEffect(()=>{if(c){Ck.add(w);const x=document.activeElement;if(!c.contains(x)){const S=new CustomEvent(zy,Sk);c.addEventListener(zy,f),c.dispatchEvent(S),S.defaultPrevented||(zH(GH(GD(c)),{select:!0}),document.activeElement===x&&qo(c))}return()=>{c.removeEventListener(zy,f),setTimeout(()=>{const S=new CustomEvent(qy,Sk);c.addEventListener(qy,h),c.dispatchEvent(S),S.defaultPrevented||qo(x??document.body,{select:!0}),c.removeEventListener(qy,h),Ck.remove(w)},0)}}},[c,f,h,w]);const b=y.useCallback(x=>{if(!r&&!n||w.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(_&&S){const N=x.currentTarget,[P,k]=qH(N);P&&k?!x.shiftKey&&S===k?(x.preventDefault(),r&&qo(P,{select:!0})):x.shiftKey&&S===P&&(x.preventDefault(),r&&qo(k,{select:!0})):S===N&&x.preventDefault()}},[r,n,w.paused]);return o.jsx(mt.div,{tabIndex:-1,...s,ref:g,onKeyDown:b})});Pf.displayName=UH;function zH(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(qo(n,{select:t}),document.activeElement!==r)return}function qH(e){const t=GD(e),r=Nk(t,e),n=Nk(t.reverse(),e);return[r,n]}function GD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Nk(e,t){for(const r of e)if(!WH(r,{upTo:t}))return r}function WH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function HH(e){return e instanceof HTMLInputElement&&"select"in e}function qo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&HH(e)&&t&&e.select()}}var Ck=VH();function VH(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Pk(e,t),e.unshift(t)},remove(t){var r;e=Pk(e,t),(r=e[0])==null||r.resume()}}}function Pk(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function GH(e){return e.filter(t=>t.tagName!=="A")}var KH=LR[" useId ".trim().toString()]||(()=>{}),YH=0;function ai(e){const[t,r]=y.useState(KH());return Qr(()=>{r(n=>n??String(YH++))},[e]),t?`radix-${t}`:""}const JH=["top","right","bottom","left"],rs=Math.min,pa=Math.max,Tm=Math.round,rm=Math.floor,Ci=e=>({x:e,y:e}),XH={left:"right",right:"left",bottom:"top",top:"bottom"},QH={start:"end",end:"start"};function b_(e,t,r){return pa(e,rs(t,r))}function so(e,t){return typeof e=="function"?e(t):e}function lo(e){return e.split("-")[0]}function nu(e){return e.split("-")[1]}function bj(e){return e==="x"?"y":"x"}function wj(e){return e==="y"?"height":"width"}function ji(e){return["top","bottom"].includes(lo(e))?"y":"x"}function _j(e){return bj(ji(e))}function ZH(e,t,r){r===void 0&&(r=!1);const n=nu(e),a=_j(e),i=wj(a);let s=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Mm(s)),[s,Mm(s)]}function e9(e){const t=Mm(e);return[w_(e),t,w_(t)]}function w_(e){return e.replace(/start|end/g,t=>QH[t])}function t9(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:s;default:return[]}}function r9(e,t,r,n){const a=nu(e);let i=t9(lo(e),r==="start",n);return a&&(i=i.map(s=>s+"-"+a),t&&(i=i.concat(i.map(w_)))),i}function Mm(e){return e.replace(/left|right|bottom|top/g,t=>XH[t])}function n9(e){return{top:0,right:0,bottom:0,left:0,...e}}function KD(e){return typeof e!="number"?n9(e):{top:e,right:e,bottom:e,left:e}}function Rm(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function kk(e,t,r){let{reference:n,floating:a}=e;const i=ji(t),s=_j(t),c=wj(s),d=lo(t),f=i==="y",h=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,g=n[c]/2-a[c]/2;let w;switch(d){case"top":w={x:h,y:n.y-a.height};break;case"bottom":w={x:h,y:n.y+n.height};break;case"right":w={x:n.x+n.width,y:m};break;case"left":w={x:n.x-a.width,y:m};break;default:w={x:n.x,y:n.y}}switch(nu(t)){case"start":w[s]-=g*(r&&f?-1:1);break;case"end":w[s]+=g*(r&&f?-1:1);break}return w}const a9=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:s}=r,c=i.filter(Boolean),d=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:a}),{x:h,y:m}=kk(f,n,d),g=n,w={},b=0;for(let x=0;x<c.length;x++){const{name:_,fn:S}=c[x],{x:N,y:P,data:k,reset:C}=await S({x:h,y:m,initialPlacement:n,placement:g,strategy:a,middlewareData:w,rects:f,platform:s,elements:{reference:e,floating:t}});h=N??h,m=P??m,w={...w,[_]:{...w[_],...k}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(f=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:a}):C.rects),{x:h,y:m}=kk(f,g,d)),x=-1)}return{x:h,y:m,placement:g,strategy:a,middlewareData:w}};async function Ed(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:s,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:w=0}=so(t,e),b=KD(w),_=c[g?m==="floating"?"reference":"floating":m],S=Rm(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:h,strategy:d})),N=m==="floating"?{x:n,y:a,width:s.floating.width,height:s.floating.height}:s.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),k=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},C=Rm(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:P,strategy:d}):N);return{top:(S.top-C.top+b.top)/k.y,bottom:(C.bottom-S.bottom+b.bottom)/k.y,left:(S.left-C.left+b.left)/k.x,right:(C.right-S.right+b.right)/k.x}}const i9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:s,elements:c,middlewareData:d}=t,{element:f,padding:h=0}=so(e,t)||{};if(f==null)return{};const m=KD(h),g={x:r,y:n},w=_j(a),b=wj(w),x=await s.getDimensions(f),_=w==="y",S=_?"top":"left",N=_?"bottom":"right",P=_?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[w]-g[w]-i.floating[b],C=g[w]-i.reference[w],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let T=A?A[P]:0;(!T||!await(s.isElement==null?void 0:s.isElement(A)))&&(T=c.floating[P]||i.floating[b]);const R=k/2-C/2,I=T/2-x[b]/2-1,U=rs(m[S],I),O=rs(m[N],I),B=U,Z=T-x[b]-O,te=T/2-x[b]/2+R,Q=b_(B,te,Z),Y=!d.arrow&&nu(a)!=null&&te!==Q&&i.reference[b]/2-(te<B?U:O)-x[b]/2<0,ie=Y?te<B?te-B:te-Z:0;return{[w]:g[w]+ie,data:{[w]:Q,centerOffset:te-Q-ie,...Y&&{alignmentOffset:ie}},reset:Y}}}),o9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:s,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,..._}=so(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const S=lo(a),N=ji(c),P=lo(c)===c,k=await(d.isRTL==null?void 0:d.isRTL(f.floating)),C=g||(P||!x?[Mm(c)]:e9(c)),A=b!=="none";!g&&A&&C.push(...r9(c,x,b,k));const T=[c,...C],R=await Ed(t,_),I=[];let U=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&I.push(R[S]),m){const te=ZH(a,s,k);I.push(R[te[0]],R[te[1]])}if(U=[...U,{placement:a,overflows:I}],!I.every(te=>te<=0)){var O,B;const te=(((O=i.flip)==null?void 0:O.index)||0)+1,Q=T[te];if(Q&&(!(m==="alignment"?N!==ji(Q):!1)||U.every(W=>W.overflows[0]>0&&ji(W.placement)===N)))return{data:{index:te,overflows:U},reset:{placement:Q}};let Y=(B=U.filter(ie=>ie.overflows[0]<=0).sort((ie,W)=>ie.overflows[1]-W.overflows[1])[0])==null?void 0:B.placement;if(!Y)switch(w){case"bestFit":{var Z;const ie=(Z=U.filter(W=>{if(A){const V=ji(W.placement);return V===N||V==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(V=>V>0).reduce((V,F)=>V+F,0)]).sort((W,V)=>W[1]-V[1])[0])==null?void 0:Z[0];ie&&(Y=ie);break}case"initialPlacement":Y=c;break}if(a!==Y)return{reset:{placement:Y}}}return{}}}};function Ak(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ek(e){return JH.some(t=>e[t]>=0)}const s9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=so(e,t);switch(n){case"referenceHidden":{const i=await Ed(t,{...a,elementContext:"reference"}),s=Ak(i,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Ek(s)}}}case"escaped":{const i=await Ed(t,{...a,altBoundary:!0}),s=Ak(i,r.floating);return{data:{escapedOffsets:s,escaped:Ek(s)}}}default:return{}}}}};async function l9(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),s=lo(r),c=nu(r),d=ji(r)==="y",f=["left","top"].includes(s)?-1:1,h=i&&d?-1:1,m=so(t,e);let{mainAxis:g,crossAxis:w,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return c&&typeof b=="number"&&(w=c==="end"?b*-1:b),d?{x:w*h,y:g*f}:{x:g*f,y:w*h}}const c9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:s,middlewareData:c}=t,d=await l9(t,e);return s===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:s}}}}},u9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:_=>{let{x:S,y:N}=_;return{x:S,y:N}}},...d}=so(e,t),f={x:r,y:n},h=await Ed(t,d),m=ji(lo(a)),g=bj(m);let w=f[g],b=f[m];if(i){const _=g==="y"?"top":"left",S=g==="y"?"bottom":"right",N=w+h[_],P=w-h[S];w=b_(N,w,P)}if(s){const _=m==="y"?"top":"left",S=m==="y"?"bottom":"right",N=b+h[_],P=b-h[S];b=b_(N,b,P)}const x=c.fn({...t,[g]:w,[m]:b});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[g]:i,[m]:s}}}}}},d9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:s}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=so(e,t),h={x:r,y:n},m=ji(a),g=bj(m);let w=h[g],b=h[m];const x=so(c,t),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(d){const P=g==="y"?"height":"width",k=i.reference[g]-i.floating[P]+_.mainAxis,C=i.reference[g]+i.reference[P]-_.mainAxis;w<k?w=k:w>C&&(w=C)}if(f){var S,N;const P=g==="y"?"width":"height",k=["top","left"].includes(lo(a)),C=i.reference[m]-i.floating[P]+(k&&((S=s.offset)==null?void 0:S[m])||0)+(k?0:_.crossAxis),A=i.reference[m]+i.reference[P]+(k?0:((N=s.offset)==null?void 0:N[m])||0)-(k?_.crossAxis:0);b<C?b=C:b>A&&(b=A)}return{[g]:w,[m]:b}}}},f9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:s,elements:c}=t,{apply:d=()=>{},...f}=so(e,t),h=await Ed(t,f),m=lo(a),g=nu(a),w=ji(a)==="y",{width:b,height:x}=i.floating;let _,S;m==="top"||m==="bottom"?(_=m,S=g===(await(s.isRTL==null?void 0:s.isRTL(c.floating))?"start":"end")?"left":"right"):(S=m,_=g==="end"?"top":"bottom");const N=x-h.top-h.bottom,P=b-h.left-h.right,k=rs(x-h[_],N),C=rs(b-h[S],P),A=!t.middlewareData.shift;let T=k,R=C;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(R=P),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=N),A&&!g){const U=pa(h.left,0),O=pa(h.right,0),B=pa(h.top,0),Z=pa(h.bottom,0);w?R=b-2*(U!==0||O!==0?U+O:pa(h.left,h.right)):T=x-2*(B!==0||Z!==0?B+Z:pa(h.top,h.bottom))}await d({...t,availableWidth:R,availableHeight:T});const I=await s.getDimensions(c.floating);return b!==I.width||x!==I.height?{reset:{rects:!0}}:{}}}};function Qp(){return typeof window<"u"}function au(e){return YD(e)?(e.nodeName||"").toLowerCase():"#document"}function va(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ti(e){var t;return(t=(YD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function YD(e){return Qp()?e instanceof Node||e instanceof va(e).Node:!1}function li(e){return Qp()?e instanceof Element||e instanceof va(e).Element:!1}function Ai(e){return Qp()?e instanceof HTMLElement||e instanceof va(e).HTMLElement:!1}function Ok(e){return!Qp()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof va(e).ShadowRoot}function kf(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ci(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function h9(e){return["table","td","th"].includes(au(e))}function Zp(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jj(e){const t=Sj(),r=li(e)?ci(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function m9(e){let t=ns(e);for(;Ai(t)&&!_c(t);){if(jj(t))return t;if(Zp(t))return null;t=ns(t)}return null}function Sj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _c(e){return["html","body","#document"].includes(au(e))}function ci(e){return va(e).getComputedStyle(e)}function eg(e){return li(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ns(e){if(au(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ok(e)&&e.host||Ti(e);return Ok(t)?t.host:t}function JD(e){const t=ns(e);return _c(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ai(t)&&kf(t)?t:JD(t)}function Od(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=JD(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),s=va(a);if(i){const c=__(s);return t.concat(s,s.visualViewport||[],kf(a)?a:[],c&&r?Od(c):[])}return t.concat(a,Od(a,[],r))}function __(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function XD(e){const t=ci(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ai(e),i=a?e.offsetWidth:r,s=a?e.offsetHeight:n,c=Tm(r)!==i||Tm(n)!==s;return c&&(r=i,n=s),{width:r,height:n,$:c}}function Nj(e){return li(e)?e:e.contextElement}function hc(e){const t=Nj(e);if(!Ai(t))return Ci(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=XD(t);let s=(i?Tm(r.width):r.width)/n,c=(i?Tm(r.height):r.height)/a;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const p9=Ci(0);function QD(e){const t=va(e);return!Sj()||!t.visualViewport?p9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function g9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==va(e)?!1:t}function Qs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=Nj(e);let s=Ci(1);t&&(n?li(n)&&(s=hc(n)):s=hc(e));const c=g9(i,r,n)?QD(i):Ci(0);let d=(a.left+c.x)/s.x,f=(a.top+c.y)/s.y,h=a.width/s.x,m=a.height/s.y;if(i){const g=va(i),w=n&&li(n)?va(n):n;let b=g,x=__(b);for(;x&&n&&w!==b;){const _=hc(x),S=x.getBoundingClientRect(),N=ci(x),P=S.left+(x.clientLeft+parseFloat(N.paddingLeft))*_.x,k=S.top+(x.clientTop+parseFloat(N.paddingTop))*_.y;d*=_.x,f*=_.y,h*=_.x,m*=_.y,d+=P,f+=k,b=va(x),x=__(b)}}return Rm({width:h,height:m,x:d,y:f})}function Cj(e,t){const r=eg(e).scrollLeft;return t?t.left+r:Qs(Ti(e)).left+r}function ZD(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:Cj(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function v9(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",s=Ti(n),c=t?Zp(t.floating):!1;if(n===s||c&&i)return r;let d={scrollLeft:0,scrollTop:0},f=Ci(1);const h=Ci(0),m=Ai(n);if((m||!m&&!i)&&((au(n)!=="body"||kf(s))&&(d=eg(n)),Ai(n))){const w=Qs(n);f=hc(n),h.x=w.x+n.clientLeft,h.y=w.y+n.clientTop}const g=s&&!m&&!i?ZD(s,d,!0):Ci(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+h.x+g.x,y:r.y*f.y-d.scrollTop*f.y+h.y+g.y}}function y9(e){return Array.from(e.getClientRects())}function x9(e){const t=Ti(e),r=eg(e),n=e.ownerDocument.body,a=pa(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=pa(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+Cj(e);const c=-r.scrollTop;return ci(n).direction==="rtl"&&(s+=pa(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:s,y:c}}function b9(e,t){const r=va(e),n=Ti(e),a=r.visualViewport;let i=n.clientWidth,s=n.clientHeight,c=0,d=0;if(a){i=a.width,s=a.height;const f=Sj();(!f||f&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}return{width:i,height:s,x:c,y:d}}function w9(e,t){const r=Qs(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Ai(e)?hc(e):Ci(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,d=a*i.x,f=n*i.y;return{width:s,height:c,x:d,y:f}}function Tk(e,t,r){let n;if(t==="viewport")n=b9(e,r);else if(t==="document")n=x9(Ti(e));else if(li(t))n=w9(t,r);else{const a=QD(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Rm(n)}function eI(e,t){const r=ns(e);return r===t||!li(r)||_c(r)?!1:ci(r).position==="fixed"||eI(r,t)}function _9(e,t){const r=t.get(e);if(r)return r;let n=Od(e,[],!1).filter(c=>li(c)&&au(c)!=="body"),a=null;const i=ci(e).position==="fixed";let s=i?ns(e):e;for(;li(s)&&!_c(s);){const c=ci(s),d=jj(s);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||kf(s)&&!d&&eI(e,s))?n=n.filter(h=>h!==s):a=c,s=ns(s)}return t.set(e,n),n}function j9(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const s=[...r==="clippingAncestors"?Zp(t)?[]:_9(t,this._c):[].concat(r),n],c=s[0],d=s.reduce((f,h)=>{const m=Tk(t,h,a);return f.top=pa(m.top,f.top),f.right=rs(m.right,f.right),f.bottom=rs(m.bottom,f.bottom),f.left=pa(m.left,f.left),f},Tk(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function S9(e){const{width:t,height:r}=XD(e);return{width:t,height:r}}function N9(e,t,r){const n=Ai(t),a=Ti(t),i=r==="fixed",s=Qs(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=Ci(0);function f(){d.x=Cj(a)}if(n||!n&&!i)if((au(t)!=="body"||kf(a))&&(c=eg(t)),n){const w=Qs(t,!0,i,t);d.x=w.x+t.clientLeft,d.y=w.y+t.clientTop}else a&&f();i&&!n&&a&&f();const h=a&&!n&&!i?ZD(a,c):Ci(0),m=s.left+c.scrollLeft-d.x-h.x,g=s.top+c.scrollTop-d.y-h.y;return{x:m,y:g,width:s.width,height:s.height}}function Wy(e){return ci(e).position==="static"}function Mk(e,t){if(!Ai(e)||ci(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ti(e)===r&&(r=r.ownerDocument.body),r}function tI(e,t){const r=va(e);if(Zp(e))return r;if(!Ai(e)){let a=ns(e);for(;a&&!_c(a);){if(li(a)&&!Wy(a))return a;a=ns(a)}return r}let n=Mk(e,t);for(;n&&h9(n)&&Wy(n);)n=Mk(n,t);return n&&_c(n)&&Wy(n)&&!jj(n)?r:n||m9(e)||r}const C9=async function(e){const t=this.getOffsetParent||tI,r=this.getDimensions,n=await r(e.floating);return{reference:N9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function P9(e){return ci(e).direction==="rtl"}const k9={convertOffsetParentRelativeRectToViewportRelativeRect:v9,getDocumentElement:Ti,getClippingRect:j9,getOffsetParent:tI,getElementRects:C9,getClientRects:y9,getDimensions:S9,getScale:hc,isElement:li,isRTL:P9};function rI(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function A9(e,t){let r=null,n;const a=Ti(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function s(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:h,top:m,width:g,height:w}=f;if(c||t(),!g||!w)return;const b=rm(m),x=rm(a.clientWidth-(h+g)),_=rm(a.clientHeight-(m+w)),S=rm(h),P={rootMargin:-b+"px "+-x+"px "+-_+"px "+-S+"px",threshold:pa(0,rs(1,d))||1};let k=!0;function C(A){const T=A[0].intersectionRatio;if(T!==d){if(!k)return s();T?s(!1,T):n=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!rI(f,e.getBoundingClientRect())&&s(),k=!1}try{r=new IntersectionObserver(C,{...P,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,P)}r.observe(e)}return s(!0),i}function E9(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=Nj(e),h=a||i?[...f?Od(f):[],...Od(t)]:[];h.forEach(S=>{a&&S.addEventListener("scroll",r,{passive:!0}),i&&S.addEventListener("resize",r)});const m=f&&c?A9(f,r):null;let g=-1,w=null;s&&(w=new ResizeObserver(S=>{let[N]=S;N&&N.target===f&&w&&(w.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var P;(P=w)==null||P.observe(t)})),r()}),f&&!d&&w.observe(f),w.observe(t));let b,x=d?Qs(e):null;d&&_();function _(){const S=Qs(e);x&&!rI(x,S)&&r(),x=S,b=requestAnimationFrame(_)}return r(),()=>{var S;h.forEach(N=>{a&&N.removeEventListener("scroll",r),i&&N.removeEventListener("resize",r)}),m==null||m(),(S=w)==null||S.disconnect(),w=null,d&&cancelAnimationFrame(b)}}const O9=c9,T9=u9,M9=o9,R9=f9,D9=s9,Rk=i9,I9=d9,$9=(e,t,r)=>{const n=new Map,a={platform:k9,...r},i={...a.platform,_c:n};return a9(e,t,{...a,platform:i})};var L9=typeof document<"u",F9=function(){},jm=L9?y.useLayoutEffect:F9;function Dm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Dm(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Dm(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function nI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Dk(e,t){const r=nI(e);return Math.round(t*r)/r}function Hy(e){const t=y.useRef(e);return jm(()=>{t.current=e}),t}function B9(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[h,m]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,w]=y.useState(n);Dm(g,n)||w(n);const[b,x]=y.useState(null),[_,S]=y.useState(null),N=y.useCallback(W=>{W!==A.current&&(A.current=W,x(W))},[]),P=y.useCallback(W=>{W!==T.current&&(T.current=W,S(W))},[]),k=i||b,C=s||_,A=y.useRef(null),T=y.useRef(null),R=y.useRef(h),I=d!=null,U=Hy(d),O=Hy(a),B=Hy(f),Z=y.useCallback(()=>{if(!A.current||!T.current)return;const W={placement:t,strategy:r,middleware:g};O.current&&(W.platform=O.current),$9(A.current,T.current,W).then(V=>{const F={...V,isPositioned:B.current!==!1};te.current&&!Dm(R.current,F)&&(R.current=F,jf.flushSync(()=>{m(F)}))})},[g,t,r,O,B]);jm(()=>{f===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[f]);const te=y.useRef(!1);jm(()=>(te.current=!0,()=>{te.current=!1}),[]),jm(()=>{if(k&&(A.current=k),C&&(T.current=C),k&&C){if(U.current)return U.current(k,C,Z);Z()}},[k,C,Z,U,I]);const Q=y.useMemo(()=>({reference:A,floating:T,setReference:N,setFloating:P}),[N,P]),Y=y.useMemo(()=>({reference:k,floating:C}),[k,C]),ie=y.useMemo(()=>{const W={position:r,left:0,top:0};if(!Y.floating)return W;const V=Dk(Y.floating,h.x),F=Dk(Y.floating,h.y);return c?{...W,transform:"translate("+V+"px, "+F+"px)",...nI(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:V,top:F}},[r,c,Y.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:Z,refs:Q,elements:Y,floatingStyles:ie}),[h,Z,Q,Y,ie])}const U9=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Rk({element:n.current,padding:a}).fn(r):{}:n?Rk({element:n,padding:a}).fn(r):{}}}},z9=(e,t)=>({...O9(e),options:[e,t]}),q9=(e,t)=>({...T9(e),options:[e,t]}),W9=(e,t)=>({...I9(e),options:[e,t]}),H9=(e,t)=>({...M9(e),options:[e,t]}),V9=(e,t)=>({...R9(e),options:[e,t]}),G9=(e,t)=>({...D9(e),options:[e,t]}),K9=(e,t)=>({...U9(e),options:[e,t]});var Y9="Arrow",aI=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return o.jsx(mt.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});aI.displayName=Y9;var J9=aI;function Pj(e){const[t,r]=y.useState(void 0);return Qr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let s,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;s=f.inlineSize,c=f.blockSize}else s=e.offsetWidth,c=e.offsetHeight;r({width:s,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var kj="Popper",[iI,iu]=xa(kj),[X9,oI]=iI(kj),sI=e=>{const{__scopePopper:t,children:r}=e,[n,a]=y.useState(null);return o.jsx(X9,{scope:t,anchor:n,onAnchorChange:a,children:r})};sI.displayName=kj;var lI="PopperAnchor",cI=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=oI(lI,r),s=y.useRef(null),c=Ot(t,s);return y.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:o.jsx(mt.div,{...a,ref:c})});cI.displayName=lI;var Aj="PopperContent",[Q9,Z9]=iI(Aj),uI=y.forwardRef((e,t)=>{var ae,Ae,K,_e,Me,pe;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:s=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:w="optimized",onPlaced:b,...x}=e,_=oI(Aj,r),[S,N]=y.useState(null),P=Ot(t,Qe=>N(Qe)),[k,C]=y.useState(null),A=Pj(k),T=(A==null?void 0:A.width)??0,R=(A==null?void 0:A.height)??0,I=n+(i!=="center"?"-"+i:""),U=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(f)?f:[f],B=O.length>0,Z={padding:U,boundary:O.filter(tV),altBoundary:B},{refs:te,floatingStyles:Q,placement:Y,isPositioned:ie,middlewareData:W}=B9({strategy:"fixed",placement:I,whileElementsMounted:(...Qe)=>E9(...Qe,{animationFrame:w==="always"}),elements:{reference:_.anchor},middleware:[z9({mainAxis:a+R,alignmentAxis:s}),d&&q9({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?W9():void 0,...Z}),d&&H9({...Z}),V9({...Z,apply:({elements:Qe,rects:ze,availableWidth:re,availableHeight:Ct})=>{const{width:Vt,height:Pt}=ze.reference,Gt=Qe.floating.style;Gt.setProperty("--radix-popper-available-width",`${re}px`),Gt.setProperty("--radix-popper-available-height",`${Ct}px`),Gt.setProperty("--radix-popper-anchor-width",`${Vt}px`),Gt.setProperty("--radix-popper-anchor-height",`${Pt}px`)}}),k&&K9({element:k,padding:c}),rV({arrowWidth:T,arrowHeight:R}),g&&G9({strategy:"referenceHidden",...Z})]}),[V,F]=hI(Y),L=pn(b);Qr(()=>{ie&&(L==null||L())},[ie,L]);const J=(ae=W.arrow)==null?void 0:ae.x,G=(Ae=W.arrow)==null?void 0:Ae.y,de=((K=W.arrow)==null?void 0:K.centerOffset)!==0,[Ce,q]=y.useState();return Qr(()=>{S&&q(window.getComputedStyle(S).zIndex)},[S]),o.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:ie?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ce,"--radix-popper-transform-origin":[(_e=W.transformOrigin)==null?void 0:_e.x,(Me=W.transformOrigin)==null?void 0:Me.y].join(" "),...((pe=W.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(Q9,{scope:r,placedSide:V,onArrowChange:C,arrowX:J,arrowY:G,shouldHideArrow:de,children:o.jsx(mt.div,{"data-side":V,"data-align":F,...x,ref:P,style:{...x.style,animation:ie?void 0:"none"}})})})});uI.displayName=Aj;var dI="PopperArrow",eV={top:"bottom",right:"left",bottom:"top",left:"right"},fI=y.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Z9(dI,n),s=eV[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(J9,{...a,ref:r,style:{...a.style,display:"block"}})})});fI.displayName=dI;function tV(e){return e!==null}var rV=e=>({name:"transformOrigin",options:e,fn(t){var _,S,N;const{placement:r,rects:n,middlewareData:a}=t,s=((_=a.arrow)==null?void 0:_.centerOffset)!==0,c=s?0:e.arrowWidth,d=s?0:e.arrowHeight,[f,h]=hI(r),m={start:"0%",center:"50%",end:"100%"}[h],g=(((S=a.arrow)==null?void 0:S.x)??0)+c/2,w=(((N=a.arrow)==null?void 0:N.y)??0)+d/2;let b="",x="";return f==="bottom"?(b=s?m:`${g}px`,x=`${-d}px`):f==="top"?(b=s?m:`${g}px`,x=`${n.floating.height+d}px`):f==="right"?(b=`${-d}px`,x=s?m:`${w}px`):f==="left"&&(b=`${n.floating.width+d}px`,x=s?m:`${w}px`),{data:{x:b,y:x}}}});function hI(e){const[t,r="center"]=e.split("-");return[t,r]}var Ej=sI,tg=cI,Oj=uI,Tj=fI,nV="Portal",Af=y.forwardRef((e,t)=>{var c;const{container:r,...n}=e,[a,i]=y.useState(!1);Qr(()=>i(!0),[]);const s=r||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return s?D8.createPortal(o.jsx(mt.div,{...n,ref:t}),s):null});Af.displayName=nV;function aV(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var $n=e=>{const{present:t,children:r}=e,n=iV(t),a=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=Ot(n.ref,oV(a));return typeof r=="function"||n.isPresent?y.cloneElement(a,{ref:i}):null};$n.displayName="Presence";function iV(e){const[t,r]=y.useState(),n=y.useRef(null),a=y.useRef(e),i=y.useRef("none"),s=e?"mounted":"unmounted",[c,d]=aV(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const f=nm(n.current);i.current=c==="mounted"?f:"none"},[c]),Qr(()=>{const f=n.current,h=a.current;if(h!==e){const g=i.current,w=nm(f);e?d("MOUNT"):w==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(h&&g!==w?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),Qr(()=>{if(t){let f;const h=t.ownerDocument.defaultView??window,m=w=>{const x=nm(n.current).includes(w.animationName);if(w.target===t&&x&&(d("ANIMATION_END"),!a.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",f=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=w=>{w.target===t&&(i.current=nm(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:y.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function nm(e){return(e==null?void 0:e.animationName)||"none"}function oV(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Vy="rovingFocusGroup.onEntryFocus",sV={bubbles:!1,cancelable:!0},Ef="RovingFocusGroup",[j_,mI,lV]=Jp(Ef),[cV,rg]=xa(Ef,[lV]),[uV,dV]=cV(Ef),pI=y.forwardRef((e,t)=>o.jsx(j_.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(j_.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(fV,{...e,ref:t})})}));pI.displayName=Ef;var fV=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:h=!1,...m}=e,g=y.useRef(null),w=Ot(t,g),b=ru(i),[x,_]=oo({prop:s,defaultProp:c??null,onChange:d,caller:Ef}),[S,N]=y.useState(!1),P=pn(f),k=mI(r),C=y.useRef(!1),[A,T]=y.useState(0);return y.useEffect(()=>{const R=g.current;if(R)return R.addEventListener(Vy,P),()=>R.removeEventListener(Vy,P)},[P]),o.jsx(uV,{scope:r,orientation:n,dir:b,loop:a,currentTabStopId:x,onItemFocus:y.useCallback(R=>_(R),[_]),onItemShiftTab:y.useCallback(()=>N(!0),[]),onFocusableItemAdd:y.useCallback(()=>T(R=>R+1),[]),onFocusableItemRemove:y.useCallback(()=>T(R=>R-1),[]),children:o.jsx(mt.div,{tabIndex:S||A===0?-1:0,"data-orientation":n,...m,ref:w,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{C.current=!0}),onFocus:Ke(e.onFocus,R=>{const I=!C.current;if(R.target===R.currentTarget&&I&&!S){const U=new CustomEvent(Vy,sV);if(R.currentTarget.dispatchEvent(U),!U.defaultPrevented){const O=k().filter(Y=>Y.focusable),B=O.find(Y=>Y.active),Z=O.find(Y=>Y.id===x),Q=[B,Z,...O].filter(Boolean).map(Y=>Y.ref.current);yI(Q,h)}}C.current=!1}),onBlur:Ke(e.onBlur,()=>N(!1))})})}),gI="RovingFocusGroupItem",vI=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:s,...c}=e,d=ai(),f=i||d,h=dV(gI,r),m=h.currentTabStopId===f,g=mI(r),{onFocusableItemAdd:w,onFocusableItemRemove:b,currentTabStopId:x}=h;return y.useEffect(()=>{if(n)return w(),()=>b()},[n,w,b]),o.jsx(j_.ItemSlot,{scope:r,id:f,focusable:n,active:a,children:o.jsx(mt.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...c,ref:t,onMouseDown:Ke(e.onMouseDown,_=>{n?h.onItemFocus(f):_.preventDefault()}),onFocus:Ke(e.onFocus,()=>h.onItemFocus(f)),onKeyDown:Ke(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){h.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=pV(_,h.orientation,h.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let P=g().filter(k=>k.focusable).map(k=>k.ref.current);if(S==="last")P.reverse();else if(S==="prev"||S==="next"){S==="prev"&&P.reverse();const k=P.indexOf(_.currentTarget);P=h.loop?gV(P,k+1):P.slice(k+1)}setTimeout(()=>yI(P))}}),children:typeof s=="function"?s({isCurrentTabStop:m,hasTabStop:x!=null}):s})})});vI.displayName=gI;var hV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mV(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pV(e,t,r){const n=mV(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hV[n]}function yI(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function gV(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var xI=pI,bI=vI,vV=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Xl=new WeakMap,am=new WeakMap,im={},Gy=0,wI=function(e){return e&&(e.host||wI(e.parentNode))},yV=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=wI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},xV=function(e,t,r,n){var a=yV(t,Array.isArray(e)?e:[e]);im[r]||(im[r]=new WeakMap);var i=im[r],s=[],c=new Set,d=new Set(a),f=function(m){!m||c.has(m)||(c.add(m),f(m.parentNode))};a.forEach(f);var h=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(g){if(c.has(g))h(g);else try{var w=g.getAttribute(n),b=w!==null&&w!=="false",x=(Xl.get(g)||0)+1,_=(i.get(g)||0)+1;Xl.set(g,x),i.set(g,_),s.push(g),x===1&&b&&am.set(g,!0),_===1&&g.setAttribute(r,"true"),b||g.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return h(t),c.clear(),Gy++,function(){s.forEach(function(m){var g=Xl.get(m)-1,w=i.get(m)-1;Xl.set(m,g),i.set(m,w),g||(am.has(m)||m.removeAttribute(n),am.delete(m)),w||m.removeAttribute(r)}),Gy--,Gy||(Xl=new WeakMap,Xl=new WeakMap,am=new WeakMap,im={})}},ng=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=vV(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),xV(n,a,r,"aria-hidden")):function(){return null}},_i=function(){return _i=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},_i.apply(this,arguments)};function _I(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function bV(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Sm="right-scroll-bar-position",Nm="width-before-scroll-bar",wV="with-scroll-bars-hidden",_V="--removed-body-scroll-bar-size";function Ky(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function jV(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var SV=typeof window<"u"?y.useLayoutEffect:y.useEffect,Ik=new WeakMap;function NV(e,t){var r=jV(null,function(n){return e.forEach(function(a){return Ky(a,n)})});return SV(function(){var n=Ik.get(r);if(n){var a=new Set(n),i=new Set(e),s=r.current;a.forEach(function(c){i.has(c)||Ky(c,null)}),i.forEach(function(c){a.has(c)||Ky(c,s)})}Ik.set(r,e)},[e]),r}function CV(e){return e}function PV(e,t){t===void 0&&(t=CV);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var s=t(i,n);return r.push(s),function(){r=r.filter(function(c){return c!==s})}},assignSyncMedium:function(i){for(n=!0;r.length;){var s=r;r=[],s.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var s=[];if(r.length){var c=r;r=[],c.forEach(i),s=r}var d=function(){var h=s;s=[],h.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(h){s.push(h),f()},filter:function(h){return s=s.filter(h),r}}}};return a}function kV(e){e===void 0&&(e={});var t=PV(null);return t.options=_i({async:!0,ssr:!1},e),t}var jI=function(e){var t=e.sideCar,r=_I(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,_i({},r))};jI.isSideCarExport=!0;function AV(e,t){return e.useMedium(t),jI}var SI=kV(),Yy=function(){},ag=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:Yy,onWheelCapture:Yy,onTouchMoveCapture:Yy}),a=n[0],i=n[1],s=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,h=e.enabled,m=e.shards,g=e.sideCar,w=e.noRelative,b=e.noIsolation,x=e.inert,_=e.allowPinchZoom,S=e.as,N=S===void 0?"div":S,P=e.gapMode,k=_I(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=g,A=NV([r,t]),T=_i(_i({},k),a);return y.createElement(y.Fragment,null,h&&y.createElement(C,{sideCar:SI,removeScrollBar:f,shards:m,noRelative:w,noIsolation:b,inert:x,setCallbacks:i,allowPinchZoom:!!_,lockRef:r,gapMode:P}),s?y.cloneElement(y.Children.only(c),_i(_i({},T),{ref:A})):y.createElement(N,_i({},T,{className:d,ref:A}),c))});ag.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ag.classNames={fullWidth:Nm,zeroRight:Sm};var EV=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function OV(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=EV();return t&&e.setAttribute("nonce",t),e}function TV(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function MV(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var RV=function(){var e=0,t=null;return{add:function(r){e==0&&(t=OV())&&(TV(t,r),MV(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},DV=function(){var e=RV();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},NI=function(){var e=DV(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},IV={left:0,top:0,right:0,gap:0},Jy=function(e){return parseInt(e||"",10)||0},$V=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Jy(r),Jy(n),Jy(a)]},LV=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return IV;var t=$V(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},FV=NI(),mc="data-scroll-locked",BV=function(e,t,r,n){var a=e.left,i=e.top,s=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(wV,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(mc,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sm,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Nm,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Sm," .").concat(Sm,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nm," .").concat(Nm,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(mc,`] {
    `).concat(_V,": ").concat(c,`px;
  }
`)},$k=function(){var e=parseInt(document.body.getAttribute(mc)||"0",10);return isFinite(e)?e:0},UV=function(){y.useEffect(function(){return document.body.setAttribute(mc,($k()+1).toString()),function(){var e=$k()-1;e<=0?document.body.removeAttribute(mc):document.body.setAttribute(mc,e.toString())}},[])},zV=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;UV();var i=y.useMemo(function(){return LV(a)},[a]);return y.createElement(FV,{styles:BV(i,!t,a,r?"":"!important")})},S_=!1;if(typeof window<"u")try{var om=Object.defineProperty({},"passive",{get:function(){return S_=!0,!0}});window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch{S_=!1}var Ql=S_?{passive:!1}:!1,qV=function(e){return e.tagName==="TEXTAREA"},CI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!qV(e)&&r[t]==="visible")},WV=function(e){return CI(e,"overflowY")},HV=function(e){return CI(e,"overflowX")},Lk=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=PI(e,n);if(a){var i=kI(e,n),s=i[1],c=i[2];if(s>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},VV=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},GV=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},PI=function(e,t){return e==="v"?WV(t):HV(t)},kI=function(e,t){return e==="v"?VV(t):GV(t)},KV=function(e,t){return e==="h"&&t==="rtl"?-1:1},YV=function(e,t,r,n,a){var i=KV(e,window.getComputedStyle(t).direction),s=i*n,c=r.target,d=t.contains(c),f=!1,h=s>0,m=0,g=0;do{if(!c)break;var w=kI(e,c),b=w[0],x=w[1],_=w[2],S=x-_-i*b;(b||S)&&PI(e,c)&&(m+=S,g+=b);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(h&&Math.abs(m)<1||!h&&Math.abs(g)<1)&&(f=!0),f},sm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fk=function(e){return[e.deltaX,e.deltaY]},Bk=function(e){return e&&"current"in e?e.current:e},JV=function(e,t){return e[0]===t[0]&&e[1]===t[1]},XV=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},QV=0,Zl=[];function ZV(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),a=y.useState(QV++)[0],i=y.useState(NI)[0],s=y.useRef(e);y.useEffect(function(){s.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=bV([e.lockRef.current],(e.shards||[]).map(Bk),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=y.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var S=sm(x),N=r.current,P="deltaX"in x?x.deltaX:N[0]-S[0],k="deltaY"in x?x.deltaY:N[1]-S[1],C,A=x.target,T=Math.abs(P)>Math.abs(k)?"h":"v";if("touches"in x&&T==="h"&&A.type==="range")return!1;var R=Lk(T,A);if(!R)return!0;if(R?C=T:(C=T==="v"?"h":"v",R=Lk(T,A)),!R)return!1;if(!n.current&&"changedTouches"in x&&(P||k)&&(n.current=C),!C)return!0;var I=n.current||C;return YV(I,_,x,I==="h"?P:k)},[]),d=y.useCallback(function(x){var _=x;if(!(!Zl.length||Zl[Zl.length-1]!==i)){var S="deltaY"in _?Fk(_):sm(_),N=t.current.filter(function(C){return C.name===_.type&&(C.target===_.target||_.target===C.shadowParent)&&JV(C.delta,S)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var P=(s.current.shards||[]).map(Bk).filter(Boolean).filter(function(C){return C.contains(_.target)}),k=P.length>0?c(_,P[0]):!s.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),f=y.useCallback(function(x,_,S,N){var P={name:x,delta:_,target:S,should:N,shadowParent:eG(S)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(k){return k!==P})},1)},[]),h=y.useCallback(function(x){r.current=sm(x),n.current=void 0},[]),m=y.useCallback(function(x){f(x.type,Fk(x),x.target,c(x,e.lockRef.current))},[]),g=y.useCallback(function(x){f(x.type,sm(x),x.target,c(x,e.lockRef.current))},[]);y.useEffect(function(){return Zl.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,Ql),document.addEventListener("touchmove",d,Ql),document.addEventListener("touchstart",h,Ql),function(){Zl=Zl.filter(function(x){return x!==i}),document.removeEventListener("wheel",d,Ql),document.removeEventListener("touchmove",d,Ql),document.removeEventListener("touchstart",h,Ql)}},[]);var w=e.removeScrollBar,b=e.inert;return y.createElement(y.Fragment,null,b?y.createElement(i,{styles:XV(a)}):null,w?y.createElement(zV,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function eG(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tG=AV(SI,ZV);var Of=y.forwardRef(function(e,t){return y.createElement(ag,_i({},e,{ref:t,sideCar:tG}))});Of.classNames=ag.classNames;var N_=["Enter"," "],rG=["ArrowDown","PageUp","Home"],AI=["ArrowUp","PageDown","End"],nG=[...rG,...AI],aG={ltr:[...N_,"ArrowRight"],rtl:[...N_,"ArrowLeft"]},iG={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tf="Menu",[Td,oG,sG]=Jp(Tf),[dl,EI]=xa(Tf,[sG,iu,rg]),ig=iu(),OI=rg(),[lG,fl]=dl(Tf),[cG,Mf]=dl(Tf),TI=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:s=!0}=e,c=ig(t),[d,f]=y.useState(null),h=y.useRef(!1),m=pn(i),g=ru(a);return y.useEffect(()=>{const w=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),o.jsx(Ej,{...c,children:o.jsx(lG,{scope:t,open:r,onOpenChange:m,content:d,onContentChange:f,children:o.jsx(cG,{scope:t,onClose:y.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:h,dir:g,modal:s,children:n})})})};TI.displayName=Tf;var uG="MenuAnchor",Mj=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=ig(r);return o.jsx(tg,{...a,...n,ref:t})});Mj.displayName=uG;var Rj="MenuPortal",[dG,MI]=dl(Rj,{forceMount:void 0}),RI=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=fl(Rj,t);return o.jsx(dG,{scope:t,forceMount:r,children:o.jsx($n,{present:r||i.open,children:o.jsx(Af,{asChild:!0,container:a,children:n})})})};RI.displayName=Rj;var Ea="MenuContent",[fG,Dj]=dl(Ea),DI=y.forwardRef((e,t)=>{const r=MI(Ea,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=fl(Ea,e.__scopeMenu),s=Mf(Ea,e.__scopeMenu);return o.jsx(Td.Provider,{scope:e.__scopeMenu,children:o.jsx($n,{present:n||i.open,children:o.jsx(Td.Slot,{scope:e.__scopeMenu,children:s.modal?o.jsx(hG,{...a,ref:t}):o.jsx(mG,{...a,ref:t})})})})}),hG=y.forwardRef((e,t)=>{const r=fl(Ea,e.__scopeMenu),n=y.useRef(null),a=Ot(t,n);return y.useEffect(()=>{const i=n.current;if(i)return ng(i)},[]),o.jsx(Ij,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),mG=y.forwardRef((e,t)=>{const r=fl(Ea,e.__scopeMenu);return o.jsx(Ij,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),pG=ts("MenuContent.ScrollLock"),Ij=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:w,disableOutsideScroll:b,...x}=e,_=fl(Ea,r),S=Mf(Ea,r),N=ig(r),P=OI(r),k=oG(r),[C,A]=y.useState(null),T=y.useRef(null),R=Ot(t,T,_.onContentChange),I=y.useRef(0),U=y.useRef(""),O=y.useRef(0),B=y.useRef(null),Z=y.useRef("right"),te=y.useRef(0),Q=b?Of:y.Fragment,Y=b?{as:pG,allowPinchZoom:!0}:void 0,ie=V=>{var ae,Ae;const F=U.current+V,L=k().filter(K=>!K.disabled),J=document.activeElement,G=(ae=L.find(K=>K.ref.current===J))==null?void 0:ae.textValue,de=L.map(K=>K.textValue),Ce=PG(de,F,G),q=(Ae=L.find(K=>K.textValue===Ce))==null?void 0:Ae.ref.current;(function K(_e){U.current=_e,window.clearTimeout(I.current),_e!==""&&(I.current=window.setTimeout(()=>K(""),1e3))})(F),q&&setTimeout(()=>q.focus())};y.useEffect(()=>()=>window.clearTimeout(I.current),[]),Xp();const W=y.useCallback(V=>{var L,J;return Z.current===((L=B.current)==null?void 0:L.side)&&AG(V,(J=B.current)==null?void 0:J.area)},[]);return o.jsx(fG,{scope:r,searchRef:U,onItemEnter:y.useCallback(V=>{W(V)&&V.preventDefault()},[W]),onItemLeave:y.useCallback(V=>{var F;W(V)||((F=T.current)==null||F.focus(),A(null))},[W]),onTriggerLeave:y.useCallback(V=>{W(V)&&V.preventDefault()},[W]),pointerGraceTimerRef:O,onPointerGraceIntentChange:y.useCallback(V=>{B.current=V},[]),children:o.jsx(Q,{...Y,children:o.jsx(Pf,{asChild:!0,trapped:a,onMountAutoFocus:Ke(i,V=>{var F;V.preventDefault(),(F=T.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:o.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:g,onDismiss:w,children:o.jsx(xI,{asChild:!0,...P,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:A,onEntryFocus:Ke(d,V=>{S.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(Oj,{role:"menu","aria-orientation":"vertical","data-state":XI(_.open),"data-radix-menu-content":"",dir:S.dir,...N,...x,ref:R,style:{outline:"none",...x.style},onKeyDown:Ke(x.onKeyDown,V=>{const L=V.target.closest("[data-radix-menu-content]")===V.currentTarget,J=V.ctrlKey||V.altKey||V.metaKey,G=V.key.length===1;L&&(V.key==="Tab"&&V.preventDefault(),!J&&G&&ie(V.key));const de=T.current;if(V.target!==de||!nG.includes(V.key))return;V.preventDefault();const q=k().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);AI.includes(V.key)&&q.reverse(),NG(q)}),onBlur:Ke(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(I.current),U.current="")}),onPointerMove:Ke(e.onPointerMove,Md(V=>{const F=V.target,L=te.current!==V.clientX;if(V.currentTarget.contains(F)&&L){const J=V.clientX>te.current?"right":"left";Z.current=J,te.current=V.clientX}}))})})})})})})});DI.displayName=Ea;var gG="MenuGroup",$j=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(mt.div,{role:"group",...n,ref:t})});$j.displayName=gG;var vG="MenuLabel",II=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(mt.div,{...n,ref:t})});II.displayName=vG;var Im="MenuItem",Uk="menu.itemSelect",og=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=y.useRef(null),s=Mf(Im,e.__scopeMenu),c=Dj(Im,e.__scopeMenu),d=Ot(t,i),f=y.useRef(!1),h=()=>{const m=i.current;if(!r&&m){const g=new CustomEvent(Uk,{bubbles:!0,cancelable:!0});m.addEventListener(Uk,w=>n==null?void 0:n(w),{once:!0}),WD(m,g),g.defaultPrevented?f.current=!1:s.onClose()}};return o.jsx($I,{...a,ref:d,disabled:r,onClick:Ke(e.onClick,h),onPointerDown:m=>{var g;(g=e.onPointerDown)==null||g.call(e,m),f.current=!0},onPointerUp:Ke(e.onPointerUp,m=>{var g;f.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:Ke(e.onKeyDown,m=>{const g=c.searchRef.current!=="";r||g&&m.key===" "||N_.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});og.displayName=Im;var $I=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,s=Dj(Im,r),c=OI(r),d=y.useRef(null),f=Ot(t,d),[h,m]=y.useState(!1),[g,w]=y.useState("");return y.useEffect(()=>{const b=d.current;b&&w((b.textContent??"").trim())},[i.children]),o.jsx(Td.ItemSlot,{scope:r,disabled:n,textValue:a??g,children:o.jsx(bI,{asChild:!0,...c,focusable:!n,children:o.jsx(mt.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:f,onPointerMove:Ke(e.onPointerMove,Md(b=>{n?s.onItemLeave(b):(s.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,Md(b=>s.onItemLeave(b))),onFocus:Ke(e.onFocus,()=>m(!0)),onBlur:Ke(e.onBlur,()=>m(!1))})})})}),yG="MenuCheckboxItem",LI=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return o.jsx(qI,{scope:e.__scopeMenu,checked:r,children:o.jsx(og,{role:"menuitemcheckbox","aria-checked":$m(r)?"mixed":r,...a,ref:t,"data-state":Fj(r),onSelect:Ke(a.onSelect,()=>n==null?void 0:n($m(r)?!0:!r),{checkForDefaultPrevented:!1})})})});LI.displayName=yG;var FI="MenuRadioGroup",[xG,bG]=dl(FI,{value:void 0,onValueChange:()=>{}}),BI=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=pn(n);return o.jsx(xG,{scope:e.__scopeMenu,value:r,onValueChange:i,children:o.jsx($j,{...a,ref:t})})});BI.displayName=FI;var UI="MenuRadioItem",zI=y.forwardRef((e,t)=>{const{value:r,...n}=e,a=bG(UI,e.__scopeMenu),i=r===a.value;return o.jsx(qI,{scope:e.__scopeMenu,checked:i,children:o.jsx(og,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":Fj(i),onSelect:Ke(n.onSelect,()=>{var s;return(s=a.onValueChange)==null?void 0:s.call(a,r)},{checkForDefaultPrevented:!1})})})});zI.displayName=UI;var Lj="MenuItemIndicator",[qI,wG]=dl(Lj,{checked:!1}),WI=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=wG(Lj,r);return o.jsx($n,{present:n||$m(i.checked)||i.checked===!0,children:o.jsx(mt.span,{...a,ref:t,"data-state":Fj(i.checked)})})});WI.displayName=Lj;var _G="MenuSeparator",HI=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return o.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});HI.displayName=_G;var jG="MenuArrow",VI=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=ig(r);return o.jsx(Tj,{...a,...n,ref:t})});VI.displayName=jG;var SG="MenuSub",[ume,GI]=dl(SG),cd="MenuSubTrigger",KI=y.forwardRef((e,t)=>{const r=fl(cd,e.__scopeMenu),n=Mf(cd,e.__scopeMenu),a=GI(cd,e.__scopeMenu),i=Dj(cd,e.__scopeMenu),s=y.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,f={__scopeMenu:e.__scopeMenu},h=y.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return y.useEffect(()=>h,[h]),y.useEffect(()=>{const m=c.current;return()=>{window.clearTimeout(m),d(null)}},[c,d]),o.jsx(Mj,{asChild:!0,...f,children:o.jsx($I,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":XI(r.open),...e,ref:Kp(t,a.onTriggerChange),onClick:m=>{var g;(g=e.onClick)==null||g.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,Md(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!r.open&&!s.current&&(i.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{r.onOpenChange(!0),h()},100))})),onPointerLeave:Ke(e.onPointerLeave,Md(m=>{var w,b;h();const g=(w=r.content)==null?void 0:w.getBoundingClientRect();if(g){const x=(b=r.content)==null?void 0:b.dataset.side,_=x==="right",S=_?-5:5,N=g[_?"left":"right"],P=g[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+S,y:m.clientY},{x:N,y:g.top},{x:P,y:g.top},{x:P,y:g.bottom},{x:N,y:g.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,m=>{var w;const g=i.searchRef.current!=="";e.disabled||g&&m.key===" "||aG[n.dir].includes(m.key)&&(r.onOpenChange(!0),(w=r.content)==null||w.focus(),m.preventDefault())})})})});KI.displayName=cd;var YI="MenuSubContent",JI=y.forwardRef((e,t)=>{const r=MI(Ea,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=fl(Ea,e.__scopeMenu),s=Mf(Ea,e.__scopeMenu),c=GI(YI,e.__scopeMenu),d=y.useRef(null),f=Ot(t,d);return o.jsx(Td.Provider,{scope:e.__scopeMenu,children:o.jsx($n,{present:n||i.open,children:o.jsx(Td.Slot,{scope:e.__scopeMenu,children:o.jsx(Ij,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:f,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var m;s.isUsingKeyboardRef.current&&((m=d.current)==null||m.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,h=>{h.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,h=>{s.onClose(),h.preventDefault()}),onKeyDown:Ke(e.onKeyDown,h=>{var w;const m=h.currentTarget.contains(h.target),g=iG[s.dir].includes(h.key);m&&g&&(i.onOpenChange(!1),(w=c.trigger)==null||w.focus(),h.preventDefault())})})})})})});JI.displayName=YI;function XI(e){return e?"open":"closed"}function $m(e){return e==="indeterminate"}function Fj(e){return $m(e)?"indeterminate":e?"checked":"unchecked"}function NG(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function CG(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function PG(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=CG(e,Math.max(i,0));a.length===1&&(s=s.filter(f=>f!==r));const d=s.find(f=>f.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function kG(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const c=t[i],d=t[s],f=c.x,h=c.y,m=d.x,g=d.y;h>n!=g>n&&r<(m-f)*(n-h)/(g-h)+f&&(a=!a)}return a}function AG(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return kG(r,t)}function Md(e){return t=>t.pointerType==="mouse"?e(t):void 0}var EG=TI,OG=Mj,TG=RI,MG=DI,RG=$j,DG=II,IG=og,$G=LI,LG=BI,FG=zI,BG=WI,UG=HI,zG=VI,qG=KI,WG=JI,sg="DropdownMenu",[HG,dme]=xa(sg,[EI]),Gn=EI(),[VG,QI]=HG(sg),ZI=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:s,modal:c=!0}=e,d=Gn(t),f=y.useRef(null),[h,m]=oo({prop:a,defaultProp:i??!1,onChange:s,caller:sg});return o.jsx(VG,{scope:t,triggerId:ai(),triggerRef:f,contentId:ai(),open:h,onOpenChange:m,onOpenToggle:y.useCallback(()=>m(g=>!g),[m]),modal:c,children:o.jsx(EG,{...d,open:h,onOpenChange:m,dir:n,modal:c,children:r})})};ZI.displayName=sg;var e$="DropdownMenuTrigger",t$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=QI(e$,r),s=Gn(r);return o.jsx(OG,{asChild:!0,...s,children:o.jsx(mt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Kp(t,i.triggerRef),onPointerDown:Ke(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Ke(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});t$.displayName=e$;var GG="DropdownMenuPortal",r$=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Gn(t);return o.jsx(TG,{...n,...r})};r$.displayName=GG;var n$="DropdownMenuContent",a$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=QI(n$,r),i=Gn(r),s=y.useRef(!1);return o.jsx(MG,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,c=>{var d;s.current||(d=a.triggerRef.current)==null||d.focus(),s.current=!1,c.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,h=d.button===2||f;(!a.modal||h)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});a$.displayName=n$;var KG="DropdownMenuGroup",YG=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(RG,{...a,...n,ref:t})});YG.displayName=KG;var JG="DropdownMenuLabel",i$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(DG,{...a,...n,ref:t})});i$.displayName=JG;var XG="DropdownMenuItem",o$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(IG,{...a,...n,ref:t})});o$.displayName=XG;var QG="DropdownMenuCheckboxItem",s$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx($G,{...a,...n,ref:t})});s$.displayName=QG;var ZG="DropdownMenuRadioGroup",eK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(LG,{...a,...n,ref:t})});eK.displayName=ZG;var tK="DropdownMenuRadioItem",l$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(FG,{...a,...n,ref:t})});l$.displayName=tK;var rK="DropdownMenuItemIndicator",c$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(BG,{...a,...n,ref:t})});c$.displayName=rK;var nK="DropdownMenuSeparator",u$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(UG,{...a,...n,ref:t})});u$.displayName=nK;var aK="DropdownMenuArrow",iK=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(zG,{...a,...n,ref:t})});iK.displayName=aK;var oK="DropdownMenuSubTrigger",d$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(qG,{...a,...n,ref:t})});d$.displayName=oK;var sK="DropdownMenuSubContent",f$=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=Gn(r);return o.jsx(WG,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});f$.displayName=sK;var lK=ZI,cK=t$,uK=r$,h$=a$,m$=i$,p$=o$,g$=s$,v$=l$,y$=c$,x$=u$,b$=d$,w$=f$;const dK=lK,fK=cK,hK=y.forwardRef(({className:e,inset:t,children:r,...n},a)=>o.jsxs(b$,{ref:a,className:ht("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,o.jsx(k7,{className:"ml-auto"})]}));hK.displayName=b$.displayName;const mK=y.forwardRef(({className:e,...t},r)=>o.jsx(w$,{ref:r,className:ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));mK.displayName=w$.displayName;const _$=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>o.jsx(uK,{children:o.jsx(h$,{ref:n,sideOffset:t,className:ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));_$.displayName=h$.displayName;const C_=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(p$,{ref:n,className:ht("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));C_.displayName=p$.displayName;const pK=y.forwardRef(({className:e,children:t,checked:r,...n},a)=>o.jsxs(g$,{ref:a,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(y$,{children:o.jsx(Ls,{className:"h-4 w-4"})})}),t]}));pK.displayName=g$.displayName;const gK=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(v$,{ref:n,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(y$,{children:o.jsx(R7,{className:"h-2 w-2 fill-current"})})}),t]}));gK.displayName=v$.displayName;const vK=y.forwardRef(({className:e,inset:t,...r},n)=>o.jsx(m$,{ref:n,className:ht("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));vK.displayName=m$.displayName;const yK=y.forwardRef(({className:e,...t},r)=>o.jsx(x$,{ref:r,className:ht("-mx-1 my-1 h-px bg-muted",e),...t}));yK.displayName=x$.displayName;function Rd(e,[t,r]){return Math.min(r,Math.max(t,e))}function Bj(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var j$=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xK="VisuallyHidden",bK=y.forwardRef((e,t)=>o.jsx(mt.span,{...e,ref:t,style:{...j$,...e.style}}));bK.displayName=xK;var wK=[" ","Enter","ArrowUp","ArrowDown"],_K=[" ","Enter"],Zs="Select",[lg,cg,jK]=Jp(Zs),[ou,fme]=xa(Zs,[jK,iu]),ug=iu(),[SK,os]=ou(Zs),[NK,CK]=ou(Zs),S$=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:s,defaultValue:c,onValueChange:d,dir:f,name:h,autoComplete:m,disabled:g,required:w,form:b}=e,x=ug(t),[_,S]=y.useState(null),[N,P]=y.useState(null),[k,C]=y.useState(!1),A=ru(f),[T,R]=oo({prop:n,defaultProp:a??!1,onChange:i,caller:Zs}),[I,U]=oo({prop:s,defaultProp:c,onChange:d,caller:Zs}),O=y.useRef(null),B=_?b||!!_.closest("form"):!0,[Z,te]=y.useState(new Set),Q=Array.from(Z).map(Y=>Y.props.value).join(";");return o.jsx(Ej,{...x,children:o.jsxs(SK,{required:w,scope:t,trigger:_,onTriggerChange:S,valueNode:N,onValueNodeChange:P,valueNodeHasChildren:k,onValueNodeHasChildrenChange:C,contentId:ai(),value:I,onValueChange:U,open:T,onOpenChange:R,dir:A,triggerPointerDownPosRef:O,disabled:g,children:[o.jsx(lg.Provider,{scope:t,children:o.jsx(NK,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(Y=>{te(ie=>new Set(ie).add(Y))},[]),onNativeOptionRemove:y.useCallback(Y=>{te(ie=>{const W=new Set(ie);return W.delete(Y),W})},[]),children:r})}),B?o.jsxs(K$,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:m,value:I,onChange:Y=>U(Y.target.value),disabled:g,form:b,children:[I===void 0?o.jsx("option",{value:""}):null,Array.from(Z)]},Q):null]})})};S$.displayName=Zs;var N$="SelectTrigger",C$=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=ug(r),s=os(N$,r),c=s.disabled||n,d=Ot(t,s.onTriggerChange),f=cg(r),h=y.useRef("touch"),[m,g,w]=J$(x=>{const _=f().filter(P=>!P.disabled),S=_.find(P=>P.value===s.value),N=X$(_,x,S);N!==void 0&&s.onValueChange(N.value)}),b=x=>{c||(s.onOpenChange(!0),w()),x&&(s.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return o.jsx(tg,{asChild:!0,...i,children:o.jsx(mt.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Y$(s.value)?"":void 0,...a,ref:d,onClick:Ke(a.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&b(x)}),onPointerDown:Ke(a.onPointerDown,x=>{h.current=x.pointerType;const _=x.target;_.hasPointerCapture(x.pointerId)&&_.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:Ke(a.onKeyDown,x=>{const _=m.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(_&&x.key===" ")&&wK.includes(x.key)&&(b(),x.preventDefault())})})})});C$.displayName=N$;var P$="SelectValue",k$=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:s="",...c}=e,d=os(P$,r),{onValueNodeHasChildrenChange:f}=d,h=i!==void 0,m=Ot(t,d.onValueNodeChange);return Qr(()=>{f(h)},[f,h]),o.jsx(mt.span,{...c,ref:m,style:{pointerEvents:"none"},children:Y$(d.value)?o.jsx(o.Fragment,{children:s}):i})});k$.displayName=P$;var PK="SelectIcon",A$=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return o.jsx(mt.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});A$.displayName=PK;var kK="SelectPortal",E$=e=>o.jsx(Af,{asChild:!0,...e});E$.displayName=kK;var el="SelectContent",O$=y.forwardRef((e,t)=>{const r=os(el,e.__scopeSelect),[n,a]=y.useState();if(Qr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?jf.createPortal(o.jsx(T$,{scope:e.__scopeSelect,children:o.jsx(lg.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),i):null}return o.jsx(M$,{...e,ref:t})});O$.displayName=el;var Ya=10,[T$,ss]=ou(el),AK="SelectContentImpl",EK=ts("SelectContent.RemoveScroll"),M$=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:s,side:c,sideOffset:d,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:w,sticky:b,hideWhenDetached:x,avoidCollisions:_,...S}=e,N=os(el,r),[P,k]=y.useState(null),[C,A]=y.useState(null),T=Ot(t,ae=>k(ae)),[R,I]=y.useState(null),[U,O]=y.useState(null),B=cg(r),[Z,te]=y.useState(!1),Q=y.useRef(!1);y.useEffect(()=>{if(P)return ng(P)},[P]),Xp();const Y=y.useCallback(ae=>{const[Ae,...K]=B().map(pe=>pe.ref.current),[_e]=K.slice(-1),Me=document.activeElement;for(const pe of ae)if(pe===Me||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===Ae&&C&&(C.scrollTop=0),pe===_e&&C&&(C.scrollTop=C.scrollHeight),pe==null||pe.focus(),document.activeElement!==Me))return},[B,C]),ie=y.useCallback(()=>Y([R,P]),[Y,R,P]);y.useEffect(()=>{Z&&ie()},[Z,ie]);const{onOpenChange:W,triggerPointerDownPosRef:V}=N;y.useEffect(()=>{if(P){let ae={x:0,y:0};const Ae=_e=>{var Me,pe;ae={x:Math.abs(Math.round(_e.pageX)-(((Me=V.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((pe=V.current)==null?void 0:pe.y)??0))}},K=_e=>{ae.x<=10&&ae.y<=10?_e.preventDefault():P.contains(_e.target)||W(!1),document.removeEventListener("pointermove",Ae),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",K,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",K,{capture:!0})}}},[P,W,V]),y.useEffect(()=>{const ae=()=>W(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[W]);const[F,L]=J$(ae=>{const Ae=B().filter(Me=>!Me.disabled),K=Ae.find(Me=>Me.ref.current===document.activeElement),_e=X$(Ae,ae,K);_e&&setTimeout(()=>_e.ref.current.focus())}),J=y.useCallback((ae,Ae,K)=>{const _e=!Q.current&&!K;(N.value!==void 0&&N.value===Ae||_e)&&(I(ae),_e&&(Q.current=!0))},[N.value]),G=y.useCallback(()=>P==null?void 0:P.focus(),[P]),de=y.useCallback((ae,Ae,K)=>{const _e=!Q.current&&!K;(N.value!==void 0&&N.value===Ae||_e)&&O(ae)},[N.value]),Ce=n==="popper"?P_:R$,q=Ce===P_?{side:c,sideOffset:d,align:f,alignOffset:h,arrowPadding:m,collisionBoundary:g,collisionPadding:w,sticky:b,hideWhenDetached:x,avoidCollisions:_}:{};return o.jsx(T$,{scope:r,content:P,viewport:C,onViewportChange:A,itemRefCallback:J,selectedItem:R,onItemLeave:G,itemTextRefCallback:de,focusSelectedItem:ie,selectedItemText:U,position:n,isPositioned:Z,searchRef:F,children:o.jsx(Of,{as:EK,allowPinchZoom:!0,children:o.jsx(Pf,{asChild:!0,trapped:N.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ke(a,ae=>{var Ae;(Ae=N.trigger)==null||Ae.focus({preventScroll:!0}),ae.preventDefault()}),children:o.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:o.jsx(Ce,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ae=>ae.preventDefault(),...S,...q,onPlaced:()=>te(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ke(S.onKeyDown,ae=>{const Ae=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Ae&&ae.key.length===1&&L(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let _e=B().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Me=ae.target,pe=_e.indexOf(Me);_e=_e.slice(pe+1)}setTimeout(()=>Y(_e)),ae.preventDefault()}})})})})})})});M$.displayName=AK;var OK="SelectItemAlignedPosition",R$=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=os(el,r),s=ss(el,r),[c,d]=y.useState(null),[f,h]=y.useState(null),m=Ot(t,T=>h(T)),g=cg(r),w=y.useRef(!1),b=y.useRef(!0),{viewport:x,selectedItem:_,selectedItemText:S,focusSelectedItem:N}=s,P=y.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&x&&_&&S){const T=i.trigger.getBoundingClientRect(),R=f.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),U=S.getBoundingClientRect();if(i.dir!=="rtl"){const Me=U.left-R.left,pe=I.left-Me,Qe=T.left-pe,ze=T.width+Qe,re=Math.max(ze,R.width),Ct=window.innerWidth-Ya,Vt=Rd(pe,[Ya,Math.max(Ya,Ct-re)]);c.style.minWidth=ze+"px",c.style.left=Vt+"px"}else{const Me=R.right-U.right,pe=window.innerWidth-I.right-Me,Qe=window.innerWidth-T.right-pe,ze=T.width+Qe,re=Math.max(ze,R.width),Ct=window.innerWidth-Ya,Vt=Rd(pe,[Ya,Math.max(Ya,Ct-re)]);c.style.minWidth=ze+"px",c.style.right=Vt+"px"}const O=g(),B=window.innerHeight-Ya*2,Z=x.scrollHeight,te=window.getComputedStyle(f),Q=parseInt(te.borderTopWidth,10),Y=parseInt(te.paddingTop,10),ie=parseInt(te.borderBottomWidth,10),W=parseInt(te.paddingBottom,10),V=Q+Y+Z+W+ie,F=Math.min(_.offsetHeight*5,V),L=window.getComputedStyle(x),J=parseInt(L.paddingTop,10),G=parseInt(L.paddingBottom,10),de=T.top+T.height/2-Ya,Ce=B-de,q=_.offsetHeight/2,ae=_.offsetTop+q,Ae=Q+Y+ae,K=V-Ae;if(Ae<=de){const Me=O.length>0&&_===O[O.length-1].ref.current;c.style.bottom="0px";const pe=f.clientHeight-x.offsetTop-x.offsetHeight,Qe=Math.max(Ce,q+(Me?G:0)+pe+ie),ze=Ae+Qe;c.style.height=ze+"px"}else{const Me=O.length>0&&_===O[0].ref.current;c.style.top="0px";const Qe=Math.max(de,Q+x.offsetTop+(Me?J:0)+q)+K;c.style.height=Qe+"px",x.scrollTop=Ae-de+x.offsetTop}c.style.margin=`${Ya}px 0`,c.style.minHeight=F+"px",c.style.maxHeight=B+"px",n==null||n(),requestAnimationFrame(()=>w.current=!0)}},[g,i.trigger,i.valueNode,c,f,x,_,S,i.dir,n]);Qr(()=>P(),[P]);const[k,C]=y.useState();Qr(()=>{f&&C(window.getComputedStyle(f).zIndex)},[f]);const A=y.useCallback(T=>{T&&b.current===!0&&(P(),N==null||N(),b.current=!1)},[P,N]);return o.jsx(MK,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:w,onScrollButtonChange:A,children:o.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:o.jsx(mt.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});R$.displayName=OK;var TK="SelectPopperPosition",P_=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ya,...i}=e,s=ug(r);return o.jsx(Oj,{...s,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});P_.displayName=TK;var[MK,Uj]=ou(el,{}),k_="SelectViewport",D$=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=ss(k_,r),s=Uj(k_,r),c=Ot(t,i.onViewportChange),d=y.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),o.jsx(lg.Slot,{scope:r,children:o.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ke(a.onScroll,f=>{const h=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=s;if(g!=null&&g.current&&m){const w=Math.abs(d.current-h.scrollTop);if(w>0){const b=window.innerHeight-Ya*2,x=parseFloat(m.style.minHeight),_=parseFloat(m.style.height),S=Math.max(x,_);if(S<b){const N=S+w,P=Math.min(b,N),k=N-P;m.style.height=P+"px",m.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});D$.displayName=k_;var I$="SelectGroup",[RK,DK]=ou(I$),IK=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ai();return o.jsx(RK,{scope:r,id:a,children:o.jsx(mt.div,{role:"group","aria-labelledby":a,...n,ref:t})})});IK.displayName=I$;var $$="SelectLabel",L$=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=DK($$,r);return o.jsx(mt.div,{id:a.id,...n,ref:t})});L$.displayName=$$;var Lm="SelectItem",[$K,F$]=ou(Lm),B$=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...s}=e,c=os(Lm,r),d=ss(Lm,r),f=c.value===n,[h,m]=y.useState(i??""),[g,w]=y.useState(!1),b=Ot(t,N=>{var P;return(P=d.itemRefCallback)==null?void 0:P.call(d,N,n,a)}),x=ai(),_=y.useRef("touch"),S=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx($K,{scope:r,value:n,disabled:a,textId:x,isSelected:f,onItemTextChange:y.useCallback(N=>{m(P=>P||((N==null?void 0:N.textContent)??"").trim())},[]),children:o.jsx(lg.ItemSlot,{scope:r,value:n,disabled:a,textValue:h,children:o.jsx(mt.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...s,ref:b,onFocus:Ke(s.onFocus,()=>w(!0)),onBlur:Ke(s.onBlur,()=>w(!1)),onClick:Ke(s.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:Ke(s.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:Ke(s.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:Ke(s.onPointerMove,N=>{var P;_.current=N.pointerType,a?(P=d.onItemLeave)==null||P.call(d):_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(s.onPointerLeave,N=>{var P;N.currentTarget===document.activeElement&&((P=d.onItemLeave)==null||P.call(d))}),onKeyDown:Ke(s.onKeyDown,N=>{var k;((k=d.searchRef)==null?void 0:k.current)!==""&&N.key===" "||(_K.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})})})})});B$.displayName=Lm;var ud="SelectItemText",U$=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,s=os(ud,r),c=ss(ud,r),d=F$(ud,r),f=CK(ud,r),[h,m]=y.useState(null),g=Ot(t,S=>m(S),d.onItemTextChange,S=>{var N;return(N=c.itemTextRefCallback)==null?void 0:N.call(c,S,d.value,d.disabled)}),w=h==null?void 0:h.textContent,b=y.useMemo(()=>o.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:x,onNativeOptionRemove:_}=f;return Qr(()=>(x(b),()=>_(b)),[x,_,b]),o.jsxs(o.Fragment,{children:[o.jsx(mt.span,{id:d.textId,...i,ref:g}),d.isSelected&&s.valueNode&&!s.valueNodeHasChildren?jf.createPortal(i.children,s.valueNode):null]})});U$.displayName=ud;var z$="SelectItemIndicator",q$=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return F$(z$,r).isSelected?o.jsx(mt.span,{"aria-hidden":!0,...n,ref:t}):null});q$.displayName=z$;var A_="SelectScrollUpButton",W$=y.forwardRef((e,t)=>{const r=ss(A_,e.__scopeSelect),n=Uj(A_,e.__scopeSelect),[a,i]=y.useState(!1),s=Ot(t,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?o.jsx(V$,{...e,ref:s,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});W$.displayName=A_;var E_="SelectScrollDownButton",H$=y.forwardRef((e,t)=>{const r=ss(E_,e.__scopeSelect),n=Uj(E_,e.__scopeSelect),[a,i]=y.useState(!1),s=Ot(t,n.onScrollButtonChange);return Qr(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<f;i(h)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?o.jsx(V$,{...e,ref:s,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});H$.displayName=E_;var V$=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=ss("SelectScrollButton",r),s=y.useRef(null),c=cg(r),d=y.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return y.useEffect(()=>()=>d(),[d]),Qr(()=>{var h;const f=c().find(m=>m.ref.current===document.activeElement);(h=f==null?void 0:f.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),o.jsx(mt.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ke(a.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(n,50))}),onPointerMove:Ke(a.onPointerMove,()=>{var f;(f=i.onItemLeave)==null||f.call(i),s.current===null&&(s.current=window.setInterval(n,50))}),onPointerLeave:Ke(a.onPointerLeave,()=>{d()})})}),LK="SelectSeparator",G$=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return o.jsx(mt.div,{"aria-hidden":!0,...n,ref:t})});G$.displayName=LK;var O_="SelectArrow",FK=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=ug(r),i=os(O_,r),s=ss(O_,r);return i.open&&s.position==="popper"?o.jsx(Tj,{...a,...n,ref:t}):null});FK.displayName=O_;var BK="SelectBubbleInput",K$=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=y.useRef(null),i=Ot(n,a),s=Bj(t);return y.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(s!==t&&h){const m=new Event("change",{bubbles:!0});h.call(c,t),c.dispatchEvent(m)}},[s,t]),o.jsx(mt.select,{...r,style:{...j$,...r.style},ref:i,defaultValue:t})});K$.displayName=BK;function Y$(e){return e===""||e===void 0}function J$(e){const t=pn(e),r=y.useRef(""),n=y.useRef(0),a=y.useCallback(s=>{const c=r.current+s;t(c),function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))}(c)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function X$(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let s=UK(e,Math.max(i,0));a.length===1&&(s=s.filter(f=>f!==r));const d=s.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function UK(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zK=S$,Q$=C$,qK=k$,WK=A$,HK=E$,Z$=O$,VK=D$,eL=L$,tL=B$,GK=U$,KK=q$,rL=W$,nL=H$,aL=G$;const qn=zK,Wn=qK,Mn=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(Q$,{ref:n,className:ht("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,o.jsx(WK,{asChild:!0,children:o.jsx(pj,{className:"h-4 w-4 opacity-50"})})]}));Mn.displayName=Q$.displayName;const iL=y.forwardRef(({className:e,...t},r)=>o.jsx(rL,{ref:r,className:ht("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(kD,{className:"h-4 w-4"})}));iL.displayName=rL.displayName;const oL=y.forwardRef(({className:e,...t},r)=>o.jsx(nL,{ref:r,className:ht("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(pj,{className:"h-4 w-4"})}));oL.displayName=nL.displayName;const Rn=y.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>o.jsx(HK,{children:o.jsxs(Z$,{ref:a,className:ht("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[o.jsx(iL,{}),o.jsx(VK,{className:ht("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(oL,{})]})}));Rn.displayName=Z$.displayName;const YK=y.forwardRef(({className:e,...t},r)=>o.jsx(eL,{ref:r,className:ht("px-2 py-1.5 text-sm font-semibold",e),...t}));YK.displayName=eL.displayName;const pt=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(tL,{ref:n,className:ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[o.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(KK,{children:o.jsx(Ls,{className:"h-4 w-4"})})}),o.jsx(GK,{children:t})]}));pt.displayName=tL.displayName;const JK=y.forwardRef(({className:e,...t},r)=>o.jsx(aL,{ref:r,className:ht("-mx-1 my-1 h-px bg-muted",e),...t}));JK.displayName=aL.displayName;const At=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ht("rounded-2xl border border-border/60 bg-gradient-to-br from-card/95 to-card/85 backdrop-blur-xl text-card-foreground shadow-[0_8px_40px_rgba(0,0,0,0.08)] hover:shadow-[0_16px_60px_rgba(0,0,0,0.12)] transition-all duration-500 hover:-translate-y-2 hover:scale-[1.01] relative overflow-hidden before:absolute before:inset-0 before:bg-gradient-to-br before:from-primary/[0.02] before:to-accent/[0.05] before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-500 after:absolute after:inset-0 after:bg-gradient-to-r after:from-transparent after:via-white/5 after:to-transparent after:opacity-0 hover:after:opacity-100 after:transition-opacity after:duration-300",e),...t}));At.displayName="Card";const Sr=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ht("flex flex-col space-y-2 p-6 relative z-10",e),...t}));Sr.displayName="CardHeader";const Nr=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ht("text-xl font-bold leading-tight tracking-tight bg-gradient-to-br from-foreground via-foreground/90 to-foreground/70 bg-clip-text text-transparent",e),...t}));Nr.displayName="CardTitle";const zr=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ht("text-sm text-muted-foreground/70 leading-relaxed",e),...t}));zr.displayName="CardDescription";const Et=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ht("p-6 pt-0 relative z-10",e),...t}));Et.displayName="CardContent";const Yo=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ht("flex items-center p-6 pt-0 relative z-10",e),...t}));Yo.displayName="CardFooter";const XK=Yp("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mr({className:e,variant:t,...r}){return o.jsx("div",{className:ht(XK({variant:t}),e),...r})}var Xy={exports:{}},Qy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zk;function QK(){if(zk)return Qy;zk=1;var e=qp();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,s=e.useDebugValue;function c(m,g){var w=g(),b=n({inst:{value:w,getSnapshot:g}}),x=b[0].inst,_=b[1];return i(function(){x.value=w,x.getSnapshot=g,d(x)&&_({inst:x})},[m,w,g]),a(function(){return d(x)&&_({inst:x}),m(function(){d(x)&&_({inst:x})})},[m]),s(w),w}function d(m){var g=m.getSnapshot;m=m.value;try{var w=g();return!r(m,w)}catch{return!0}}function f(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Qy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Qy}var qk;function ZK(){return qk||(qk=1,Xy.exports=QK()),Xy.exports}var eY=ZK();function tY(){return eY.useSyncExternalStore(rY,()=>!0,()=>!1)}function rY(){return()=>{}}var zj="Avatar",[nY,hme]=xa(zj),[aY,sL]=nY(zj),lL=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=y.useState("idle");return o.jsx(aY,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:o.jsx(mt.span,{...n,ref:t})})});lL.displayName=zj;var cL="AvatarImage",uL=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,s=sL(cL,r),c=iY(n,i),d=pn(f=>{a(f),s.onImageLoadingStatusChange(f)});return Qr(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?o.jsx(mt.img,{...i,ref:t,src:n}):null});uL.displayName=cL;var dL="AvatarFallback",fL=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=sL(dL,r),[s,c]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),s&&i.imageLoadingStatus!=="loaded"?o.jsx(mt.span,{...a,ref:t}):null});fL.displayName=dL;function Wk(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function iY(e,{referrerPolicy:t,crossOrigin:r}){const n=tY(),a=y.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[s,c]=y.useState(()=>Wk(i,e));return Qr(()=>{c(Wk(i,e))},[i,e]),Qr(()=>{const d=m=>()=>{c(m)};if(!i)return;const f=d("loaded"),h=d("error");return i.addEventListener("load",f),i.addEventListener("error",h),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",f),i.removeEventListener("error",h)}},[i,r,t]),s}var hL=lL,mL=uL,pL=fL;const gL=y.forwardRef(({className:e,...t},r)=>o.jsx(hL,{ref:r,className:ht("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));gL.displayName=hL.displayName;const oY=y.forwardRef(({className:e,...t},r)=>o.jsx(mL,{ref:r,className:ht("aspect-square h-full w-full",e),...t}));oY.displayName=mL.displayName;const vL=y.forwardRef(({className:e,...t},r)=>o.jsx(pL,{ref:r,className:ht("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));vL.displayName=pL.displayName;function yL({className:e,variant:t="floating"}){const{language:r,toggleLanguage:n,translations:a}=ya(),i="flex items-center gap-2 font-medium transition-all duration-200",s={floating:"fixed bottom-6 right-6 z-50 bg-white/90 backdrop-blur-md shadow-lg border border-gray-200 hover:shadow-xl hover:bg-white",inline:"border border-green-400 text-green-700 bg-white/80 shadow-sm hover:bg-green-50 hover:text-green-800",minimal:"text-gray-600 hover:text-gray-800 bg-transparent hover:bg-gray-100"};return o.jsxs(Te,{onClick:n,className:ht(i,s[t],e),size:t==="floating"?"default":"sm",children:[o.jsx(W7,{className:"h-4 w-4"}),o.jsx("span",{children:a.switchLanguage})]})}function sY({className:e,...t}){return o.jsx(yL,{variant:"inline",className:e,...t})}const Ut=y.forwardRef(({className:e,type:t,...r},n)=>o.jsx("input",{type:t,className:ht("flex h-9 w-full rounded-md border border-input bg-background/50 backdrop-blur-sm px-3 py-1 text-base shadow-sm transition-all duration-300","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground/70","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary","disabled:cursor-not-allowed disabled:opacity-50","hover:border-primary/50 hover:shadow-primary/5","md:text-sm",e),ref:n,...r}));Ut.displayName="Input";function lY(){var te,Q;const e=ll();ho();const{user:t,signOut:r}=Nf(),{language:n,translations:a,toggleLanguage:i}=ya(),{clients:s,selectedUserCode:c,selectClient:d,isLoading:f}=ul(),[h,m]=y.useState(!1),[g,w]=y.useState(!0),[b,x]=y.useState(!1),[_,S]=y.useState(!1),[N,P]=y.useState(null),[k,C]=y.useState(null),[A,T]=y.useState(""),[R,I]=y.useState(!1),U=y.useRef(!1);y.useEffect(()=>{console.log("Sidebar state changed to:",h,"isMobile:",b,"language:",n)},[h,b,n]),y.useEffect(()=>{const Y=()=>{x(window.innerWidth<768)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),y.useEffect(()=>{const Y=()=>{const W=document.querySelectorAll('[role="dialog"], .dialog, [data-state="open"]'),V=Array.from(W).some(F=>{const L=F.getBoundingClientRect();return L.width>0&&L.height>0});S(V),V&&h&&(console.log("Dialog detected, closing sidebar"),m(!1))};Y();const ie=new MutationObserver(Y);return ie.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class","style","data-state"]}),()=>ie.disconnect()},[h]),y.useEffect(()=>{const Y=()=>{console.log("Visibility changed:",document.visibilityState)};return document.addEventListener("visibilitychange",Y),()=>{document.removeEventListener("visibilitychange",Y)}},[]),y.useEffect(()=>{(async()=>{if(t&&!U.current){console.log("Loading auth user data (id & email)…"),w(!0),P(null);try{const ie={id:t.id,email:t.email};console.log("Auth user loaded:",ie),C(ie),U.current=!0}catch(ie){console.error("Error loading auth user data:",ie),P("Failed to load user data. Please refresh.")}finally{w(!1)}}})()},[t]);const O=Y=>{d(Y),I(!1),T(""),b&&m(!1)},B=async()=>{try{await r(),e("/login")}catch(Y){console.error("Error signing out:",Y)}},Z=s.filter(Y=>{var ie;return(ie=Y.full_name)==null?void 0:ie.toLowerCase().includes(A.toLowerCase())});return g?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):N?o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 p-4",children:o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md w-full text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-red-800 mb-2",children:a.connectionError}),o.jsx("p",{className:"text-red-700 mb-4",children:N}),o.jsx(Te,{onClick:()=>window.location.reload(),variant:"outline",children:a.retry})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[o.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-white/80 backdrop-blur-xl shadow-sm",children:o.jsxs("div",{className:"flex h-16 items-center px-2 md:px-6 gap-1 md:gap-4",children:[o.jsx(Te,{variant:"ghost",className:"md:hidden hover:bg-primary/10 flex-shrink-0",size:"icon",onClick:()=>{console.log("Open button clicked, current sidebarOpen:",h),m(!0),console.log("setSidebarOpen(true) called")},children:o.jsx(nW,{className:"h-5 w-5"})}),o.jsx("div",{className:"hidden md:flex items-center mr-6 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:"/logo-placeholder.png",alt:"BetterChoice Logo",className:"w-10 h-10 drop-shadow-md"}),o.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary/20 to-transparent"})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h1",{className:"text-lg font-bold text-gradient-primary",children:"BetterChoice"}),o.jsx("p",{className:"text-xs text-muted-foreground/60",children:a.professionalNutrition||"Professional Nutrition"})]})]})}),o.jsx("div",{className:"md:hidden flex items-center mr-2 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:"/logo-placeholder.png",alt:"BetterChoice Logo",className:"w-8 h-8 drop-shadow-md"}),o.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary/20 to-transparent"})]}),o.jsx("h1",{className:"text-base font-bold text-gradient-primary",children:"BetterChoice"})]})}),o.jsx("div",{className:"flex-1 flex justify-center min-w-0",children:s.length>0&&o.jsxs(qn,{value:c||"",onValueChange:O,open:R,onOpenChange:I,children:[o.jsx(Mn,{className:"w-full max-w-[150px] sm:max-w-[200px] md:max-w-[280px] bg-white/90 backdrop-blur-sm border border-border/60 shadow-sm hover:border-primary/40 transition-all duration-300 text-xs sm:text-sm md:text-base h-9 sm:h-10 md:h-11 px-3 md:px-4 rounded-lg",children:o.jsx(Wn,{placeholder:a.selectClient||"Select Client"})}),o.jsxs(Rn,{className:"bg-white/95 backdrop-blur-xl border-border/60 shadow-lg rounded-lg w-[280px] max-w-[90vw]",children:[o.jsx("div",{className:"p-3 border-b border-border/30",children:o.jsxs("div",{className:"relative",children:[o.jsx(wc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),o.jsx(Ut,{placeholder:"Search clients...",value:A,onChange:Y=>T(Y.target.value),className:"pl-10 h-9 bg-white/80 border-border/40 focus:border-primary/60",onClick:Y=>Y.stopPropagation()})]})}),o.jsx("div",{className:"max-h-[300px] overflow-y-auto overflow-x-hidden",children:Z.length>0?Z.map(Y=>o.jsx(pt,{value:Y.user_code,className:"hover:bg-primary/5 rounded-md mx-2 mb-1",children:o.jsxs("div",{className:"flex items-center gap-3 w-full min-w-0",children:[o.jsx("div",{className:"w-6 h-6 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Js,{className:"h-3 w-3 text-primary"})}),o.jsx("div",{className:"flex-1 min-w-0 overflow-hidden",children:o.jsx("div",{className:"font-medium text-gray-800 truncate",children:Y.full_name})})]})},Y.user_code)):o.jsx("div",{className:"p-4 text-center text-sm text-muted-foreground",children:A?"No clients found matching your search.":"No clients available."})})]})]})}),o.jsxs("div",{className:"flex items-center gap-1 md:gap-3 flex-shrink-0",children:[o.jsx(sY,{}),o.jsxs(dK,{children:[o.jsx(fK,{asChild:!0,children:o.jsx(Te,{variant:"ghost",className:"relative h-8 w-8 md:h-10 md:w-10 rounded-full hover:bg-primary/10 transition-all duration-300",children:o.jsx(gL,{className:"h-7 w-7 md:h-9 md:w-9 shadow-sm ring-2 ring-primary/10",children:o.jsx(vL,{className:"bg-gradient-to-br from-primary to-primary-lighter text-white font-semibold text-xs md:text-sm",children:(Q=(te=k==null?void 0:k.email)==null?void 0:te[0])==null?void 0:Q.toUpperCase()})})})}),o.jsxs(_$,{className:"w-64 bg-white/95 backdrop-blur-xl border-border/60 shadow-xl",align:"end",forceMount:!0,children:[o.jsxs(C_,{className:"flex-col items-start p-4 hover:bg-primary/5",children:[o.jsx("div",{className:"text-sm font-semibold text-foreground",children:k==null?void 0:k.email}),o.jsx("div",{className:"text-xs text-muted-foreground/70",children:k==null?void 0:k.specialization})]}),o.jsxs(C_,{onClick:B,className:"hover:bg-destructive/5 text-destructive",children:[o.jsx(eW,{className:"mr-2 h-4 w-4"}),o.jsx("span",{children:a.signOut})]})]})]})]})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 md:hidden backdrop-blur-sm",onClick:()=>{console.log("Overlay clicked, closing sidebar"),m(!1)}}),o.jsxs("div",{className:ht("fixed inset-y-0 w-64 md:w-72 glass-premium bg-white/90 border-r border-border/40 shadow-xl backdrop-blur-2xl z-[60] transition-transform duration-300 ease-out mobile-sidebar",{"translate-x-0":(h||!b)&&!_,"-translate-x-full":!h&&b&&n==="en"||_&&n==="en","translate-x-full":!h&&b&&n==="he"||_&&n==="he","left-0":n==="en","right-0":n==="he","border-r":n==="en","border-l":n==="he"}),children:[o.jsxs("div",{className:"flex h-16 items-center justify-between px-6 border-b border-border/30",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:"/logo-placeholder.png",alt:"BetterChoice Logo",className:"w-8 h-8 drop-shadow-sm"}),o.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary/20 to-transparent"})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h1",{className:"text-lg font-bold text-gradient-primary",children:"BetterChoice"}),o.jsx("p",{className:"text-xs text-muted-foreground/60",children:a.professionalPlatform||"Professional Platform"})]})]}),o.jsx("button",{className:"md:hidden p-2 rounded-lg hover:bg-red-100 hover:text-red-600 transition-colors duration-200",onClick:()=>{console.log("Close button clicked, current sidebarOpen:",h,"language:",n,"isMobile:",b),m(!1),console.log("setSidebarOpen(false) called")},"aria-label":"Close sidebar",children:o.jsx(ma,{className:"h-5 w-5"})})]}),o.jsxs("nav",{className:"space-y-1 p-4 pb-8 md:pb-4",children:[o.jsx(aa,{to:"/dashboard",onClick:()=>m(!1),children:o.jsxs(Te,{variant:"ghost",className:"w-full justify-start h-11 rounded-xl hover:bg-primary/8 hover:text-primary-darker transition-all duration-300 group",children:[o.jsx(Hs,{className:"mr-3 h-5 w-5 group-hover:scale-110 transition-transform duration-300"}),o.jsx("span",{className:"font-medium",children:a.home})]})}),o.jsx(aa,{to:Ko("Users"),onClick:()=>m(!1),children:o.jsxs(Te,{variant:"ghost",className:"w-full justify-start h-11 rounded-xl hover:bg-primary/8 hover:text-primary-darker transition-all duration-300 group",children:[o.jsx(Xs,{className:"mr-3 h-5 w-5 group-hover:scale-110 transition-transform duration-300"}),o.jsx("span",{className:"font-medium",children:a.users})]})}),o.jsx(aa,{to:Ko("Chat"),onClick:()=>m(!1),children:o.jsxs(Te,{variant:"ghost",className:"w-full justify-start h-11 rounded-xl hover:bg-primary/8 hover:text-primary-darker transition-all duration-300 group",children:[o.jsx(Ki,{className:"mr-3 h-5 w-5 group-hover:scale-110 transition-transform duration-300"}),o.jsx("span",{className:"font-medium",children:a.chat})]})}),o.jsx(aa,{to:Ko("MenuCreate"),onClick:()=>m(!1),children:o.jsxs(Te,{variant:"ghost",className:"w-full justify-start h-11 rounded-xl hover:bg-success/8 hover:text-success-darker transition-all duration-300 group",children:[o.jsx(J7,{className:"mr-3 h-5 w-5 group-hover:scale-110 transition-transform duration-300"}),o.jsx("span",{className:"font-medium",children:a.menuCreate})]})}),o.jsx(aa,{to:"/recipes",onClick:()=>m(!1),children:o.jsxs(Te,{variant:"ghost",className:"w-full justify-start h-11 rounded-xl hover:bg-warning/8 hover:text-warning transition-all duration-300 group",children:[o.jsx(h_,{className:"mr-3 h-5 w-5 group-hover:scale-110 transition-transform duration-300"}),o.jsx("span",{className:"font-medium",children:a.recipes})]})}),o.jsx(aa,{to:"/weight-logs",onClick:()=>m(!1),children:o.jsxs(Te,{variant:"ghost",className:"w-full justify-start h-11 rounded-xl hover:bg-purple/8 hover:text-purple transition-all duration-300 group",children:[o.jsx(Om,{className:"mr-3 h-5 w-5 group-hover:scale-110 transition-transform duration-300"}),o.jsx("span",{className:"font-medium",children:a.weightLogs||"Weight Logs"})]})}),o.jsx(aa,{to:"/nutrition-analytics",onClick:()=>m(!1),children:o.jsxs(Te,{variant:"ghost",className:"w-full justify-start h-11 rounded-xl hover:bg-emerald/8 hover:text-emerald transition-all duration-300 group",children:[o.jsx(c_,{className:"mr-3 h-5 w-5 group-hover:scale-110 transition-transform duration-300"}),o.jsx("span",{className:"font-medium",children:a.nutritionAnalytics||"Nutrition Analytics"})]})}),o.jsx(aa,{to:"/menuload",onClick:()=>m(!1),children:o.jsxs(Te,{variant:"ghost",className:"w-full justify-start h-11 rounded-xl hover:bg-info/8 hover:text-info transition-all duration-300 group",children:[o.jsx(h_,{className:"mr-3 h-5 w-5 group-hover:scale-110 transition-transform duration-300"}),o.jsx("span",{className:"font-medium",children:a.menuload})]})})]}),o.jsx("div",{className:"absolute bottom-4 left-4 right-4 hidden md:block",children:o.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-success/10 rounded-xl p-4 border border-primary/20",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse-glow"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-medium text-foreground/80",children:a.systemStatus||"System Status"}),o.jsx("p",{className:"text-xs text-muted-foreground/60",children:a.allSystemsOperational||"All systems operational"})]})]})})})]}),o.jsxs("main",{className:ht("min-h-[calc(100vh-4rem)] transition-all duration-300 ease-out",{"md:pl-64 xl:pl-72":n==="en","md:pr-64 xl:pr-72":n==="he"}),children:[h&&b&&o.jsx("div",{className:"fixed inset-0 bg-black/20 z-30 md:hidden",onClick:()=>m(!1)}),o.jsx("div",{className:"container mx-auto p-4 md:p-6 max-w-7xl",children:o.jsx("div",{className:"animate-slide-up",children:o.jsx(ZU,{})})})]})]})}var cY="Label",xL=y.forwardRef((e,t)=>o.jsx(mt.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));xL.displayName=cY;var bL=xL;const uY=Yp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 transition-colors duration-200 bg-gradient-to-br from-foreground to-foreground/80 bg-clip-text text-transparent"),St=y.forwardRef(({className:e,...t},r)=>o.jsx(bL,{ref:r,className:ht(uY(),e),...t}));St.displayName=bL.displayName;const dY=Yp("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ei=y.forwardRef(({className:e,variant:t,...r},n)=>o.jsx("div",{ref:n,role:"alert",className:ht(dY({variant:t}),e),...r}));ei.displayName="Alert";const Fs=y.forwardRef(({className:e,...t},r)=>o.jsx("h5",{ref:r,className:ht("mb-1 font-medium leading-none tracking-tight",e),...t}));Fs.displayName="AlertTitle";const ti=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{ref:r,className:ht("text-sm [&_p]:leading-relaxed",e),...t}));ti.displayName="AlertDescription";function fY(){const e=ll(),{signIn:t}=Nf(),{translations:r}=ya(),[n,a]=y.useState(!1),[i,s]=y.useState(""),[c,d]=y.useState({email:"",password:""}),f=m=>{d({...c,[m.target.name]:m.target.value})},h=async m=>{m.preventDefault();try{s(""),a(!0);const{error:g}=await t({email:c.email,password:c.password});if(g)throw g;e("/dashboard")}catch(g){console.error("Login error:",g),s(g.message||r.failedToSignIn)}finally{a(!1)}};return o.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 bg-mesh relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid opacity-30"}),o.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-br from-primary/20 to-success/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-10 right-10 w-72 h-72 bg-gradient-to-br from-success/20 to-info/20 rounded-full blur-3xl"}),o.jsx(yL,{}),o.jsx("div",{className:"relative z-10 animate-scale-in",children:o.jsxs(At,{className:"w-[420px] shadow-2xl",children:[o.jsxs(Sr,{className:"text-center pb-4",children:[o.jsx("div",{className:"flex items-center justify-center mb-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:"/logo-placeholder.png",alt:"BetterChoice Logo",className:"w-12 h-12 drop-shadow-md"}),o.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary/30 to-transparent"})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("h1",{className:"text-2xl font-bold text-gradient-primary",children:"BetterChoice"}),o.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Professional Nutrition Platform"})]})]})}),o.jsx(Nr,{className:"text-2xl",children:r.login}),o.jsx(zr,{className:"text-base",children:r.enterCredentials})]}),o.jsxs("form",{onSubmit:h,children:[o.jsx(Et,{className:"space-y-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(St,{htmlFor:"email",className:"text-sm font-semibold text-foreground/80",children:r.email}),o.jsx(Ut,{id:"email",name:"email",type:"email",placeholder:r.enterEmail,value:c.email,onChange:f,required:!0,disabled:n,className:"h-11 bg-white/80 backdrop-blur-sm border-border/60 shadow-sm hover:border-primary/40 focus:border-primary/60 transition-all duration-300"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(St,{htmlFor:"password",className:"text-sm font-semibold text-foreground/80",children:r.password}),o.jsx(Ut,{id:"password",name:"password",type:"password",placeholder:r.enterPassword,value:c.password,onChange:f,required:!0,disabled:n,className:"h-11 bg-white/80 backdrop-blur-sm border-border/60 shadow-sm hover:border-primary/40 focus:border-primary/60 transition-all duration-300"})]}),i&&o.jsx(ei,{variant:"destructive",className:"bg-error-bg border-error/30",children:o.jsx(ti,{className:"text-error",children:i})})]})}),o.jsxs(Yo,{className:"flex flex-col gap-6 pt-2",children:[o.jsx(Te,{type:"submit",className:"w-full h-12 text-base font-semibold",disabled:n,size:"lg",children:n?r.signingIn:r.signIn}),o.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:[r.dontHaveAccount," ",o.jsx(Te,{variant:"link",className:"p-0 text-primary hover:text-primary-lighter font-semibold",onClick:()=>e("/register"),disabled:n,children:r.register})]})]})]})]})})]})}function hY(){const e=ll(),{signUp:t}=Nf(),[r,n]=y.useState(!1),[a,i]=y.useState(""),[s,c]=y.useState({email:"",password:"",confirmPassword:""}),d=h=>{c({...s,[h.target.name]:h.target.value})},f=async h=>{if(h.preventDefault(),s.password!==s.confirmPassword)return i("Passwords do not match");try{i(""),n(!0);const{error:m}=await t({email:s.email,password:s.password});if(m)throw m;e("/login")}catch(m){i(m.message)}finally{n(!1)}};return o.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:o.jsxs(At,{className:"w-[350px]",children:[o.jsxs(Sr,{children:[o.jsx(Nr,{children:"Register"}),o.jsx(zr,{children:"Create a new account"})]}),o.jsxs("form",{onSubmit:f,children:[o.jsx(Et,{children:o.jsxs("div",{className:"grid w-full items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col space-y-1.5",children:[o.jsx(St,{htmlFor:"email",children:"Email"}),o.jsx(Ut,{id:"email",name:"email",type:"email",placeholder:"Enter your email",value:s.email,onChange:d,required:!0})]}),o.jsxs("div",{className:"flex flex-col space-y-1.5",children:[o.jsx(St,{htmlFor:"password",children:"Password"}),o.jsx(Ut,{id:"password",name:"password",type:"password",placeholder:"Enter your password",value:s.password,onChange:d,required:!0})]}),o.jsxs("div",{className:"flex flex-col space-y-1.5",children:[o.jsx(St,{htmlFor:"confirmPassword",children:"Confirm Password"}),o.jsx(Ut,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Confirm your password",value:s.confirmPassword,onChange:d,required:!0})]}),a&&o.jsx("div",{className:"text-sm text-red-500",children:a})]})}),o.jsxs(Yo,{className:"flex flex-col gap-4",children:[o.jsx(Te,{type:"submit",className:"w-full",disabled:r,children:r?"Creating account...":"Register"}),o.jsxs("div",{className:"text-sm text-center",children:["Already have an account?"," ",o.jsx(Te,{variant:"link",className:"p-0",onClick:()=>e("/login"),children:"Login"})]})]})]})]})})}function mY(){var S,N,P;const{translations:e}=ya(),{selectedUserCode:t,selectedClient:r,isLoading:n}=ul(),[a,i]=y.useState({totalMenus:0,activeMenus:0,totalChats:0,weightChange:0}),[s,c]=y.useState([]),[d,f]=y.useState([]),[h,m]=y.useState([]),[g,w]=y.useState(!0);y.useEffect(()=>{t?b():(i({totalMenus:0,activeMenus:0,totalChats:0,weightChange:0}),c([]),f([]),m([]))},[t]);const b=async()=>{if(t)try{w(!0),console.log("🔄 Starting dashboard data load for user:",t),console.log("🍽️ Loading menus for user...");const C=(await $s.list()).filter(U=>U.user_code===t);console.log("✅ User menus loaded:",(C==null?void 0:C.length)||0,"records");const A=C.filter(U=>U.status==="active"),T=C.length;i({totalMenus:T,activeMenus:A.length,totalChats:0,weightChange:0}),f(C.slice(0,5).sort((U,O)=>new Date(O.created_at)-new Date(U.created_at))),m([]);const I=[...C.map(U=>({...U,type:"meal plan"}))].sort((U,O)=>new Date(O.created_at)-new Date(U.created_at)).slice(0,8);c(I)}catch(k){console.error("❌ Error loading dashboard data:",k),console.error("❌ Error details:",k.message),i({totalMenus:0,activeMenus:0,totalChats:0,weightChange:0}),c([]),f([]),m([])}finally{w(!1)}};if(n)return o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})});const x=[{title:e.totalMenus||"Total Menus",value:a.totalMenus,icon:Is,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",change:a.totalMenus>0?"+1":"0",changeColor:"text-green-600"},{title:e.activeMenus||"Active Menus",value:a.activeMenus,icon:TD,color:"text-yellow-600",bgColor:"bg-yellow-50",borderColor:"border-yellow-200",change:a.activeMenus>0?"Active":"None",changeColor:a.activeMenus>0?"text-green-600":"text-gray-600"},{title:e.chatSessions||"Chat Sessions",value:a.totalChats,icon:Ki,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",change:"+0",changeColor:"text-gray-600"},{title:e.weightChange||"Weight Change",value:`${a.weightChange>0?"+":""}${a.weightChange}kg`,icon:Om,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",change:"This month",changeColor:"text-gray-600"}],_=[{title:e.createMenu||"Create Menu",description:e.generateNutritionPlan||"Generate a nutrition plan",icon:Is,color:"text-green-600",bgColor:"bg-green-50",hoverColor:"hover:bg-green-100",borderColor:"border-green-200",link:Ko("MenuCreate"),disabled:!t},{title:e.startChat||"Start Chat",description:e.consultWithAI||"Consult with AI assistant",icon:Ki,color:"text-purple-600",bgColor:"bg-purple-50",hoverColor:"hover:bg-purple-100",borderColor:"border-purple-200",link:Ko("Chat"),disabled:!t}];return o.jsxs("div",{className:"space-y-8 min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-white/80 via-white/90 to-white/80 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)] p-8",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-pink-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-72 h-72 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-indigo-400/10 to-pink-400/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[o.jsxs("div",{className:"space-y-3",children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-bold bg-gradient-to-r from-slate-800 via-blue-600 to-indigo-700 bg-clip-text text-transparent leading-tight",children:e.welcomeToDashboard||"Welcome to Your Dashboard"}),o.jsx("p",{className:"text-xl text-slate-600 font-medium",children:e.overviewOfPractice||"Overview of your nutrition practice"})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 rounded-2xl shadow-lg",children:[o.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),o.jsx("span",{className:"text-white font-semibold",children:e.liveData||"Live Data"})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(Hs,{className:"w-6 h-6 text-white"})})]})]})]}),r&&o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/90 via-blue-50/50 to-indigo-50/50 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)]",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-indigo-500/5 to-purple-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400/10 to-indigo-400/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 p-8",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-xl",children:o.jsx(Js,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent",children:e.clientProfile||"Client Profile"}),o.jsx("p",{className:"text-slate-600 font-medium",children:"Premium client information"})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"space-y-4 p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg",children:[o.jsxs("h4",{className:"font-bold text-lg text-slate-800 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:o.jsx(Js,{className:"h-4 w-4 text-white"})}),e.basicInformation||"Basic Information"]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.name||"Name",":"]}),o.jsx("span",{className:"font-bold text-slate-800",children:r.full_name})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.clientCode||"Code",":"]}),o.jsx("span",{className:"font-bold text-blue-600",children:r.user_code})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.age||"Age",":"]}),o.jsx("span",{className:"font-bold text-slate-800",children:r.age||"N/A"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.gender||"Gender",":"]}),o.jsx("span",{className:"font-bold text-slate-800",children:r.gender||"N/A"})]})]})]}),o.jsxs("div",{className:"space-y-4 p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg",children:[o.jsxs("h4",{className:"font-bold text-lg text-slate-800 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:o.jsx(Om,{className:"h-4 w-4 text-white"})}),e.physicalStats||"Physical Stats"]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.weightKg||"Weight",":"]}),o.jsxs("span",{className:"font-bold text-emerald-600",children:[r.weight_kg||"N/A"," kg"]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.heightCm||"Height",":"]}),o.jsxs("span",{className:"font-bold text-slate-800",children:[r.height_cm||"N/A"," cm"]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsx("span",{className:"font-semibold text-slate-700",children:"BMI:"}),o.jsx("span",{className:"font-bold text-purple-600",children:r.weight_kg&&r.height_cm?(r.weight_kg/Math.pow(r.height_cm/100,2)).toFixed(1):"N/A"})]})]})]}),o.jsxs("div",{className:"space-y-4 p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg",children:[o.jsxs("h4",{className:"font-bold text-lg text-slate-800 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center",children:o.jsx(Ad,{className:"h-4 w-4 text-white"})}),e.nutritionTargets||"Nutrition Targets"]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.dailyTotalCalories||"Daily Calories",":"]}),o.jsxs("span",{className:"font-bold text-orange-600",children:[r.dailyTotalCalories||"N/A"," kcal"]})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.numberOfMeals||"Meals",":"]}),o.jsx("span",{className:"font-bold text-slate-800",children:r.number_of_meals||"N/A"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.goal||"Goal",":"]}),o.jsx("span",{className:"font-bold text-red-600",children:r.goal||"N/A"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.activityLevel||"Activity",":"]}),o.jsx("span",{className:"font-bold text-slate-800",children:r.Activity_level||"N/A"})]})]})]}),o.jsxs("div",{className:"space-y-4 p-6 bg-white/60 backdrop-blur-sm rounded-2xl border border-white/20 shadow-lg",children:[o.jsxs("h4",{className:"font-bold text-lg text-slate-800 flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center",children:o.jsx(ED,{className:"h-4 w-4 text-white"})}),e.contactInformation||"Contact Info"]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.email||"Email",":"]}),o.jsx("span",{className:"font-bold text-purple-600 truncate",children:r.email||"N/A"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.phoneNumber||"Phone",":"]}),o.jsx("span",{className:"font-bold text-slate-800",children:r.phone_number||"N/A"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/50 rounded-xl",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.city||"City",":"]}),o.jsx("span",{className:"font-bold text-pink-600",children:r.city||"N/A"})]})]})]})]}),(r.food_allergies||r.food_limitations)&&o.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-red-50/80 to-orange-50/80 backdrop-blur-sm rounded-2xl border border-red-200/50 shadow-lg",children:[o.jsxs("h4",{className:"font-bold text-lg text-slate-800 flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-red-500 to-orange-600 rounded-lg flex items-center justify-center",children:o.jsx(ck,{className:"h-4 w-4 text-white"})}),e.dietaryRestrictions||"Dietary Restrictions"]}),o.jsxs("div",{className:"flex flex-wrap gap-3",children:[r.food_allergies&&o.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-xl font-semibold shadow-lg",children:[e.foodAllergies||"Allergies",": ",Array.isArray(r.food_allergies)?r.food_allergies.join(", "):r.food_allergies]}),r.food_limitations&&o.jsxs("div",{className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold shadow-lg",children:[e.foodLimitations||"Limitations",": ",Array.isArray(r.food_limitations)?r.food_limitations.join(", "):r.food_limitations]})]})]}),o.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-indigo-50/80 to-purple-50/80 backdrop-blur-sm rounded-2xl border border-indigo-200/50 shadow-lg",children:[o.jsxs("h4",{className:"font-bold text-lg text-slate-800 flex items-center gap-3 mb-6",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx(jW,{className:"h-4 w-4 text-white"})}),e.userPreferences||"User Preferences"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4 p-4 bg-white/60 backdrop-blur-sm rounded-xl border border-white/20",children:[o.jsxs("h5",{className:"font-bold text-slate-800 flex items-center gap-3",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center",children:o.jsx(Vs,{className:"h-3 w-3 text-white"})}),e.macros||"Macros"]}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between items-center p-2 bg-white/50 rounded-lg",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.protein||"Protein",":"]}),o.jsx("span",{className:"font-bold text-indigo-600",children:((S=r.macros)==null?void 0:S.protein)||"N/A"})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-white/50 rounded-lg",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.carbs||"Carbs",":"]}),o.jsx("span",{className:"font-bold text-purple-600",children:((N=r.macros)==null?void 0:N.carbs)||"N/A"})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-white/50 rounded-lg",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.fat||"Fat",":"]}),o.jsx("span",{className:"font-bold text-slate-800",children:((P=r.macros)==null?void 0:P.fat)||"N/A"})]}),o.jsxs("div",{className:"flex justify-between items-center p-2 bg-white/50 rounded-lg",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.region||"Region",":"]}),o.jsx("span",{className:"font-bold text-slate-800",children:r.region||"N/A"})]})]})]}),o.jsxs("div",{className:"space-y-4 p-4 bg-white/60 backdrop-blur-sm rounded-xl border border-white/20",children:[o.jsxs("h5",{className:"font-bold text-slate-800 flex items-center gap-3",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-pink-500 to-rose-600 rounded-lg flex items-center justify-center",children:o.jsx(m_,{className:"h-3 w-3 text-white"})}),e.clientPreferences||"Client Preferences"]}),o.jsx("div",{className:"space-y-2 text-sm",children:o.jsxs("div",{className:"p-3 bg-white/50 rounded-lg",children:[o.jsxs("span",{className:"font-semibold text-slate-700",children:[e.preferences||"Preferences",":"]}),o.jsx("p",{className:"font-bold text-slate-800 mt-1",children:r.client_preference?typeof r.client_preference=="object"?Object.entries(r.client_preference).map(([k,C])=>Array.isArray(C)?C.join(", "):C).join(", "):r.client_preference:"None specified"})]})})]})]})]})]})]}),!t&&o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-r from-amber-50/80 to-orange-50/80 backdrop-blur-2xl border border-amber-200/50 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)] p-8",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-amber-400/10 to-orange-400/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(ck,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-1",children:"Client Selection Required"}),o.jsx("p",{className:"text-slate-600 font-medium",children:e.pleaseSelectClient||"Please select a client from the sidebar to view their dashboard."})]})]})]}),t&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map((k,C)=>o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/90 to-white/80 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)] p-6 hover:shadow-[0_35px_60px_-12px_rgba(0,0,0,0.15)] transition-all duration-500 group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-2xl group-hover:scale-110 transition-transform duration-500"}),o.jsxs("div",{className:"relative z-10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 ${C===0?"bg-gradient-to-br from-green-500 to-emerald-600":C===1?"bg-gradient-to-br from-yellow-500 to-orange-600":C===2?"bg-gradient-to-br from-purple-500 to-indigo-600":"bg-gradient-to-br from-blue-500 to-cyan-600"}`,children:o.jsx(k.icon,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{className:`text-sm font-bold ${k.changeColor} flex items-center gap-2 px-3 py-1 bg-white/60 backdrop-blur-sm rounded-xl border border-white/20`,children:[o.jsx(TW,{className:"h-3 w-3"}),k.change]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("h3",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-slate-600 bg-clip-text text-transparent",children:k.value}),o.jsx("p",{className:"text-sm font-semibold text-slate-600",children:k.title})]})]})]},C))}),t&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/90 to-white/80 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)]",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/5 via-blue-500/5 to-purple-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-400/10 to-blue-400/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 p-8",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-xl",children:o.jsx(Hs,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent",children:e.quickActions||"Quick Actions"}),o.jsx("p",{className:"text-slate-600 font-medium",children:e.commonTasks||"Access your most common tasks quickly"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((k,C)=>o.jsx(aa,{to:k.link,className:k.disabled?"pointer-events-none opacity-50":"group",children:o.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-white/80 to-white/60 backdrop-blur-sm border border-white/20 shadow-lg hover:shadow-xl transition-all duration-500 group-hover:scale-105 cursor-pointer h-full",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-pink-500/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),o.jsx("div",{className:"relative z-10 p-6",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${k.color.replace("text-","from-").replace("-600","-500")} to-${k.color.replace("text-","").replace("-600","-600")} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:o.jsx(k.icon,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-slate-800 mb-2",children:k.title}),o.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:k.description})]})]})})]})},C))})]})]}),o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-white/90 to-white/80 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)]",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/5 via-pink-500/5 to-rose-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-purple-400/10 to-pink-400/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 p-8",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center shadow-xl",children:o.jsx(Gp,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-purple-600 bg-clip-text text-transparent",children:e.recentActivity||"Recent Activity"}),o.jsx("p",{className:"text-slate-600 font-medium",children:e.latestUpdates||"Latest updates from your practice"})]})]}),o.jsx("div",{className:"space-y-4",children:s.length>0?s.map((k,C)=>{var A;return o.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-white/60 backdrop-blur-sm border border-white/20 p-4 hover:bg-white/80 transition-all duration-300 group",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${k.type==="meal plan"?"from-green-500 to-emerald-600":"from-blue-500 to-indigo-600"} rounded-xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:k.type==="meal plan"?o.jsx(Is,{className:"h-6 w-6 text-white"}):o.jsx(Ki,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-bold text-slate-800 truncate",children:k.type==="meal plan"?k.meal_plan_name||k.name||"Meal Plan":"Chat Session"}),o.jsxs("p",{className:"text-sm text-slate-600",children:[new Date(k.created_at).toLocaleDateString()," •",k.type==="meal plan"?` ${k.daily_total_calories||k.total_calories||0} cal`:` ${((A=k.messages)==null?void 0:A.length)||0} messages`]})]}),o.jsx(Em,{className:"h-5 w-5 text-slate-400 group-hover:text-slate-600 group-hover:scale-110 transition-all duration-300"})]})},C)}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-300 to-slate-400 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(Hs,{className:"h-8 w-8 text-white"})}),o.jsx("p",{className:"text-slate-500 font-medium",children:e.noRecentActivity||"No recent activity"})]})})]})]})]}),t&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-green-50/90 to-emerald-50/80 backdrop-blur-2xl border border-green-200/50 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)]",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/5 via-emerald-500/5 to-teal-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-400/10 to-emerald-400/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 p-8",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center shadow-xl",children:o.jsx(Is,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-green-600 bg-clip-text text-transparent",children:e.menuoverview||"Menu Overview"}),o.jsx("p",{className:"text-slate-600 font-medium",children:e.recentNutritionPlans||"Recent nutrition plans and menus"})]})]}),d.length>0?o.jsxs("div",{className:"space-y-4",children:[d.slice(0,3).map((k,C)=>o.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-white/60 backdrop-blur-sm border border-white/20 p-4 hover:bg-white/80 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-slate-800 mb-1",children:k.meal_plan_name||k.name||"Untitled Meal Plan"}),o.jsxs("p",{className:"text-sm text-slate-600",children:[k.daily_total_calories||k.total_calories||0," ",e.kcal||"kcal"]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-slate-500 mb-1",children:new Date(k.created_at).toLocaleDateString()}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-xs font-semibold text-slate-700",children:k.status||"Active"})]})]})]})},C)),o.jsx("div",{className:"text-center pt-4",children:o.jsx(aa,{to:Ko("menuload"),children:o.jsxs(Te,{className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.viewAllMenus||"View All Menus",o.jsx(Em,{className:"h-4 w-4 ml-2"})]})})})]}):o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-300 to-emerald-400 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(Is,{className:"h-8 w-8 text-white"})}),o.jsx("p",{className:"text-green-700 font-bold text-lg mb-2",children:e.noMenusYet||"No menus created yet"}),o.jsx(aa,{to:Ko("MenuCreate"),children:o.jsxs(Te,{className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx(fc,{className:"h-4 w-4 mr-2"}),e.createFirstMenu||"Create Your First Menu"]})})]})]})]}),o.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-blue-50/90 to-indigo-50/80 backdrop-blur-2xl border border-blue-200/50 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)]",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-indigo-500/5 to-purple-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400/10 to-indigo-400/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 p-8",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center shadow-xl",children:o.jsx(Ki,{className:"w-8 h-8 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent",children:e.consultations||"Consultations"}),o.jsx("p",{className:"text-slate-600 font-medium",children:e.aiPoweredConsultations||"AI-powered nutrition consultations"})]})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-300 to-indigo-400 rounded-2xl flex items-center justify-center mx-auto mb-4",children:o.jsx(Ki,{className:"h-8 w-8 text-white"})}),o.jsx("p",{className:"text-blue-700 font-bold text-lg mb-2",children:e.noChatHistory||"No chat history yet"}),o.jsx(aa,{to:Ko("Chat"),children:o.jsxs(Te,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-semibold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[o.jsx(Ki,{className:"h-4 w-4 mr-2"}),e.startFirstChat||"Start Your First Chat"]})})]})]})]})]})]})}const bd=y.forwardRef(({className:e,...t},r)=>o.jsx("textarea",{className:ht("flex min-h-[60px] w-full rounded-md border border-input bg-background/50 backdrop-blur-sm px-3 py-2 text-base shadow-sm transition-all duration-300","placeholder:text-muted-foreground/70","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-primary focus-visible:border-primary","disabled:cursor-not-allowed disabled:opacity-50","hover:border-primary/50 hover:shadow-primary/5","md:text-sm resize-none",e),ref:r,...t}));bd.displayName="Textarea";const wL=y.forwardRef(({className:e,...t},r)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:r,className:ht("w-full caption-bottom text-sm",e),...t})}));wL.displayName="Table";const _L=y.forwardRef(({className:e,...t},r)=>o.jsx("thead",{ref:r,className:ht("[&_tr]:border-b",e),...t}));_L.displayName="TableHeader";const jL=y.forwardRef(({className:e,...t},r)=>o.jsx("tbody",{ref:r,className:ht("[&_tr:last-child]:border-0",e),...t}));jL.displayName="TableBody";const pY=y.forwardRef(({className:e,...t},r)=>o.jsx("tfoot",{ref:r,className:ht("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));pY.displayName="TableFooter";const Cm=y.forwardRef(({className:e,...t},r)=>o.jsx("tr",{ref:r,className:ht("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Cm.displayName="TableRow";const bi=y.forwardRef(({className:e,...t},r)=>o.jsx("th",{ref:r,className:ht("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));bi.displayName="TableHead";const Ka=y.forwardRef(({className:e,...t},r)=>o.jsx("td",{ref:r,className:ht("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Ka.displayName="TableCell";const gY=y.forwardRef(({className:e,...t},r)=>o.jsx("caption",{ref:r,className:ht("mt-4 text-sm text-muted-foreground",e),...t}));gY.displayName="TableCaption";var dg="Dialog",[SL,mme]=xa(dg),[vY,fi]=SL(dg),NL=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!0}=e,c=y.useRef(null),d=y.useRef(null),[f,h]=oo({prop:n,defaultProp:a??!1,onChange:i,caller:dg});return o.jsx(vY,{scope:t,triggerRef:c,contentRef:d,contentId:ai(),titleId:ai(),descriptionId:ai(),open:f,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(m=>!m),[h]),modal:s,children:r})};NL.displayName=dg;var CL="DialogTrigger",yY=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(CL,r),i=Ot(t,a.triggerRef);return o.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Hj(a.open),...n,ref:i,onClick:Ke(e.onClick,a.onOpenToggle)})});yY.displayName=CL;var qj="DialogPortal",[xY,PL]=SL(qj,{forceMount:void 0}),kL=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=fi(qj,t);return o.jsx(xY,{scope:t,forceMount:r,children:y.Children.map(n,s=>o.jsx($n,{present:r||i.open,children:o.jsx(Af,{asChild:!0,container:a,children:s})}))})};kL.displayName=qj;var Fm="DialogOverlay",AL=y.forwardRef((e,t)=>{const r=PL(Fm,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=fi(Fm,e.__scopeDialog);return i.modal?o.jsx($n,{present:n||i.open,children:o.jsx(wY,{...a,ref:t})}):null});AL.displayName=Fm;var bY=ts("DialogOverlay.RemoveScroll"),wY=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(Fm,r);return o.jsx(Of,{as:bY,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(mt.div,{"data-state":Hj(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),tl="DialogContent",EL=y.forwardRef((e,t)=>{const r=PL(tl,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=fi(tl,e.__scopeDialog);return o.jsx($n,{present:n||i.open,children:i.modal?o.jsx(_Y,{...a,ref:t}):o.jsx(jY,{...a,ref:t})})});EL.displayName=tl;var _Y=y.forwardRef((e,t)=>{const r=fi(tl,e.__scopeDialog),n=y.useRef(null),a=Ot(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return ng(i)},[]),o.jsx(OL,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,i=>{var s;i.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,i=>{const s=i.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0;(s.button===2||c)&&i.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,i=>i.preventDefault())})}),jY=y.forwardRef((e,t)=>{const r=fi(tl,e.__scopeDialog),n=y.useRef(!1),a=y.useRef(!1);return o.jsx(OL,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,c;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),OL=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...s}=e,c=fi(tl,r),d=y.useRef(null),f=Ot(t,d);return Xp(),o.jsxs(o.Fragment,{children:[o.jsx(Pf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(Cf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Hj(c.open),...s,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(SY,{titleId:c.titleId}),o.jsx(CY,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Wj="DialogTitle",TL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(Wj,r);return o.jsx(mt.h2,{id:a.titleId,...n,ref:t})});TL.displayName=Wj;var ML="DialogDescription",RL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(ML,r);return o.jsx(mt.p,{id:a.descriptionId,...n,ref:t})});RL.displayName=ML;var DL="DialogClose",IL=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=fi(DL,r);return o.jsx(mt.button,{type:"button",...n,ref:t,onClick:Ke(e.onClick,()=>a.onOpenChange(!1))})});IL.displayName=DL;function Hj(e){return e?"open":"closed"}var $L="DialogTitleWarning",[pme,LL]=CH($L,{contentName:tl,titleName:Wj,docsSlug:"dialog"}),SY=({titleId:e})=>{const t=LL($L),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},NY="DialogDescriptionWarning",CY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LL(NY).contentName}}.`;return y.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},PY=NL,kY=kL,FL=AL,BL=EL,UL=TL,zL=RL,AY=IL;const Bm=PY,EY=kY,qL=y.forwardRef(({className:e,...t},r)=>o.jsx(FL,{ref:r,className:ht("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));qL.displayName=FL.displayName;const Dd=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(EY,{children:[o.jsx(qL,{}),o.jsxs(BL,{ref:n,className:ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,o.jsxs(AY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(ma,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Dd.displayName=BL.displayName;const Id=({className:e,...t})=>o.jsx("div",{className:ht("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Id.displayName="DialogHeader";const Vj=({className:e,...t})=>o.jsx("div",{className:ht("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Vj.displayName="DialogFooter";const $d=y.forwardRef(({className:e,...t},r)=>o.jsx(UL,{ref:r,className:ht("text-lg font-semibold leading-none tracking-tight",e),...t}));$d.displayName=UL.displayName;const Um=y.forwardRef(({className:e,...t},r)=>o.jsx(zL,{ref:r,className:ht("text-sm text-muted-foreground",e),...t}));Um.displayName=zL.displayName;var WL=["PageUp","PageDown"],HL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],VL={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},su="Slider",[T_,OY,TY]=Jp(su),[GL,gme]=xa(su,[TY]),[MY,fg]=GL(su),KL=y.forwardRef((e,t)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:s="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[n],value:h,onValueChange:m=()=>{},onValueCommit:g=()=>{},inverted:w=!1,form:b,...x}=e,_=y.useRef(new Set),S=y.useRef(0),P=s==="horizontal"?RY:DY,[k=[],C]=oo({prop:h,defaultProp:f,onChange:O=>{var Z;(Z=[..._.current][S.current])==null||Z.focus(),m(O)}}),A=y.useRef(k);function T(O){const B=BY(k,O);U(O,B)}function R(O){U(O,S.current)}function I(){const O=A.current[S.current];k[S.current]!==O&&g(k)}function U(O,B,{commit:Z}={commit:!1}){const te=WY(i),Q=HY(Math.round((O-n)/i)*i+n,te),Y=Rd(Q,[n,a]);C((ie=[])=>{const W=LY(ie,Y,B);if(qY(W,d*i)){S.current=W.indexOf(Y);const V=String(W)!==String(ie);return V&&Z&&g(W),V?W:ie}else return ie})}return o.jsx(MY,{scope:e.__scopeSlider,name:r,disabled:c,min:n,max:a,valueIndexToChangeRef:S,thumbs:_.current,values:k,orientation:s,form:b,children:o.jsx(T_.Provider,{scope:e.__scopeSlider,children:o.jsx(T_.Slot,{scope:e.__scopeSlider,children:o.jsx(P,{"aria-disabled":c,"data-disabled":c?"":void 0,...x,ref:t,onPointerDown:Ke(x.onPointerDown,()=>{c||(A.current=k)}),min:n,max:a,inverted:w,onSlideStart:c?void 0:T,onSlideMove:c?void 0:R,onSlideEnd:c?void 0:I,onHomeKeyDown:()=>!c&&U(n,0,{commit:!0}),onEndKeyDown:()=>!c&&U(a,k.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:B})=>{if(!c){const Q=WL.includes(O.key)||O.shiftKey&&HL.includes(O.key)?10:1,Y=S.current,ie=k[Y],W=i*Q*B;U(ie+W,Y,{commit:!0})}}})})})})});KL.displayName=su;var[YL,JL]=GL(su,{startEdge:"left",endEdge:"right",size:"width",direction:1}),RY=y.forwardRef((e,t)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:s,onSlideMove:c,onSlideEnd:d,onStepKeyDown:f,...h}=e,[m,g]=y.useState(null),w=Ot(t,P=>g(P)),b=y.useRef(void 0),x=ru(a),_=x==="ltr",S=_&&!i||!_&&i;function N(P){const k=b.current||m.getBoundingClientRect(),C=[0,k.width],T=Gj(C,S?[r,n]:[n,r]);return b.current=k,T(P-k.left)}return o.jsx(YL,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:o.jsx(XL,{dir:x,"data-orientation":"horizontal",...h,ref:w,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const k=N(P.clientX);s==null||s(k)},onSlideMove:P=>{const k=N(P.clientX);c==null||c(k)},onSlideEnd:()=>{b.current=void 0,d==null||d()},onStepKeyDown:P=>{const C=VL[S?"from-left":"from-right"].includes(P.key);f==null||f({event:P,direction:C?-1:1})}})})}),DY=y.forwardRef((e,t)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:s,onSlideEnd:c,onStepKeyDown:d,...f}=e,h=y.useRef(null),m=Ot(t,h),g=y.useRef(void 0),w=!a;function b(x){const _=g.current||h.current.getBoundingClientRect(),S=[0,_.height],P=Gj(S,w?[n,r]:[r,n]);return g.current=_,P(x-_.top)}return o.jsx(YL,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:o.jsx(XL,{"data-orientation":"vertical",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const _=b(x.clientY);i==null||i(_)},onSlideMove:x=>{const _=b(x.clientY);s==null||s(_)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:x=>{const S=VL[w?"from-bottom":"from-top"].includes(x.key);d==null||d({event:x,direction:S?-1:1})}})})}),XL=y.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:s,onEndKeyDown:c,onStepKeyDown:d,...f}=e,h=fg(su,r);return o.jsx(mt.span,{...f,ref:t,onKeyDown:Ke(e.onKeyDown,m=>{m.key==="Home"?(s(m),m.preventDefault()):m.key==="End"?(c(m),m.preventDefault()):WL.concat(HL).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:Ke(e.onPointerDown,m=>{const g=m.target;g.setPointerCapture(m.pointerId),m.preventDefault(),h.thumbs.has(g)?g.focus():n(m)}),onPointerMove:Ke(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&a(m)}),onPointerUp:Ke(e.onPointerUp,m=>{const g=m.target;g.hasPointerCapture(m.pointerId)&&(g.releasePointerCapture(m.pointerId),i(m))})})}),QL="SliderTrack",ZL=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=fg(QL,r);return o.jsx(mt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:t})});ZL.displayName=QL;var M_="SliderRange",e5=y.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,a=fg(M_,r),i=JL(M_,r),s=y.useRef(null),c=Ot(t,s),d=a.values.length,f=a.values.map(g=>n5(g,a.min,a.max)),h=d>1?Math.min(...f):0,m=100-Math.max(...f);return o.jsx(mt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:c,style:{...e.style,[i.startEdge]:h+"%",[i.endEdge]:m+"%"}})});e5.displayName=M_;var R_="SliderThumb",t5=y.forwardRef((e,t)=>{const r=OY(e.__scopeSlider),[n,a]=y.useState(null),i=Ot(t,c=>a(c)),s=y.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return o.jsx(IY,{...e,ref:i,index:s})}),IY=y.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:a,...i}=e,s=fg(R_,r),c=JL(R_,r),[d,f]=y.useState(null),h=Ot(t,N=>f(N)),m=d?s.form||!!d.closest("form"):!0,g=Pj(d),w=s.values[n],b=w===void 0?0:n5(w,s.min,s.max),x=FY(n,s.values.length),_=g==null?void 0:g[c.size],S=_?UY(_,b,c.direction):0;return y.useEffect(()=>{if(d)return s.thumbs.add(d),()=>{s.thumbs.delete(d)}},[d,s.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${b}% + ${S}px)`},children:[o.jsx(T_.ItemSlot,{scope:e.__scopeSlider,children:o.jsx(mt.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":s.min,"aria-valuenow":w,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0,...i,ref:h,style:w===void 0?{display:"none"}:e.style,onFocus:Ke(e.onFocus,()=>{s.valueIndexToChangeRef.current=n})})}),m&&o.jsx(r5,{name:a??(s.name?s.name+(s.values.length>1?"[]":""):void 0),form:s.form,value:w},n)]})});t5.displayName=R_;var $Y="RadioBubbleInput",r5=y.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const a=y.useRef(null),i=Ot(a,n),s=Bj(t);return y.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(s!==t&&h){const m=new Event("input",{bubbles:!0});h.call(c,t),c.dispatchEvent(m)}},[s,t]),o.jsx(mt.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});r5.displayName=$Y;function LY(e=[],t,r){const n=[...e];return n[r]=t,n.sort((a,i)=>a-i)}function n5(e,t,r){const i=100/(r-t)*(e-t);return Rd(i,[0,100])}function FY(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function BY(e,t){if(e.length===1)return 0;const r=e.map(a=>Math.abs(a-t)),n=Math.min(...r);return r.indexOf(n)}function UY(e,t,r){const n=e/2,i=Gj([0,50],[0,n]);return(n-i(t)*r)*r}function zY(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function qY(e,t){if(t>0){const r=zY(e);return Math.min(...r)>=t}return!0}function Gj(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function WY(e){return(String(e).split(".")[1]||"").length}function HY(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var a5=KL,VY=ZL,GY=e5,KY=t5;const i5=y.forwardRef(({className:e,...t},r)=>o.jsxs(a5,{ref:r,className:ht("relative flex w-full touch-none select-none items-center",e),...t,children:[o.jsx(VY,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:o.jsx(GY,{className:"absolute h-full bg-primary"})}),o.jsx(KY,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));i5.displayName=a5.displayName;var hg="Popover",[o5,vme]=xa(hg,[iu]),Rf=iu(),[YY,ls]=o5(hg),s5=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:s=!1}=e,c=Rf(t),d=y.useRef(null),[f,h]=y.useState(!1),[m,g]=oo({prop:n,defaultProp:a??!1,onChange:i,caller:hg});return o.jsx(Ej,{...c,children:o.jsx(YY,{scope:t,contentId:ai(),triggerRef:d,open:m,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(w=>!w),[g]),hasCustomAnchor:f,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:s,children:r})})};s5.displayName=hg;var l5="PopoverAnchor",JY=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ls(l5,r),i=Rf(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:c}=a;return y.useEffect(()=>(s(),()=>c()),[s,c]),o.jsx(tg,{...i,...n,ref:t})});JY.displayName=l5;var c5="PopoverTrigger",u5=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ls(c5,r),i=Rf(r),s=Ot(t,a.triggerRef),c=o.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":p5(a.open),...n,ref:s,onClick:Ke(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:o.jsx(tg,{asChild:!0,...i,children:c})});u5.displayName=c5;var Kj="PopoverPortal",[XY,QY]=o5(Kj,{forceMount:void 0}),d5=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=ls(Kj,t);return o.jsx(XY,{scope:t,forceMount:r,children:o.jsx($n,{present:r||i.open,children:o.jsx(Af,{asChild:!0,container:a,children:n})})})};d5.displayName=Kj;var jc="PopoverContent",f5=y.forwardRef((e,t)=>{const r=QY(jc,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=ls(jc,e.__scopePopover);return o.jsx($n,{present:n||i.open,children:i.modal?o.jsx(eJ,{...a,ref:t}):o.jsx(tJ,{...a,ref:t})})});f5.displayName=jc;var ZY=ts("PopoverContent.RemoveScroll"),eJ=y.forwardRef((e,t)=>{const r=ls(jc,e.__scopePopover),n=y.useRef(null),a=Ot(t,n),i=y.useRef(!1);return y.useEffect(()=>{const s=n.current;if(s)return ng(s)},[]),o.jsx(Of,{as:ZY,allowPinchZoom:!0,children:o.jsx(h5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),i.current||(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),tJ=y.forwardRef((e,t)=>{const r=ls(jc,e.__scopePopover),n=y.useRef(!1),a=y.useRef(!1);return o.jsx(h5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var s,c;(s=e.onCloseAutoFocus)==null||s.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var d,f;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=i.target;((f=r.triggerRef.current)==null?void 0:f.contains(s))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),h5=y.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:s,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,...m}=e,g=ls(jc,r),w=Rf(r);return Xp(),o.jsx(Pf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:o.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:o.jsx(Oj,{"data-state":p5(g.open),role:"dialog",id:g.contentId,...w,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),m5="PopoverClose",rJ=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ls(m5,r);return o.jsx(mt.button,{type:"button",...n,ref:t,onClick:Ke(e.onClick,()=>a.onOpenChange(!1))})});rJ.displayName=m5;var nJ="PopoverArrow",aJ=y.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Rf(r);return o.jsx(Tj,{...a,...n,ref:t})});aJ.displayName=nJ;function p5(e){return e?"open":"closed"}var iJ=s5,oJ=u5,sJ=d5,g5=f5;const lJ=iJ,cJ=oJ,v5=y.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>o.jsx(sJ,{children:o.jsx(g5,{ref:a,align:t,sideOffset:r,className:ht("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));v5.displayName=g5.displayName;var uJ="Separator",Hk="horizontal",dJ=["horizontal","vertical"],y5=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=Hk,...a}=e,i=fJ(n)?n:Hk,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return o.jsx(mt.div,{"data-orientation":i,...c,...a,ref:t})});y5.displayName=uJ;function fJ(e){return dJ.includes(e)}var x5=y5;const b5=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>o.jsx(x5,{ref:a,decorative:r,orientation:t,className:ht("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));b5.displayName=x5.displayName;const Vk=async()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";let t="",r=!1,n=0;const a=10;for(;!r&&n<a;){t="";for(let i=0;i<8;i++)t+=e.charAt(Math.floor(Math.random()*e.length));try{await Yi.get(t)||(r=!0)}catch{r=!0}n++}return t};function hJ(){const{translations:e,language:t}=ya(),[r,n]=y.useState([]),[a,i]=y.useState(""),[s,c]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(!1),[g,w]=y.useState(null),[b,x]=y.useState(null),[_,S]=y.useState(!1),[N,P]=y.useState("full_name"),[k,C]=y.useState("asc"),[A,T]=y.useState({goal:"all",activity:"all",gender:"all",ageRange:{min:"",max:""}}),[R,I]=y.useState(!1),U=M=>[{key:"breakfast",meal:M.breakfast||"Breakfast",calories_pct:30,description:"",calories:0,locked:!1},{key:"lunch",meal:M.lunch||"Lunch",calories_pct:30,description:"",calories:0,locked:!1},{key:"dinner",meal:M.dinner||"Dinner",calories_pct:30,description:"",calories:0,locked:!1},{key:"snacks",meal:M.snacks||"Snack",calories_pct:10,description:"",calories:0,locked:!1}],[O,B]=y.useState({user_code:"",full_name:"",email:"",phone_number:"",city:"",age:"",date_of_birth:"",gender:"",weight_kg:"",height_cm:"",food_allergies:"",macros:{fat:"",carbs:"",protein:""},dailyTotalCalories:"",food_limitations:"",Activity_level:"",goal:"",number_of_meals:"",client_preference:"",region:"israel",meal_plan_structure:U(e)}),[Z,te]=y.useState({protein:0,carbs:0,fat:0}),[Q,Y]=y.useState({protein:{percentage:0,grams:0,gramsPerKg:0},carbs:{percentage:0,grams:0,gramsPerKg:0},fat:{percentage:0,grams:0,gramsPerKg:0}}),[ie,W]=y.useState({protein:30,carbs:40,fat:30}),[V,F]=y.useState({protein:!1,carbs:!1,fat:!1}),[L,J]=y.useState({}),[G,de]=y.useState(!1),[Ce,q]=y.useState(null),[ae,Ae]=y.useState(!1),[K,_e]=y.useState(null),[Me,pe]=y.useState(!1),[Qe,ze]=y.useState({}),[re,Ct]=y.useState({}),Vt=()=>O.age&&O.gender&&O.weight_kg&&O.height_cm&&O.Activity_level,Pt=M=>G&&(!O[M]||O[M].toString().trim()===""),Gt=M=>{J(H=>({...H,[M]:!0}))},sn=M=>{if(!M)return"";const H=new Date,oe=new Date(M);let ke=H.getFullYear()-oe.getFullYear();const je=H.getMonth()-oe.getMonth();return(je<0||je===0&&H.getDate()<oe.getDate())&&ke--,ke.toString()},bt=()=>{const M=Object.entries(V).filter(([H,oe])=>oe).reduce((H,[oe,ke])=>H+Q[oe].percentage,0);return{hasConflict:M>100,lockedTotal:M,message:M>100?`Locked macros total ${M.toFixed(1)}%, which exceeds 100%. Unlock some macros to continue.`:null}},er=(M,H,oe)=>{const ke=parseInt(O.dailyTotalCalories)||0,je=parseFloat(O.weight_kg)||0;if(ke<=0)return;let Le={...Q};if(M==="percentage"){const Oe=Math.max(0,Math.min(100,H)),Xe=Math.round(Oe/100*ke/(oe==="fat"?9:4));Le[oe]={percentage:Oe,grams:Xe,gramsPerKg:je>0?Math.round(Xe/je*10)/10:0};const jt=Object.keys(Le).filter(Ue=>Ue!==oe),Tt=jt.reduce((Ue,dt)=>Ue+Le[dt].percentage,0)+Oe;if(Tt>100){const Ue=Tt-100,dt=jt.filter(dr=>!V[dr]),ln=jt.filter(dr=>V[dr]).reduce((dr,fr)=>dr+Le[fr].percentage,0);if(ln>0){const dr=100-Oe-ln;if(dr<0){console.warn(`Cannot maintain 100% total with current locked macros. Locked total: ${ln}%, current macro: ${Oe}%`);return}if(dt.length>0){const fr=dt.reduce((Jt,Qt)=>Jt+Le[Qt].percentage,0);fr>0&&dt.forEach(Jt=>{const Qt=Le[Jt].percentage/fr,Wt=Math.round(dr*Qt*10)/10,Ht=Math.round(Wt/100*ke/(Jt==="fat"?9:4));Le[Jt]={percentage:Wt,grams:Ht,gramsPerKg:je>0?Math.round(Ht/je*10)/10:0}})}}else{const dr=jt.reduce((fr,Jt)=>fr+Le[Jt].percentage,0);dr>0&&jt.forEach(fr=>{const Qt=Le[fr].percentage/dr*Ue,Wt=Math.max(0,Le[fr].percentage-Qt),Ht=Math.round(Wt/100*ke/(fr==="fat"?9:4));Le[fr]={percentage:Math.round(Wt*10)/10,grams:Ht,gramsPerKg:je>0?Math.round(Ht/je*10)/10:0}})}}else if(Tt<100&&jt.some(Ue=>Le[Ue].percentage===0)){const Ue=100-Oe,dt=jt.filter(Jt=>Le[Jt].percentage===0&&!V[Jt]),Or=jt.filter(Jt=>Le[Jt].percentage>0&&!V[Jt]),dr=jt.filter(Jt=>V[Jt]).reduce((Jt,Qt)=>Jt+Le[Qt].percentage,0),fr=Ue-dr;if(dt.length>0&&fr>0){const Jt=dt.reduce((Qt,Wt)=>Qt+ie[Wt],0);if(Jt>0)dt.forEach(Qt=>{const Wt=ie[Qt]/Jt,Ht=Math.round(fr*Wt*10)/10,It=Math.round(Ht/100*ke/(Qt==="fat"?9:4));Le[Qt]={percentage:Ht,grams:It,gramsPerKg:je>0?Math.round(It/je*10)/10:0}});else{const Qt=fr/dt.length;dt.forEach(Wt=>{const Ht=Math.round(Qt*10)/10,It=Math.round(Ht/100*ke/(Wt==="fat"?9:4));Le[Wt]={percentage:Ht,grams:It,gramsPerKg:je>0?Math.round(It/je*10)/10:0}})}if(Or.length>0){const Qt=Or.reduce((Ht,It)=>Ht+Le[It].percentage,0),Wt=fr-dt.reduce((Ht,It)=>Ht+Le[It].percentage,0);if(Wt>0&&Qt>0){const Ht=Wt/Qt;Or.forEach(It=>{const Nn=Math.round(Le[It].percentage*Ht*10)/10,Cn=Math.round(Nn/100*ke/(It==="fat"?9:4));Le[It]={percentage:Nn,grams:Cn,gramsPerKg:je>0?Math.round(Cn/je*10)/10:0}})}}}}}else if(M==="grams"){const Oe=Math.round(H*(oe==="fat"?9:4)/ke*100);Le[oe]={percentage:Oe,grams:H,gramsPerKg:je>0?Math.round(H/je*10)/10:0}}else if(M==="gramsPerKg"){const Oe=Math.round(H*je),Xe=Math.round(Oe*(oe==="fat"?9:4)/ke*100);Le[oe]={percentage:Xe,grams:Oe,gramsPerKg:H}}Y(Le),te({protein:Le.protein.grams,carbs:Le.carbs.grams,fat:Le.fat.grams});const tt=Le.protein.percentage+Le.carbs.percentage+Le.fat.percentage;Math.abs(tt-100)<.1&&W({protein:Le.protein.percentage,carbs:Le.carbs.percentage,fat:Le.fat.percentage})},xr=()=>{const M=Q.protein.percentage+Q.carbs.percentage+Q.fat.percentage,H=Q.protein.grams*4+Q.carbs.grams*4+Q.fat.grams*9;return{totalPercentage:M,totalCalories:H}},qt=()=>{const M=xr().totalPercentage;if((parseInt(O.dailyTotalCalories)||0)===0)return{isValid:!0,warning:null,total:M,isCaloriesNotSet:!0};const oe=Math.abs(M-100)<.1,ke=oe?null:`Macro percentages should add up to 100%. Current total: ${M.toFixed(1)}%`;return{isValid:oe,warning:ke,total:M,isCaloriesNotSet:!1}};y.useEffect(()=>{const M=parseInt(O.dailyTotalCalories)||0;if(M>0&&!Q.protein.grams&&!Q.carbs.grams&&!Q.fat.grams){const H={protein:{percentage:30,grams:Math.round(.3*M/4),gramsPerKg:0},carbs:{percentage:40,grams:Math.round(.4*M/4),gramsPerKg:0},fat:{percentage:30,grams:Math.round(.3*M/9),gramsPerKg:0}},oe=parseFloat(O.weight_kg)||0;oe>0&&(H.protein.gramsPerKg=Math.round(H.protein.grams/oe*10)/10,H.carbs.gramsPerKg=Math.round(H.carbs.grams/oe*10)/10,H.fat.gramsPerKg=Math.round(H.fat.grams/oe*10)/10),Y(H),te({protein:H.protein.grams,carbs:H.carbs.grams,fat:H.fat.grams}),W({protein:H.protein.percentage,carbs:H.carbs.percentage,fat:H.fat.percentage})}},[O.dailyTotalCalories,O.weight_kg]),y.useEffect(()=>{const M=parseFloat(O.weight_kg)||0;if(M>0){const H={...Q};Object.keys(H).forEach(oe=>{H[oe].grams>0&&(H[oe].gramsPerKg=Math.round(H[oe].grams/M*10)/10)}),Y(H)}},[O.weight_kg]);const qr=(M,H,oe,ke,je,Le)=>{if(!M||!H||!oe||!ke||!je)return null;let tt=parseFloat(ke);tt>0&&tt<10&&(tt=tt*100);let Oe=0;H==="male"?Oe=88.362+13.397*parseFloat(oe)+4.799*tt-5.677*parseFloat(M):Oe=447.593+9.247*parseFloat(oe)+3.098*tt-4.33*parseFloat(M);let Xe=1.2;switch(je){case"sedentary":Xe=1.2;break;case"light":Xe=1.375;break;case"moderate":Xe=1.55;break;case"very":Xe=1.725;break;case"extra":Xe=1.9;break}let jt=Oe*Xe;switch(Le){case"lose":jt-=500;break;case"gain":jt+=500;break;case"muscle":jt+=300;break}return Math.round(jt)};y.useEffect(()=>{const M=qr(O.age,O.gender,O.weight_kg,O.height_cm,O.Activity_level,O.goal);if(M&&M>0){B(oe=>({...oe,dailyTotalCalories:M.toString()}));const H={protein:Q.protein.percentage,carbs:Q.carbs.percentage,fat:Q.fat.percentage};if(H.protein>0||H.carbs>0||H.fat>0){const oe=parseFloat(O.weight_kg)||0,ke={protein:{percentage:H.protein,grams:Math.round(H.protein/100*M/4),gramsPerKg:oe>0?Math.round(H.protein/100*M/4/oe*10)/10:0},carbs:{percentage:H.carbs,grams:Math.round(H.carbs/100*M/4),gramsPerKg:oe>0?Math.round(H.carbs/100*M/4/oe*10)/10:0},fat:{percentage:H.fat,grams:Math.round(H.fat/100*M/9),gramsPerKg:oe>0?Math.round(H.fat/100*M/9/oe*10)/10:0}};Y(ke),te({protein:ke.protein.grams,carbs:ke.carbs.grams,fat:ke.fat.grams})}}else(O.age||O.gender||O.weight_kg||O.height_cm||O.Activity_level||O.goal)&&B(H=>({...H,dailyTotalCalories:""}))},[O.age,O.gender,O.weight_kg,O.height_cm,O.Activity_level,O.goal]),y.useEffect(()=>{const M=parseInt(O.dailyTotalCalories)||0;if(M>0){const H={protein:Q.protein.percentage,carbs:Q.carbs.percentage,fat:Q.fat.percentage};if(H.protein>0||H.carbs>0||H.fat>0){const oe=parseFloat(O.weight_kg)||0,ke={protein:{percentage:H.protein,grams:Math.round(H.protein/100*M/4),gramsPerKg:oe>0?Math.round(H.protein/100*M/4/oe*10)/10:0},carbs:{percentage:H.carbs,grams:Math.round(H.carbs/100*M/4),gramsPerKg:oe>0?Math.round(H.carbs/100*M/4/oe*10)/10:0},fat:{percentage:H.fat,grams:Math.round(H.fat/100*M/9),gramsPerKg:oe>0?Math.round(H.fat/100*M/9/oe*10)/10:0}};Y(ke),te({protein:ke.protein.grams,carbs:ke.carbs.grams,fat:ke.fat.grams})}}},[O.dailyTotalCalories]),y.useEffect(()=>{Se()},[]);const Kn=M=>[...M].sort((H,oe)=>{var Oe,Xe,jt,Tt,Ue,dt;const ke=H.full_name&&H.full_name.trim()!=="",je=oe.full_name&&oe.full_name.trim()!=="";if(ke&&!je)return-1;if(!ke&&je)return 1;let Le=H[N],tt=oe[N];return N==="macros.protein"?(Le=((Oe=H.macros)==null?void 0:Oe.protein)||0,tt=((Xe=oe.macros)==null?void 0:Xe.protein)||0):N==="macros.carbs"?(Le=((jt=H.macros)==null?void 0:jt.carbs)||0,tt=((Tt=oe.macros)==null?void 0:Tt.carbs)||0):N==="macros.fat"&&(Le=((Ue=H.macros)==null?void 0:Ue.fat)||0,tt=((dt=oe.macros)==null?void 0:dt.fat)||0),["age","weight_kg","height_cm","dailyTotalCalories"].includes(N)&&(Le=parseFloat(Le)||0,tt=parseFloat(tt)||0),typeof Le=="string"&&typeof tt=="string"&&(Le=Le.toLowerCase(),tt=tt.toLowerCase()),k==="asc"?Le>tt?1:-1:Le<tt?1:-1}),Yn=M=>M.filter(H=>!(A.goal&&A.goal!=="all"&&H.goal!==A.goal||A.activity&&A.activity!=="all"&&H.Activity_level!==A.activity||A.gender&&A.gender!=="all"&&H.gender!==A.gender||A.ageRange.min&&H.age<parseInt(A.ageRange.min)||A.ageRange.max&&H.age>parseInt(A.ageRange.max))),Gr=M=>{N===M?C(k==="asc"?"desc":"asc"):(P(M),C("asc"))},Wr=()=>{T({goal:"all",activity:"all",gender:"all",ageRange:{min:"",max:""}})},Hr=M=>N!==M?o.jsx(h7,{className:"h-4 w-4"}):k==="asc"?o.jsx(f_,{className:"h-4 w-4"}):o.jsx(u_,{className:"h-4 w-4"}),vn=async(M,H="he")=>{try{const oe=await fetch("https://dietitian-be.azurewebsites.net/api/translate-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:M,targetLang:H})});if(!oe.ok)throw new Error("Translation failed");return(await oe.json()).translatedText||M}catch(oe){return console.error("Error translating text:",oe),M}},ce=async M=>{if(!M||M.trim()===""){q(null);return}Ae(!0),q(null);try{const H=await fetch("https://dietitian-be.azurewebsites.net/api/analyze-eating-habits",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_code:M})});if(!H.ok){if(H.status===404){console.log("No food logs found for this user"),q(null);return}throw new Error(`HTTP error! status: ${H.status}`)}const oe=await H.json();if(oe.analysis){const ke=oe.analysis_data||{};q({...ke,analysis:oe.analysis}),console.log("Setting foodLogsAnalysis:",{...ke,analysis:oe.analysis});let je=oe.analysis;if(t==="he")try{je=await vn(je,"he")}catch(Le){console.error("Failed to translate analysis:",Le)}B(Le=>({...Le,client_preference:je})),alert(`${e.foodLogsFound||"Food logs found"}: ${ke.total_logs||0} ${e.entriesFound||"entries found"}. ${e.preferencesAutoPopulated||"Analysis completed"}.`)}else q(null)}catch(H){console.log("No existing food logs found or error occurred:",H.message),q(null)}finally{Ae(!1)}};y.useEffect(()=>{B(M=>({...M,macros:{protein:Q.protein.grams,carbs:Q.carbs.grams,fat:Q.fat.grams}}))},[Q]),y.useEffect(()=>{s&&!d&&(Y({protein:{percentage:0,grams:0,gramsPerKg:0},carbs:{percentage:0,grams:0,gramsPerKg:0},fat:{percentage:0,grams:0,gramsPerKg:0}}),te({protein:0,carbs:0,fat:0}))},[s,d]),y.useEffect(()=>()=>{K&&clearTimeout(K)},[K]);const Se=async()=>{m(!0);try{const M=await Yi.list();n(M||[]),x(null)}catch(M){console.error("Error loading clients:",M),x(e.failedToLoadClients),n([])}finally{m(!1)}},Ye=r.filter(M=>{var H,oe,ke,je;return((H=M.full_name)==null?void 0:H.toLowerCase().includes(a.toLowerCase()))||((oe=M.email)==null?void 0:oe.toLowerCase().includes(a.toLowerCase()))||((ke=M.user_code)==null?void 0:ke.toLowerCase().includes(a.toLowerCase()))||((je=M.phone_number)==null?void 0:je.includes(a))}),Ve=Kn(Yn(Ye)),Fe=a||_?Ve:Ve.slice(0,5),Ze=!a&&!_&&Ve.length>5,He=async()=>{const M=await Vk();B({user_code:M,full_name:"",email:"",phone_number:"",city:"",age:"",date_of_birth:"",gender:"",weight_kg:"",height_cm:"",food_allergies:"",macros:{fat:"",carbs:"",protein:""},dailyTotalCalories:"",food_limitations:"",Activity_level:"",goal:"",number_of_meals:"4",client_preference:"",region:"israel",meal_plan_structure:U(e)}),Y({protein:{percentage:0,grams:0,gramsPerKg:0},carbs:{percentage:0,grams:0,gramsPerKg:0},fat:{percentage:0,grams:0,gramsPerKg:0}}),te({protein:0,carbs:0,fat:0}),q(null),Ae(!1),K&&(clearTimeout(K),_e(null)),pe(!1)},wt=async()=>{f(null),await He(),de(!1),J({}),c(!0)},kt=async M=>{var jt,Tt,Ue,dt,Or,ln,dr,fr,Jt,Qt,Wt;f(M);const H=(jt=M.macros)!=null&&jt.protein&&parseInt(M.macros.protein.toString().replace("g",""))||0,oe=(Tt=M.macros)!=null&&Tt.carbs&&parseInt(M.macros.carbs.toString().replace("g",""))||0,ke=(Ue=M.macros)!=null&&Ue.fat&&parseInt(M.macros.fat.toString().replace("g",""))||0,je=M.date_of_birth?sn(M.date_of_birth):((dt=M.age)==null?void 0:dt.toString())||"",Le={user_code:M.user_code||await Vk(),full_name:M.full_name||"",email:M.email||"",phone_number:M.phone_number||"",city:M.city||"",age:je,date_of_birth:M.date_of_birth||"",gender:M.gender||"",weight_kg:((Or=M.weight_kg)==null?void 0:Or.toString())||"",height_cm:((ln=M.height_cm)==null?void 0:ln.toString())||"",food_allergies:Array.isArray(M.food_allergies)?M.food_allergies.join(", "):M.food_allergies||"",macros:{fat:(dr=M.macros)!=null&&dr.fat?M.macros.fat.toString().replace("g",""):"",carbs:(fr=M.macros)!=null&&fr.carbs?M.macros.carbs.toString().replace("g",""):"",protein:(Jt=M.macros)!=null&&Jt.protein?M.macros.protein.toString().replace("g",""):""},dailyTotalCalories:((Qt=M.dailyTotalCalories)==null?void 0:Qt.toString())||"",food_limitations:Array.isArray(M.food_limitations)?M.food_limitations.join(", "):typeof M.food_limitations=="object"?JSON.stringify(M.food_limitations,null,2):M.food_limitations||"",Activity_level:M.Activity_level||"",goal:M.goal||"",number_of_meals:((Wt=M.number_of_meals)==null?void 0:Wt.toString())||"4",client_preference:typeof M.client_preference=="object"?JSON.stringify(M.client_preference,null,2):M.client_preference||"",region:M.region||"israel",meal_plan_structure:M.meal_plan_structure||U(e)};B(Le);const tt=M.dailyTotalCalories?parseInt(M.dailyTotalCalories):0,Oe=M.weight_kg?parseFloat(M.weight_kg):0,Xe={protein:{percentage:tt>0?Math.round(H*4/tt*100):0,grams:H,gramsPerKg:Oe>0?Math.round(H/Oe*10)/10:0},carbs:{percentage:tt>0?Math.round(oe*4/tt*100):0,grams:oe,gramsPerKg:Oe>0?Math.round(oe/Oe*10)/10:0},fat:{percentage:tt>0?Math.round(ke*9/tt*100):0,grams:ke,gramsPerKg:Oe>0?Math.round(ke/Oe*10)/10:0}};Y(Xe),te({protein:H,carbs:oe,fat:ke}),de(!1),J({}),c(!0),setTimeout(()=>{const Ht=qr(O.age,O.gender,O.weight_kg,O.height_cm,O.Activity_level,O.goal);if(Ht&&Ht>0){B($=>({...$,dailyTotalCalories:Ht.toString()}));const It={protein:Xe.protein.percentage,carbs:Xe.carbs.percentage,fat:Xe.fat.percentage},Nn=parseFloat(O.weight_kg)||0,Cn={protein:{percentage:It.protein,grams:Math.round(It.protein/100*Ht/4),gramsPerKg:Nn>0?Math.round(It.protein/100*Ht/4/Nn*10)/10:0},carbs:{percentage:It.carbs,grams:Math.round(It.carbs/100*Ht/4),gramsPerKg:Nn>0?Math.round(It.carbs/100*Ht/4/Nn*10)/10:0},fat:{percentage:It.fat,grams:Math.round(It.fat/100*Ht/9),gramsPerKg:Nn>0?Math.round(It.fat/100*Ht/9/Nn*10)/10:0}};Y(Cn),te({protein:Cn.protein.grams,carbs:Cn.carbs.grams,fat:Cn.fat.grams})}},100)},Je=async M=>{const H=M.full_name||M.user_code||"this client",oe=M.user_code||M.id;if(!oe){x("Cannot delete client without a valid identifier");return}if(window.confirm(`${e.confirmDelete} "${H}"? ${e.deleteWarning}`)){w(oe),x(null);try{await Yi.delete(oe),await Se(),alert(`${e.clientDeleted}: ${H}`)}catch(ke){console.error("Error deleting client:",ke),x(`${e.failedToDeleteClient}: ${ke.message}`)}finally{w(null)}}},Ft=(M,H="object")=>{if(!M||typeof M!="string"||M.trim()==="")return null;try{return JSON.parse(M)}catch{const ke=M.trim();return H==="array"?ke.includes(",")?ke.split(",").map(je=>je.trim()).filter(je=>je):[ke]:ke}},pr=M=>{if(!M||typeof M!="string"||M.trim()==="")return[];try{const H=JSON.parse(M);return Array.isArray(H)?H:[H.toString()]}catch{return M.includes(",")?M.split(",").map(oe=>oe.trim()).filter(oe=>oe):[M.trim()]}},br=(M,H,oe)=>{const ke={};if(M){if(typeof M=="number"&&M>0)ke.protein=`${M}g`;else if(typeof M=="string"&&M.trim()){const je=M.trim();ke.protein=je.endsWith("g")?je:`${je}g`}}if(H){if(typeof H=="number"&&H>0)ke.carbs=`${H}g`;else if(typeof H=="string"&&H.trim()){const je=H.trim();ke.carbs=je.endsWith("g")?je:`${je}g`}}if(oe){if(typeof oe=="number"&&oe>0)ke.fat=`${oe}g`;else if(typeof oe=="string"&&oe.trim()){const je=oe.trim();ke.fat=je.endsWith("g")?je:`${je}g`}}return Object.keys(ke).length>0?ke:null},Lr=()=>{const M=[{field:"full_name",label:e.fullName},{field:"email",label:e.email},{field:"phone_number",label:e.phoneNumber},{field:"gender",label:e.gender},{field:"weight_kg",label:e.weightKg},{field:"height_cm",label:e.heightCm},{field:"Activity_level",label:e.activityLevel},{field:"goal",label:e.goal}];for(const H of M)if(!O[H.field]||O[H.field].toString().trim()==="")return`${H.label} ${e.isRequired}`;return!O.age&&!O.date_of_birth?`${e.dateOfBirth} ${e.isRequired} (${e.ageWillBeCalculatedAutomatically||"Age will be calculated automatically"})`:null},Fr=async M=>{M.preventDefault(),de(!0),m(!0),x(null);try{const H=Lr();if(H)throw new Error(H);const oe={...O,full_name:O.full_name.trim(),email:O.email?O.email.trim():"",phone_number:O.phone_number?O.phone_number.trim():"",city:O.city?O.city.trim():"",age:O.age?parseInt(O.age):null,weight_kg:O.weight_kg?parseFloat(O.weight_kg):null,height_cm:O.height_cm?parseFloat(O.height_cm):null,dailyTotalCalories:O.dailyTotalCalories?parseInt(O.dailyTotalCalories):null,number_of_meals:O.number_of_meals?parseInt(O.number_of_meals):4,date_of_birth:O.date_of_birth&&O.date_of_birth.trim()!==""?O.date_of_birth:null,food_allergies:pr(O.food_allergies),food_limitations:Ft(O.food_limitations,"array"),macros:br(Q.protein.grams,Q.carbs.grams,Q.fat.grams),client_preference:Ft(O.client_preference,"array"),meal_plan_structure:O.meal_plan_structure.map(ke=>({meal:ke.meal,description:ke.description,calories:ke.calories,calories_pct:ke.calories_pct}))};if(console.log("Submitting macros:",{macroSliders:Z,parsedMacros:br(Z.protein,Z.carbs,Z.fat),submitDataMacros:oe.macros}),d?await Yi.update(d.user_code,oe):await Yi.create(oe),typeof window<"u")try{const{EventBus:ke}=await Qc(async()=>{const{EventBus:je}=await Promise.resolve().then(()=>zq);return{EventBus:je}},void 0);ke.emit("refreshClients")}catch(ke){console.warn("EventBus refreshClients emit failed:",ke)}c(!1),de(!1),J({}),Se(),He()}catch(H){console.error("Error saving client:",H);const oe=d?e.failedToUpdateClient:e.failedToCreateClient;x(`${oe} ${H.message}`)}finally{m(!1)}},ye=(M,H)=>{let oe=M||0,ke=H||0;if(!oe||!ke)return null;let je=parseFloat(oe),Le=parseFloat(ke);if(isNaN(je)||isNaN(Le)||je<=0||je>1e3||Le<=0||(Le>0&&Le<10&&(Le=Le*100),Le<50||Le>300))return null;const tt=Le/100,Oe=je/(tt*tt);return Oe<5||Oe>100?null:Oe.toFixed(1)},Ne=M=>{if(!M)return"";const H=parseFloat(M);return H<18.5?e.underweight:H<25?e.normal:H<30?e.overweight:e.obese},De=(M,H)=>{const oe=parseInt(H)||0;return M.map(ke=>({...ke,calories:Math.round(ke.calories_pct/100*oe)}))},gt=(M,H,oe=-1)=>{const ke=parseInt(H)||0;if(ke===0)return M;if(oe>=0){const je=M.filter((Tt,Ue)=>Tt.locked).reduce((Tt,Ue)=>Tt+(Ue.calories||0),0),Le=M[oe].calories||0,tt=je+Le,Oe=ke-tt,Xe=M.filter((Tt,Ue)=>!Tt.locked&&Ue!==oe).reduce((Tt,Ue)=>Tt+(Ue.calories||0),0),jt=Xe>0?Oe/Xe:0;return M.map((Tt,Ue)=>{if(Tt.locked)return{...Tt,calories_pct:ke>0?Math.round((Tt.calories||0)/ke*100*10)/10:0};if(Ue===oe)return{...Tt,calories_pct:ke>0?Math.round((Tt.calories||0)/ke*100*10)/10:0};{const dt=Math.round((Tt.calories||0)*jt);return{...Tt,calories:Math.max(0,dt),calories_pct:ke>0?Math.round(dt/ke*100*10)/10:0}}})}return M.map(je=>({...je,calories_pct:ke>0?Math.round((je.calories||0)/ke*100*10)/10:0}))},rr=()=>{const M={meal:`Meal ${O.meal_plan_structure.length+1}`,calories_pct:0,description:"",calories:0,locked:!1},H=[...O.meal_plan_structure,M];B({...O,meal_plan_structure:H})},ur=M=>{const H=O.meal_plan_structure.filter((Ue,dt)=>dt!==M),oe=parseInt(O.dailyTotalCalories)||0,ke=H.length;if(oe===0){B({...O,meal_plan_structure:H,number_of_meals:ke.toString()});return}const je=H.filter(Ue=>Ue.locked).reduce((Ue,dt)=>Ue+(dt.calories||0),0),Le=H.filter(Ue=>!Ue.locked).reduce((Ue,dt)=>Ue+(dt.calories||0),0),tt=oe-je;if(tt<=0){const Ue=H.map(dt=>dt.locked?{...dt,calories_pct:oe>0?Math.round((dt.calories||0)/oe*100*10)/10:0}:{...dt,calories:0,calories_pct:0});B({...O,meal_plan_structure:Ue,number_of_meals:ke.toString()}),alert(e.lockedCaloriesExceedTarget||"Warning: Locked meals exceed daily target. Unlocked meals set to 0 calories.");return}const Oe=Le>0?tt/Le:0;let Xe=H.map(Ue=>{if(Ue.locked)return{...Ue,calories_pct:oe>0?Math.round((Ue.calories||0)/oe*100*10)/10:0};{const dt=Math.round((Ue.calories||0)*Oe);return{...Ue,calories:dt,calories_pct:oe>0?Math.round(dt/oe*100*10)/10:0}}});const jt=Xe.reduce((Ue,dt)=>Ue+(dt.calories||0),0),Tt=oe-jt;if(Tt!==0){const Ue=Xe.map((dt,Or)=>({meal:dt,idx:Or})).filter(({meal:dt})=>!dt.locked).sort(({meal:dt},{meal:Or})=>(Or.calories||0)-(dt.calories||0));if(Ue.length>0){const dt=Ue[0].idx;Xe[dt]={...Xe[dt],calories:Math.max(0,(Xe[dt].calories||0)+Tt),calories_pct:oe>0?Math.round(((Xe[dt].calories||0)+Tt)/oe*100*10)/10:0}}}B({...O,meal_plan_structure:Xe,number_of_meals:ke.toString()})},vt=(M,H)=>{const oe=[...O.meal_plan_structure],ke=H==="up"?M-1:M+1;ke<0||ke>=oe.length||([oe[M],oe[ke]]=[oe[ke],oe[M]],B({...O,meal_plan_structure:oe}))};y.useEffect(()=>{if(O.dailyTotalCalories){const M=De(O.meal_plan_structure,O.dailyTotalCalories);B(H=>({...H,meal_plan_structure:M}))}},[O.dailyTotalCalories]);const Er=M=>{M&&(M.style.height="auto",M.style.height=Math.min(M.scrollHeight,80)+"px")},Sn=(M,H,oe)=>{const ke=[...O.meal_plan_structure];if(ke[M]={...ke[M],[H]:oe},H==="calories"){const je=parseInt(O.dailyTotalCalories)||0;ke[M].calories=parseInt(oe)||0;const Le=gt(ke,je,M);B({...O,meal_plan_structure:Le})}else B({...O,meal_plan_structure:ke});H==="description"&&setTimeout(()=>{const je=document.querySelector(`textarea[data-meal-index="${M}"]`);je&&Er(je)},0)},Jn=(M,H)=>{const oe=parseInt(H)||0,ke=parseInt(O.dailyTotalCalories)||0,je=O.meal_plan_structure.filter((tt,Oe)=>tt.locked&&Oe!==M).reduce((tt,Oe)=>tt+(Oe.calories||0),0);O.meal_plan_structure.filter((tt,Oe)=>!tt.locked&&Oe!==M).reduce((tt,Oe)=>tt+(Oe.calories||0),0);const Le=ke-je;ze(tt=>({...tt,[M]:H})),oe>Le?Ct(tt=>({...tt,[M]:`Cannot exceed ${Le} calories (${ke} total - ${je} locked)`})):Ct(tt=>{const Oe={...tt};return delete Oe[M],Oe})},yn=M=>{const H=Qe[M];if(H===void 0)return;const oe=parseInt(H)||0,ke=parseInt(O.dailyTotalCalories)||0,je=O.meal_plan_structure.filter((tt,Oe)=>tt.locked&&Oe!==M).reduce((tt,Oe)=>tt+(Oe.calories||0),0),Le=ke-je;if(oe>Le){const tt=O.meal_plan_structure.map((Oe,Xe)=>Oe.locked?Oe:{...Oe,calories:0,calories_pct:0});B({...O,meal_plan_structure:tt}),ze({}),Ct({}),alert(`Input exceeds daily limit! All unlocked meals have been reset to 0 calories.
Limit: ${Le} calories (${ke} total - ${je} locked)`);return}Sn(M,"calories",H),ze(tt=>{const Oe={...tt};return delete Oe[M],Oe}),Ct(tt=>{const Oe={...tt};return delete Oe[M],Oe})},Di=M=>{ze(H=>{const oe={...H};return delete oe[M],oe}),Ct(H=>{const oe={...H};return delete oe[M],oe})};y.useEffect(()=>{B(M=>({...M,meal_plan_structure:M.meal_plan_structure.map(H=>{if(!H.key)return H;const oe={breakfast:e.breakfast||"Breakfast",lunch:e.lunch||"Lunch",dinner:e.dinner||"Dinner",snacks:e.snacks||e.snack||"Snack"};return{...H,meal:oe[H.key]||H.meal}})}))},[e,t]),y.useEffect(()=>{const M=parseInt(O.number_of_meals)||4,H=O.meal_plan_structure;if(M!==H.length){let oe=[];if(M>H.length){oe=[...H];for(let Le=H.length;Le<M;Le++)oe.push({meal:`${e.meal||"Meal"} ${Le+1}`,calories_pct:Math.round(100/M*10)/10,description:"",calories:0,locked:!1})}else oe=H.slice(0,M);const ke=oe.reduce((Le,tt)=>Le+tt.calories_pct,0);Math.abs(ke-100)>.1&&(oe=oe.map(Le=>({...Le,calories_pct:Math.round(100/M*10)/10})));const je=parseInt(O.dailyTotalCalories)||0;je>0&&(oe=oe.map(Le=>({...Le,calories:Math.round(Le.calories_pct/100*je)}))),B(Le=>({...Le,meal_plan_structure:oe}))}},[O.number_of_meals,O.dailyTotalCalories,e]);const xo=M=>{F(H=>({...H,[M]:!H[M]}))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.clientManagement}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e.manageClientProfiles})]}),o.jsxs(Te,{onClick:wt,className:"bg-green-600 hover:bg-green-700",children:[o.jsx(fc,{className:"h-4 w-4 mr-2"}),e.addNewClient]})]}),b&&o.jsx(ei,{variant:"destructive",children:o.jsx(ti,{children:b})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wc,{className:"w-5 h-5 text-gray-400"}),o.jsx(Ut,{placeholder:e.searchClients,value:a,onChange:M=>{i(M.target.value),M.target.value&&_&&S(!1)},className:"max-w-sm"}),o.jsxs(lJ,{open:R,onOpenChange:I,children:[o.jsx(cJ,{asChild:!0,children:o.jsxs(Te,{variant:"outline",className:"ml-2",children:[o.jsx(AD,{className:"h-4 w-4 mr-2"}),e.filterBy]})}),o.jsx(v5,{className:"w-80",align:"start",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h4",{className:"font-medium",children:e.filterBy}),o.jsxs(Te,{variant:"ghost",size:"sm",onClick:Wr,className:"h-6 px-2 text-xs",children:[o.jsx(ma,{className:"h-3 w-3 mr-1"}),e.clearFilters]})]}),o.jsx(b5,{}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(St,{className:"text-sm font-medium",children:e.filterByGoal}),o.jsxs(qn,{value:A.goal,onValueChange:M=>T({...A,goal:M==="all"?"":M}),children:[o.jsx(Mn,{children:o.jsx(Wn,{placeholder:e.allGoals})}),o.jsxs(Rn,{children:[o.jsx(pt,{value:"all",children:e.allGoals}),o.jsx(pt,{value:"lose",children:e.loseWeight}),o.jsx(pt,{value:"maintain",children:e.maintainWeight}),o.jsx(pt,{value:"gain",children:e.gainWeight}),o.jsx(pt,{value:"muscle",children:e.buildMuscle}),o.jsx(pt,{value:"health",children:e.improveHealth})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(St,{className:"text-sm font-medium",children:e.filterByActivity}),o.jsxs(qn,{value:A.activity,onValueChange:M=>T({...A,activity:M==="all"?"":M}),children:[o.jsx(Mn,{children:o.jsx(Wn,{placeholder:e.allActivities})}),o.jsxs(Rn,{children:[o.jsx(pt,{value:"all",children:e.allActivities}),o.jsx(pt,{value:"sedentary",children:e.sedentary}),o.jsx(pt,{value:"light",children:e.lightActivity}),o.jsx(pt,{value:"moderate",children:e.moderateActivity}),o.jsx(pt,{value:"very",children:e.veryActive}),o.jsx(pt,{value:"extra",children:e.extraActive}),o.jsx(pt,{value:"toning",children:e.toning})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(St,{className:"text-sm font-medium",children:e.filterByGender}),o.jsxs(qn,{value:A.gender,onValueChange:M=>T({...A,gender:M==="all"?"":M}),children:[o.jsx(Mn,{children:o.jsx(Wn,{placeholder:e.allGenders})}),o.jsxs(Rn,{children:[o.jsx(pt,{value:"all",children:e.allGenders}),o.jsx(pt,{value:"male",children:e.male}),o.jsx(pt,{value:"female",children:e.female}),o.jsx(pt,{value:"other",children:e.other})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(St,{className:"text-sm font-medium",children:e.filterByAge}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx(Ut,{placeholder:"Min",type:"number",value:A.ageRange.min,onChange:M=>T({...A,ageRange:{...A.ageRange,min:M.target.value}})}),o.jsx(Ut,{placeholder:"Max",type:"number",value:A.ageRange.max,onChange:M=>T({...A,ageRange:{...A.ageRange,max:M.target.value}})})]})]})]})})]})]}),(A.goal!=="all"||A.activity!=="all"||A.gender!=="all"||A.ageRange.min||A.ageRange.max)&&o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsxs("span",{className:"text-sm text-gray-500",children:[e.filterBy,":"]}),A.goal&&A.goal!=="all"&&o.jsxs(mr,{variant:"secondary",className:"text-xs",children:[e.goal,": ",e[A.goal]||A.goal,o.jsx(ma,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>T({...A,goal:"all"})})]}),A.activity&&A.activity!=="all"&&o.jsxs(mr,{variant:"secondary",className:"text-xs",children:[e.activityLevel,": ",e[A.activity]||A.activity,o.jsx(ma,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>T({...A,activity:"all"})})]}),A.gender&&A.gender!=="all"&&o.jsxs(mr,{variant:"secondary",className:"text-xs",children:[e.gender,": ",e[A.gender]||A.gender,o.jsx(ma,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>T({...A,gender:"all"})})]}),(A.ageRange.min||A.ageRange.max)&&o.jsxs(mr,{variant:"secondary",className:"text-xs",children:[e.age,": ",A.ageRange.min||"0"," - ",A.ageRange.max||"∞",o.jsx(ma,{className:"h-3 w-3 ml-1 cursor-pointer",onClick:()=>T({...A,ageRange:{min:"",max:""}})})]})]}),o.jsxs(At,{children:[o.jsx(Sr,{children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs(Nr,{children:[e.clients," (",Fe.length,_||a?"":` ${e.of} ${Ve.length}`,")"]}),o.jsx(zr,{children:e.viewAndManageClients})]}),Ze&&o.jsxs(Te,{variant:"outline",onClick:()=>S(!0),className:"text-green-600 border-green-600 hover:bg-green-50",children:[e.showAll," (",Ve.length,")"]}),_&&!a&&Ve.length>5&&o.jsx(Te,{variant:"outline",onClick:()=>S(!1),className:"text-gray-600 border-gray-600 hover:bg-gray-50",children:e.showLess})]})}),o.jsx(Et,{children:h?o.jsx("div",{className:"flex items-center justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):o.jsx("div",{className:"rounded-md border",children:o.jsxs(wL,{children:[o.jsx(_L,{children:o.jsxs(Cm,{children:[o.jsx(bi,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>Gr("full_name"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[e.name,Hr("full_name")]})}),o.jsx(bi,{children:e.contact}),o.jsx(bi,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>Gr("user_code"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[e.clientCode,Hr("user_code")]})}),o.jsx(bi,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>Gr("age"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[e.physical,Hr("age")]})}),o.jsx(bi,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>Gr("goal"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[e.goals,Hr("goal")]})}),o.jsx(bi,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>Gr("dailyTotalCalories"),children:o.jsxs("div",{className:"flex items-center gap-1",children:[e.macros,Hr("dailyTotalCalories")]})}),o.jsx(bi,{children:e.region}),o.jsx(bi,{children:e.meals}),o.jsx(bi,{className:"text-right",children:e.actions})]})}),o.jsx(jL,{children:Fe.length>0?Fe.map(M=>{const H=M.weight_kg||M.weight||M.Weight;let oe=M.height_cm||M.height||M.Height,ke=oe;oe&&parseFloat(oe)>0&&parseFloat(oe)<10&&(ke=(parseFloat(oe)*100).toFixed(0));const je=ye(H,oe);return o.jsxs(Cm,{children:[o.jsx(Ka,{className:"font-medium",children:o.jsxs("div",{children:[o.jsx("div",{children:M.full_name}),M.age&&o.jsxs("div",{className:"text-sm text-gray-500",children:[M.age," ",e.yearsOld]})]})}),o.jsx(Ka,{children:o.jsxs("div",{className:"space-y-1",children:[M.email&&o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(ED,{className:"h-3 w-3"}),M.email]}),M.phone_number&&o.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[o.jsx(sW,{className:"h-3 w-3"}),M.phone_number]}),M.city&&o.jsx("div",{className:"text-sm text-gray-500",children:M.city})]})}),o.jsx(Ka,{children:o.jsx(mr,{variant:"outline",className:"font-mono",children:M.user_code||"—"})}),o.jsx(Ka,{children:o.jsx("div",{className:"text-sm",children:oe&&H?o.jsxs("div",{children:[o.jsxs("div",{children:[ke,"cm, ",H,"kg"]}),je?o.jsxs("div",{className:"text-gray-500",children:["BMI: ",je," (",Ne(je),")"]}):o.jsx("div",{className:"text-red-400 text-xs",children:e.invalidBmiData})]}):o.jsx("span",{className:"text-gray-400",children:e.noDataAvailable})})}),o.jsx(Ka,{children:o.jsxs("div",{className:"text-sm",children:[M.goal&&o.jsx(mr,{variant:"secondary",className:"mb-1",children:M.goal}),M.Activity_level&&o.jsxs("div",{className:"text-gray-500",children:[M.Activity_level," ",e.activity]}),M.dailyTotalCalories&&o.jsxs("div",{className:"text-gray-500",children:[M.dailyTotalCalories," ",e.kcalPerDay]})]})}),o.jsx(Ka,{children:M.macros&&(M.macros.protein||M.macros.carbs||M.macros.fat)?o.jsxs("div",{className:"text-sm space-y-1",children:[M.macros.protein&&o.jsxs("div",{className:"text-blue-600",children:["P: ",typeof M.macros.protein=="string"&&M.macros.protein.includes("g")?M.macros.protein:`${M.macros.protein}g`]}),M.macros.carbs&&o.jsxs("div",{className:"text-orange-600",children:["C: ",typeof M.macros.carbs=="string"&&M.macros.carbs.includes("g")?M.macros.carbs:`${M.macros.carbs}g`]}),M.macros.fat&&o.jsxs("div",{className:"text-purple-600",children:["F: ",typeof M.macros.fat=="string"&&M.macros.fat.includes("g")?M.macros.fat:`${M.macros.fat}g`]})]}):o.jsx("span",{className:"text-gray-400 text-sm",children:e.noMacrosSet})}),o.jsx(Ka,{children:o.jsx("div",{className:"text-sm text-gray-600",children:M.region||"—"})}),o.jsx(Ka,{children:o.jsxs(mr,{variant:"secondary",className:"text-xs",children:[M.number_of_meals||"—"," ",e.meals]})}),o.jsx(Ka,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-1",children:[o.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>kt(M),className:"text-green-600 hover:text-green-700 hover:bg-green-50",children:o.jsx(OD,{className:"h-4 w-4"})}),(M.user_code||M.id)&&o.jsx(Te,{variant:"ghost",size:"icon",onClick:()=>Je(M),className:"text-red-600 hover:text-red-700 hover:bg-red-50",disabled:g===(M.user_code||M.id),children:g===(M.user_code||M.id)?o.jsx("div",{className:"animate-spin h-4 w-4"}):o.jsx(EW,{className:"h-4 w-4"})})]})})]},M.user_code||M.id)}):o.jsx(Cm,{children:o.jsx(Ka,{colSpan:10,className:"text-center py-6 text-gray-500",children:a?e.noClientsFound:e.noClientsFoundGeneral})})})]})})})]}),o.jsx(Bm,{open:s,onOpenChange:c,children:o.jsxs(Dd,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Id,{children:[o.jsx($d,{className:t==="he"?"text-right":"text-left",children:d?e.editUserInformation:e.addNewClient}),o.jsx(Um,{className:t==="he"?"text-right":"text-left",children:d?e.editUserDescription:e.addUserDescription})]}),o.jsxs("form",{onSubmit:Fr,children:[o.jsxs("div",{className:"grid gap-6 py-4",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`${t==="he"?"border-r-4 pr-4":"border-l-4 pl-4"} border-blue-500`,children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e.basicInformation}),o.jsx("p",{className:"text-gray-600 mt-1",children:e.basicInformationDescription||"Let's start with the essential details about your client"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(St,{htmlFor:"user_code",className:"text-sm font-medium text-gray-700",children:e.clientCode}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ut,{id:"user_code",value:O.user_code,onChange:M=>{const H=M.target.value;if(B({...O,user_code:H}),K&&clearTimeout(K),H&&H.trim()!==""){const oe=setTimeout(()=>{ce(H)},1e3);_e(oe)}else q(null)},placeholder:e.autoGenerated||"Auto-generated",required:!0,readOnly:!0,className:"bg-gray-50 cursor-not-allowed text-gray-600"}),o.jsx(Te,{type:"button",variant:"outline",onClick:()=>ce(O.user_code),disabled:ae||!O.user_code,className:"whitespace-nowrap border-blue-200 text-blue-700 hover:bg-blue-50",children:ae?o.jsx("div",{className:"animate-spin h-4 w-4"}):o.jsx(wc,{className:"h-4 w-4"})})]}),o.jsx("p",{className:"text-xs text-gray-500",children:e.clientCodeDescription||"Unique identifier for your client"}),Ce&&o.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[o.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["✨ ",e.foodLogsFound||"Food logs found",": ",Ce.total_logs," ",e.entriesFound||"entries"]}),o.jsx("p",{className:"text-xs text-green-600 mt-1",children:e.preferencesAutoPopulated||"Preferences auto-populated based on frequently consumed foods"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"full_name",className:"text-sm font-medium text-gray-700",children:[e.fullName,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:["📝 ",e.required||"Required"]})]}),o.jsx(Ut,{id:"full_name",value:O.full_name,onChange:M=>B({...O,full_name:M.target.value}),onBlur:()=>Gt("full_name"),required:!0,placeholder:e.enterClientFullName||"Enter client's full name",className:`${Pt("full_name")?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}`}),Pt("full_name")&&o.jsx("p",{className:"text-xs text-red-600",children:e.pleaseEnterFullName||"Please enter the client's full name"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:[e.email,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:["📧 ",e.required||"Required"]})]}),o.jsx(Ut,{id:"email",type:"email",value:O.email,onChange:M=>B({...O,email:M.target.value}),onBlur:()=>Gt("email"),required:!0,placeholder:e.emailPlaceholder||"client@example.com",className:`${Pt("email")?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}`}),Pt("email")&&o.jsx("p",{className:"text-xs text-red-600",children:e.pleaseEnterValidEmail||"Please enter a valid email address"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.emailDescription||"We'll use this for important communications"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"phone_number",className:"text-sm font-medium text-gray-700",children:[e.phoneNumber,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:["📱 ",e.required||"Required"]})]}),o.jsx(Ut,{id:"phone_number",value:O.phone_number,onChange:M=>B({...O,phone_number:M.target.value}),onBlur:()=>Gt("phone_number"),required:!0,placeholder:e.phonePlaceholder||"+1 (555) 123-4567",className:`${Pt("phone_number")?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}`}),Pt("phone_number")&&o.jsx("p",{className:"text-xs text-red-600",children:e.pleaseEnterPhone||"Please enter a phone number"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.phoneDescription||"For urgent communications and reminders"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"city",className:"text-sm font-medium text-gray-700",children:[e.city,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full`,children:["🌍 ",e.optional||"Optional"]})]}),o.jsx(Ut,{id:"city",value:O.city,onChange:M=>B({...O,city:M.target.value}),placeholder:e.cityPlaceholder||"City name",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.cityDescription||"Optional: Helps with local recommendations"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"date_of_birth",className:"text-sm font-medium text-gray-700",children:[e.dateOfBirth,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:["🎂 ",e.required||"Required"]})]}),o.jsx(Ut,{id:"date_of_birth",type:"date",value:O.date_of_birth,onChange:M=>{const H=M.target.value,oe=sn(H);B({...O,date_of_birth:H,age:oe})},onBlur:()=>Gt("date_of_birth"),required:!0,className:`${Pt("date_of_birth")?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}`}),Pt("date_of_birth")&&o.jsx("p",{className:"text-xs text-red-600",children:e.pleaseSelectDateOfBirth||"Please select the date of birth"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.dateOfBirthDescription||"We'll automatically calculate the age for you"})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`${t==="he"?"border-r-4 pr-4":"border-l-4 pl-4"} border-green-500`,children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e.physicalInformation}),o.jsx("p",{className:"text-gray-600 mt-1",children:e.physicalInformationDescription||"Physical details help us create personalized nutrition plans"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"age",className:"text-sm font-medium text-gray-700",children:[e.age,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full`,children:["🔒 ",e.autoCalculated||"Auto-calculated"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Ut,{id:"age",type:"number",value:O.age,className:`${Pt("age")?"border-red-300 bg-red-50":"border-gray-300 bg-gray-50"} cursor-not-allowed pr-10 text-gray-600`,readOnly:!0,required:!0,placeholder:O.date_of_birth?e.ageCalculatedFromBirthDate:e.enterDateOfBirthToCalculateAge}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:o.jsx("span",{className:"text-blue-500 text-sm",children:"🔒"})})]}),O.date_of_birth?o.jsxs("p",{className:"text-xs text-green-600 font-medium",children:["✓ ",e.ageCalculatedAutomatically||"Age calculated automatically",": ",O.age," ",e.yearsOld||"years old"]}):o.jsxs("p",{className:"text-xs text-amber-600",children:["⚠️ ",e.pleaseEnterDateOfBirthToCalculateAge||"Please enter date of birth above to calculate age"]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"gender",className:"text-sm font-medium text-gray-700",children:[e.gender,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:["👤 ",e.required||"Required"]})]}),o.jsxs(qn,{value:O.gender,onValueChange:M=>B({...O,gender:M}),children:[o.jsx(Mn,{className:`${Pt("gender")?"border-red-300 bg-red-50":"border-gray-300"} focus:border-blue-500 focus:ring-blue-200`,children:o.jsx(Wn,{placeholder:e.selectGender||"Select gender"})}),o.jsxs(Rn,{children:[o.jsx(pt,{value:"male",children:e.male}),o.jsx(pt,{value:"female",children:e.female}),o.jsx(pt,{value:"other",children:e.other})]})]}),Pt("gender")&&o.jsx("p",{className:"text-xs text-red-600",children:e.pleaseSelectGender||"Please select a gender"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.genderDescription||"Helps with accurate calorie calculations"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"weight_kg",className:"text-sm font-medium text-gray-700",children:[e.weightKg,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:["⚖️ ",e.required||"Required"]})]}),o.jsx(Ut,{id:"weight_kg",type:"number",step:"0.1",value:O.weight_kg,onChange:M=>B({...O,weight_kg:M.target.value}),onBlur:()=>Gt("weight_kg"),required:!0,placeholder:e.weightPlaceholder||"70.5",className:`${Pt("weight_kg")?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}`}),Pt("weight_kg")&&o.jsx("p",{className:"text-xs text-red-600",children:e.pleaseEnterWeight||"Please enter the current weight"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.weightDescription||"Current weight in kilograms"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"height_cm",className:"text-sm font-medium text-gray-700",children:[e.heightCm,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:["📏 ",e.required||"Required"]})]}),o.jsx(Ut,{id:"height_cm",type:"number",value:O.height_cm,onChange:M=>B({...O,height_cm:M.target.value}),onBlur:()=>Gt("height_cm"),required:!0,placeholder:e.heightPlaceholder||"175",className:`${Pt("height_cm")?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-200":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}`}),Pt("height_cm")&&o.jsx("p",{className:"text-xs text-red-600",children:e.pleaseEnterHeight||"Please enter the height"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.heightDescription||"Height in centimeters"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"Activity_level",className:"text-sm font-medium text-gray-700",children:[e.activityLevel,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:["🏃 ",e.required||"Required"]})]}),o.jsxs(qn,{value:O.Activity_level,onValueChange:M=>B({...O,Activity_level:M}),children:[o.jsx(Mn,{className:`${Pt("Activity_level")?"border-red-300 bg-red-50":"border-gray-300"} focus:border-blue-500 focus:ring-blue-200`,children:o.jsx(Wn,{placeholder:e.selectActivityLevel||"Select activity level"})}),o.jsxs(Rn,{children:[o.jsx(pt,{value:"sedentary",children:e.sedentary}),o.jsx(pt,{value:"light",children:e.lightActivity}),o.jsx(pt,{value:"moderate",children:e.moderateActivity}),o.jsxs(pt,{value:"very",children:[e.veryActive," "]}),o.jsx(pt,{value:"extra",children:e.extraActive})]})]}),Pt("Activity_level")&&o.jsx("p",{className:"text-xs text-red-600",children:e.pleaseSelectActivityLevel||"Please select an activity level"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.activityLevelDescription||"How active is your client on a daily basis?"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"goal",className:"text-sm font-medium text-gray-700",children:[e.goal,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full`,children:["🎯 ",e.required||"Required"]})]}),o.jsxs(qn,{value:O.goal,onValueChange:M=>B({...O,goal:M}),children:[o.jsx(Mn,{className:`${Pt("goal")?"border-red-300 bg-red-50":"border-gray-300"} focus:border-blue-500 focus:ring-blue-200`,children:o.jsx(Wn,{placeholder:e.selectGoal||"Select health goal"})}),o.jsxs(Rn,{children:[o.jsx(pt,{value:"lose",children:e.loseWeight}),o.jsx(pt,{value:"maintain",children:e.maintainWeight}),o.jsx(pt,{value:"gain",children:e.gainWeight}),o.jsx(pt,{value:"muscle",children:e.buildMuscle}),o.jsx(pt,{value:"health",children:e.improveHealth})]})]}),Pt("goal")&&o.jsx("p",{className:"text-xs text-red-600",children:e.pleaseSelectGoal||"Please select a health goal"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.goalDescription||"What does your client want to achieve?"})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`${t==="he"?"border-r-4 pr-4":"border-l-4 pl-4"} border-purple-500`,children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:e.nutritionInformation}),o.jsx("p",{className:"text-gray-600 mt-1",children:e.nutritionInformationDescription||"Nutritional targets and meal planning preferences"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"dailyTotalCalories",className:"text-sm font-medium text-gray-700",children:[e.dailyTotalCalories,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full`,children:["🧮 ",e.autoCalculated||"Auto-calculated"]})]}),o.jsxs("div",{className:"relative",children:[o.jsx(Ut,{id:"dailyTotalCalories",type:"number",value:O.dailyTotalCalories,onChange:M=>B({...O,dailyTotalCalories:M.target.value}),className:`${Vt()?"border-green-300 bg-green-50 focus:border-green-500 focus:ring-green-200":"border-amber-300 bg-amber-50 focus:border-amber-500 focus:ring-amber-200"}`,placeholder:Vt()?e.autoCalculated:e.fillRequiredFieldsToCalculate}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:Vt()?o.jsx("span",{className:"text-green-500 text-sm",children:"✓"}):o.jsx("span",{className:"text-amber-500 text-sm",children:"⚠️"})})]}),o.jsx("p",{className:"text-xs text-gray-500",children:Vt()?e.harrisBenedictInfo||"Calculated using Harris-Benedict equation":e.fillRequiredFieldsToCalculate||"Fill in age, gender, weight, height, and activity level to calculate"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"number_of_meals",className:"text-sm font-medium text-gray-700",children:[e.numberOfMeals,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full`,children:["🍽️ ",e.optional||"Optional"]})]}),o.jsx(Ut,{id:"number_of_meals",type:"number",min:"1",max:"10",value:O.number_of_meals,onChange:M=>B({...O,number_of_meals:M.target.value}),placeholder:e.mealsPlaceholder||"4",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.mealsDescription||"How many meals per day does your client prefer?"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{htmlFor:"region",className:"text-sm font-medium text-gray-700",children:[e.region,o.jsxs("span",{className:`${t==="he"?"mr-2":"ml-2"} inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full`,children:["🌍 ",e.optional||"Optional"]})]}),o.jsx(Ut,{id:"region",value:O.region,onChange:M=>B({...O,region:M.target.value}),placeholder:e.regionPlaceholder||"israel",className:"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}),o.jsx("p",{className:"text-xs text-gray-500",children:e.regionDescription||"Region for local food recommendations"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(St,{className:"text-base font-medium text-gray-800",children:e.macrosGrams}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.macrosDescription||"Set your client's macronutrient targets"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Te,{type:"button",variant:"outline",size:"sm",onClick:()=>{F({protein:!0,carbs:!0,fat:!0})},className:"text-orange-600 border-orange-300 hover:bg-orange-50 text-xs",title:e.lockAllMacrosTooltip||"Lock all macros - none will be automatically rebalanced",children:["🔒 ",e.lockAll||"Lock All"]}),o.jsxs(Te,{type:"button",variant:"outline",size:"sm",onClick:()=>{F({protein:!1,carbs:!1,fat:!1})},className:"text-green-600 border-green-300 hover:bg-green-50 text-xs",title:e.unlockAllMacrosTooltip||"Unlock all macros - all will be automatically rebalanced",children:["🔓 ",e.unlockAll||"Unlock All"]}),o.jsxs(Te,{type:"button",variant:"outline",size:"sm",onClick:()=>{const M=parseInt(O.dailyTotalCalories)||0;if(M>0){const H=parseFloat(O.weight_kg)||0,oe={protein:{percentage:30,grams:Math.round(.3*M/4),gramsPerKg:H>0?Math.round(Math.round(.3*M/4)/H*10)/10:0},carbs:{percentage:40,grams:Math.round(.4*M/4),gramsPerKg:H>0?Math.round(Math.round(.4*M/4)/H*10)/10:0},fat:{percentage:30,grams:Math.round(.3*M/9),gramsPerKg:H>0?Math.round(Math.round(.3*M/9)/H*10)/10:0}};Y(oe),te({protein:oe.protein.grams,carbs:oe.carbs.grams,fat:oe.fat.grams}),W({protein:oe.protein.percentage,carbs:oe.carbs.percentage,fat:oe.fat.percentage})}},className:"text-blue-600 border-blue-300 hover:bg-blue-50 text-xs",disabled:!O.dailyTotalCalories,children:["🔄 ",e.resetToDefault||"Reset to Default (30/40/30)"]})]})]}),o.jsx("div",{className:"space-y-3",children:(()=>{const M=parseInt(O.dailyTotalCalories)||0,H=M>0?Math.ceil(M/4):300,oe=M>0?Math.ceil(M/4):400,ke=M>0?Math.ceil(M/9):150,je=Math.min(H,500),Le=Math.min(oe,800),tt=Math.min(ke,200);return[{key:"protein",label:e.protein,color:"blue",maxGrams:je,icon:"💪"},{key:"carbs",label:e.carbs,color:"purple",maxGrams:Le,icon:"🍞"},{key:"fat",label:e.fat,color:"teal",maxGrams:tt,icon:"🥑"}].map(Xe=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gradient-to-r from-gray-50 to-white hover:shadow-sm transition-shadow",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:Xe.icon}),o.jsx(St,{className:"text-sm font-medium text-gray-700 capitalize",children:Xe.label})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("div",{className:"text-sm text-gray-600 bg-white px-2 py-1 rounded border",children:[Q[Xe.key].grams,"g"]}),o.jsx(Te,{type:"button",variant:"ghost",size:"sm",onClick:()=>xo(Xe.key),className:`p-1 h-6 w-6 transition-colors ${V[Xe.key]?"text-blue-600 hover:text-blue-700 hover:bg-blue-100":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:V[Xe.key]?"Unlock macro (will be rebalanced)":"Lock macro (won't be rebalanced)",children:V[Xe.key]?"🔒":"🔓"})]})]}),o.jsxs("div",{className:"grid grid-cols-4 gap-3 items-center",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsxs(St,{className:"text-xs text-gray-600 flex items-center gap-1",children:["% ",V[Xe.key]&&o.jsx("span",{className:"text-blue-600",children:"🔒"})]}),o.jsx(Ut,{type:"number",value:Q[Xe.key].percentage,onChange:jt=>er("percentage",parseFloat(jt.target.value)||0,Xe.key),className:`text-xs h-8 ${Q[Xe.key].percentage<0||Q[Xe.key].percentage>100?"border-red-300 bg-red-50":V[Xe.key]?"border-blue-300 bg-blue-50 cursor-not-allowed":"border-gray-300 focus:border-blue-500 focus:ring-blue-200"}`,min:"0",max:"100",step:"0.1",placeholder:"0",disabled:V[Xe.key]}),Q[Xe.key].percentage<0&&o.jsx("div",{className:"text-xs text-red-500",children:"Min: 0%"}),Q[Xe.key].percentage>100&&o.jsx("div",{className:"text-xs text-red-500",children:"Max: 100%"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(St,{className:"text-xs text-gray-600",children:e.grams}),o.jsx(Ut,{type:"number",value:Q[Xe.key].grams,onChange:jt=>er("grams",parseFloat(jt.target.value)||0,Xe.key),className:"text-xs h-8 border-gray-300 focus:border-blue-500 focus:ring-blue-200",min:"0",max:Xe.maxGrams})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx(St,{className:"text-xs text-gray-600",children:"g/kg"}),o.jsx(Ut,{type:"number",value:Q[Xe.key].gramsPerKg,onChange:jt=>er("gramsPerKg",parseFloat(jt.target.value)||0,Xe.key),className:"text-xs h-8 border-gray-300 focus:border-blue-500 focus:ring-blue-200",min:"0",step:"0.1"})]}),o.jsxs("div",{className:"flex-1 space-y-1",children:[o.jsx(i5,{min:0,max:Xe.maxGrams,step:1,value:[Q[Xe.key].grams],onValueChange:([jt])=>er("grams",jt,Xe.key),className:`[&>span]:bg-${Xe.color}-500`}),o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["0 - ",Xe.maxGrams,"g"]})]})]})]},Xe.key))})()}),o.jsxs("div",{className:`border-2 rounded-xl p-6 ${qt().isCaloriesNotSet?"bg-gradient-to-r from-gray-50 to-slate-50 border-gray-200":qt().isValid?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200":"bg-gradient-to-r from-red-50 to-pink-50 border-red-200"}`,children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${qt().isCaloriesNotSet?"bg-gray-500 text-white":qt().isValid?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:qt().isCaloriesNotSet?"⏳":qt().isValid?"✓":"⚠️"}),o.jsxs("div",{children:[o.jsx("h4",{className:`font-semibold ${qt().isCaloriesNotSet?"text-gray-800":qt().isValid?"text-green-800":"text-red-800"}`,children:qt().isCaloriesNotSet?e.caloriesNotSet||"Daily calories not set yet":qt().isValid?e.macrosPerfectlyBalanced||"Macros are perfectly balanced!":e.macroBalanceNeedsAttention||"Macro balance needs attention"}),o.jsx("p",{className:`text-sm ${qt().isCaloriesNotSet?"text-gray-600":qt().isValid?"text-green-600":"text-red-600"}`,children:qt().isCaloriesNotSet?e.setCaloriesFirst||"Set daily calories first to configure macro percentages":qt().isValid?e.macrosReadyToGo||"Your client's nutrition targets are ready to go!":qt().warning})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{className:"bg-white/60 rounded-lg p-3 border border-white/40",children:[o.jsx("div",{className:"text-sm text-gray-600",children:e.totalPercentages||"Total Percentages"}),o.jsxs("div",{className:`text-lg font-bold ${qt().isCaloriesNotSet?"text-gray-700":qt().isValid?"text-green-700":"text-red-700"}`,children:[qt().total.toFixed(1),"%"]})]}),o.jsxs("div",{className:"bg-white/60 rounded-lg p-3 border border-white/40",children:[o.jsx("div",{className:"text-sm text-gray-600",children:e.totalCalories||"Total Calories"}),o.jsxs("div",{className:"text-lg font-bold text-gray-800",children:[xr().totalCalories," kcal"]})]})]}),o.jsxs("div",{className:"bg-white/60 rounded-lg p-4 border border-white/40 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx("span",{className:"text-blue-600",children:"🔒"}),o.jsx("span",{className:"font-medium text-gray-800",children:e.macroLockStatus||"Macro Lock Status"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(V).map(([M,H])=>o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium transition-colors ${H?"bg-blue-100 text-blue-800 border border-blue-300":"bg-gray-100 text-gray-500 border border-gray-300"}`,children:[M.charAt(0).toUpperCase()+M.slice(1),": ",H?"🔒":"🔓"]},M))}),o.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["💡 ",e.lockedMacrosDescription||"Locked macros won't be automatically rebalanced when you change other macros."]})]}),bt().hasConflict&&o.jsxs("div",{className:"bg-red-100 border border-red-300 rounded-lg p-4 mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"text-red-600",children:"⚠️"}),o.jsx("span",{className:"font-medium text-red-800",children:e.lockConflictDetected||"Lock Conflict Detected"})]}),o.jsx("p",{className:"text-sm text-red-700 mb-2",children:bt().message}),o.jsxs("p",{className:"text-xs text-red-600",children:[e.currentLockedTotal||"Current locked total",": ",bt().lockedTotal.toFixed(1),"%"]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("span",{className:"text-blue-600",children:"💡"}),o.jsx("span",{className:"font-medium text-blue-800",children:e.proTips||"Pro Tips"})]}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("li",{children:["• ",e.proTip1||"Adjust one macro percentage and unlocked macros will automatically rebalance"]}),o.jsxs("li",{children:["• ",e.proTip2||"Use the lock buttons (🔒/🔓) to prevent specific macros from changing"]}),o.jsxs("li",{children:["• ",e.proTip3||"Aim for 100% total to ensure all calories are accounted for"]})]})]})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("h3",{className:"text-lg font-medium flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.dietaryInformation]}),o.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs(St,{htmlFor:"food_allergies",className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[o.jsx("div",{className:"w-5 h-5 bg-red-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.foodAllergies]}),o.jsx(Ut,{id:"food_allergies",value:O.food_allergies,onChange:M=>B({...O,food_allergies:M.target.value}),placeholder:e.foodAllergiesPlaceholder,className:"border-gray-300 focus:border-red-500 focus:ring-red-500"})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs(St,{htmlFor:"food_limitations",className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[o.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.foodLimitations]}),o.jsx(bd,{id:"food_limitations",value:O.food_limitations,onChange:M=>B({...O,food_limitations:M.target.value}),placeholder:e.foodLimitationsPlaceholder,rows:3,className:"border-gray-300 focus:border-orange-500 focus:ring-orange-500 resize-none"}),O.food_limitations&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-500",children:[o.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),O.food_limitations.split(",").length," ",e.limitations||"limitations"," specified"]})]}),o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:[o.jsxs(St,{htmlFor:"client_preference",className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[o.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.foodDiary," /",e.userPreferences," ",e.eatingHabitsAnalysis,Ce&&o.jsxs(mr,{variant:"secondary",className:"text-xs bg-green-100 text-green-800 ml-2",children:[e.autoPopulated||"Auto-populated"," (",Ce.total_logs," ",e.entriesFound||"entries",")"]})]}),o.jsxs("div",{className:"flex gap-2",children:[console.log("foodLogsAnalysis state:",Ce),o.jsx(bd,{id:"client_preference",value:O.client_preference,onChange:M=>B({...O,client_preference:M.target.value}),placeholder:e.clientPreferencesPlaceholder,rows:3,className:`flex-1 transition-all duration-200 resize-none ${Ce?"border-green-500 bg-green-50 text-green-900 font-medium shadow-sm ring-1 ring-green-300":"border-gray-300 focus:border-green-500 focus:ring-green-500"}`,style:{borderColor:Ce?"#10b981":void 0,backgroundColor:Ce?"#f0fdf4":void 0,color:Ce?"#064e3b":void 0}}),O.client_preference&&t==="he"&&o.jsx(Te,{type:"button",variant:"outline",onClick:async()=>{pe(!0);try{const M=await vn(O.client_preference,"he");B(H=>({...H,client_preference:M}))}catch(M){console.error("Failed to translate preferences:",M)}finally{pe(!1)}},disabled:Me,className:"whitespace-nowrap h-fit border-green-300 text-green-700 hover:bg-green-50",children:Me?o.jsx("div",{className:"animate-spin h-4 w-4"}):e.translateToHebrew||"Translate to Hebrew"})]}),Ce&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-green-600 bg-green-50 px-2 py-1 rounded",children:[o.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.preferencesAutoPopulated||"Eating habits analysis completed"," from ",Ce.total_logs," food log entries. You can edit this analysis as needed."]})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-medium",children:e.mealPlanStructure||"Meal Plan Structure"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-gray-600",children:e.mealPlanDescription||"Configure how daily calories are distributed across meals"}),o.jsxs(Te,{type:"button",variant:"outline",size:"sm",onClick:rr,className:"text-green-600 border-green-600 hover:bg-green-50",children:[o.jsx(fc,{className:"h-4 w-4 mr-1"}),e.addMeal||"Add Meal"]})]}),o.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b",children:o.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-medium text-gray-600",children:[o.jsx("div",{className:"col-span-2",children:e.mealName||"Meal Name"}),o.jsx("div",{className:"col-span-4",children:e.description||"Description"}),o.jsx("div",{className:"col-span-2",children:e.caloriesLabel||"Calories"}),o.jsx("div",{className:"col-span-2",children:e.percentage||"Percentage"}),o.jsx("div",{className:"col-span-1",children:e.lock||"Lock"}),o.jsx("div",{className:"col-span-1",children:e.actions||"Actions"})]})}),O.meal_plan_structure.map((M,H)=>o.jsx("div",{className:"px-4 py-3 border-b last:border-b-0 bg-white",children:o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[o.jsx("div",{className:"col-span-2",children:o.jsx(Ut,{value:M.meal,onChange:oe=>Sn(H,"meal",oe.target.value),className:"text-sm",placeholder:e.mealName||"Meal name"})}),o.jsxs("div",{className:"col-span-4 relative",children:[o.jsx(bd,{value:M.description,onChange:oe=>Sn(H,"description",oe.target.value),onInput:oe=>Er(oe.target),className:"text-sm resize-none min-h-[32px] max-h-[80px] overflow-hidden",placeholder:e.mealDescriptionShort||e.descriptionPlaceholder||"What's in this meal...",rows:1,title:M.description||"Enter meal description","data-meal-index":H}),M.description&&M.description.length>50&&o.jsx("div",{className:"absolute top-0 right-0 mt-1 mr-1",children:o.jsxs(mr,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:[M.description.length," chars"]})})]}),o.jsx("div",{className:"col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ut,{type:"number",value:Qe[H]!==void 0?Qe[H]:M.calories,onChange:oe=>Jn(H,oe.target.value),onKeyDown:oe=>{oe.key==="Enter"?(oe.preventDefault(),yn(H)):oe.key==="Escape"&&(oe.preventDefault(),Di(H))},onBlur:()=>yn(H),className:`text-sm ${M.locked?"bg-gray-100 cursor-not-allowed":""} ${re[H]?"border-red-500 bg-red-50":Qe[H]!==void 0?"border-yellow-500 bg-yellow-50":""}`,placeholder:"0",min:"0",disabled:M.locked,title:M.locked?`${e.locked||"Locked"} - ${e.caloriesLabel||"Calories"}`:"Press Enter to confirm, Escape to cancel"}),re[H]&&o.jsx("div",{className:"absolute z-10 mt-1 p-2 bg-red-100 border border-red-300 rounded text-xs text-red-700 shadow-lg max-w-xs",children:re[H]}),Qe[H]!==void 0&&!re[H]&&o.jsx("div",{className:"absolute z-10 mt-1 p-1 bg-yellow-100 border border-yellow-300 rounded text-xs text-yellow-700 shadow",children:"Press Enter to confirm"})]})}),o.jsx("div",{className:"col-span-2",children:o.jsxs("div",{className:`text-sm text-center ${M.locked?"text-blue-600 font-medium":"text-gray-600"}`,children:[M.calories_pct.toFixed(1),"%",M.locked&&o.jsx("div",{className:"text-xs text-blue-500",children:"🔒"})]})}),o.jsx("div",{className:"col-span-1 flex justify-center",children:o.jsx(Te,{type:"button",variant:"ghost",size:"icon",onClick:()=>Sn(H,"locked",!M.locked),className:`h-8 w-8 ${M.locked?"text-blue-600 hover:text-blue-700 hover:bg-blue-50":"text-gray-400 hover:text-gray-600 hover:bg-gray-50"}`,title:M.locked?"Unlock meal":"Lock meal",children:M.locked?"🔒":"🔓"})}),o.jsxs("div",{className:"col-span-1 flex items-center justify-center gap-1",children:[o.jsx(Te,{type:"button",variant:"ghost",size:"icon",onClick:()=>vt(H,"up"),disabled:H===0,className:"h-8 w-8",children:o.jsx(f_,{className:"h-4 w-4"})}),o.jsx(Te,{type:"button",variant:"ghost",size:"icon",onClick:()=>vt(H,"down"),disabled:H===O.meal_plan_structure.length-1,className:"h-8 w-8",children:o.jsx(u_,{className:"h-4 w-4"})}),o.jsx(Te,{type:"button",variant:"ghost",size:"icon",onClick:()=>ur(H),disabled:O.meal_plan_structure.length<=1,className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:o.jsx(ma,{className:"h-4 w-4"})})]})]})},H))]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[e.totalMeals||"Total Meals",": "]}),o.jsx("span",{className:"font-medium",children:O.meal_plan_structure.length}),o.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",O.meal_plan_structure.filter(M=>M.locked).length," ",e.locked||"locked",")"]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[e.totalCalories||"Total Calories",": "]}),o.jsxs("span",{className:"font-medium",children:[O.meal_plan_structure.reduce((M,H)=>M+(H.calories||0),0)," / ",O.dailyTotalCalories||0]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[e.lockedCalories||"Locked Calories",": "]}),o.jsx("span",{className:"font-medium text-blue-600",children:O.meal_plan_structure.filter(M=>M.locked).reduce((M,H)=>M+(H.calories||0),0)})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[e.unlockedCalories||"Unlocked Calories",": "]}),o.jsx("span",{className:"font-medium text-green-600",children:O.meal_plan_structure.filter(M=>!M.locked).reduce((M,H)=>M+(H.calories||0),0)})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[e.availableBudget||"Available Budget",": "]}),o.jsxs("span",{className:"font-medium text-purple-600",children:[(parseInt(O.dailyTotalCalories)||0)-O.meal_plan_structure.filter(M=>M.locked).reduce((M,H)=>M+(H.calories||0),0)," kcal"]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[e.maxPerMeal||"Max per Meal",": "]}),o.jsxs("span",{className:"font-medium text-orange-600",children:[Math.max(0,(parseInt(O.dailyTotalCalories)||0)-O.meal_plan_structure.filter(M=>M.locked).reduce((M,H)=>M+(H.calories||0),0))," kcal"]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[e.totalPercentage||"Total Percentage",": "]}),o.jsxs("span",{className:`font-medium ${Math.abs(O.meal_plan_structure.reduce((M,H)=>M+H.calories_pct,0)-100)<.1?"text-green-600":"text-red-600"}`,children:[O.meal_plan_structure.reduce((M,H)=>M+H.calories_pct,0).toFixed(1),"%"]})]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:e.mealPlanLockNote||"Note: 🔒 Locked meals maintain their calories. When you edit a meal, that meal keeps its exact value and other unlocked meals scale to fit the remaining budget."}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:e.scalingFormula||"Formula: Scaling Factor = (Daily Target - Locked Calories - Edited Meal) ÷ Other Unlocked Total"}),o.jsx("p",{className:"text-xs text-green-600 mt-1",children:e.calorieInputHelp||"💡 Calorie Input: Type a value and press Enter to confirm. Values exceeding daily limits will reset all unlocked meals to 0."})]})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(Te,{type:"button",variant:"outline",onClick:()=>{c(!1),de(!1),J({}),q(null),Ae(!1),K&&(clearTimeout(K),_e(null))},disabled:h,children:e.cancel}),o.jsx(Te,{type:"submit",className:"bg-green-600 hover:bg-green-700",disabled:h,children:h?e.saving:d?e.updateClient:e.addClient})]})]})]})})]})}const mJ=Jq.Core.InvokeLLM;function pJ(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Yj="ScrollArea",[w5,yme]=xa(Yj),[gJ,Da]=w5(Yj),_5=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...s}=e,[c,d]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(null),[w,b]=y.useState(null),[x,_]=y.useState(null),[S,N]=y.useState(0),[P,k]=y.useState(0),[C,A]=y.useState(!1),[T,R]=y.useState(!1),I=Ot(t,O=>d(O)),U=ru(a);return o.jsx(gJ,{scope:r,type:n,dir:U,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:h,content:m,onContentChange:g,scrollbarX:w,onScrollbarXChange:b,scrollbarXEnabled:C,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:_,scrollbarYEnabled:T,onScrollbarYEnabledChange:R,onCornerWidthChange:N,onCornerHeightChange:k,children:o.jsx(mt.div,{dir:U,...s,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":P+"px",...e.style}})})});_5.displayName=Yj;var j5="ScrollAreaViewport",S5=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,s=Da(j5,r),c=y.useRef(null),d=Ot(t,c,s.onViewportChange);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),o.jsx(mt.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:o.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});S5.displayName=j5;var Mi="ScrollAreaScrollbar",Jj=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Da(Mi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=a,c=e.orientation==="horizontal";return y.useEffect(()=>(c?i(!0):s(!0),()=>{c?i(!1):s(!1)}),[c,i,s]),a.type==="hover"?o.jsx(vJ,{...n,ref:t,forceMount:r}):a.type==="scroll"?o.jsx(yJ,{...n,ref:t,forceMount:r}):a.type==="auto"?o.jsx(N5,{...n,ref:t,forceMount:r}):a.type==="always"?o.jsx(Xj,{...n,ref:t}):null});Jj.displayName=Mi;var vJ=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Da(Mi,e.__scopeScrollArea),[i,s]=y.useState(!1);return y.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),s(!0)},h=()=>{d=window.setTimeout(()=>s(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),o.jsx($n,{present:r||i,children:o.jsx(N5,{"data-state":i?"visible":"hidden",...n,ref:t})})}),yJ=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Da(Mi,e.__scopeScrollArea),i=e.orientation==="horizontal",s=pg(()=>d("SCROLL_END"),100),[c,d]=pJ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,a.scrollHideDelay,d]),y.useEffect(()=>{const f=a.viewport,h=i?"scrollLeft":"scrollTop";if(f){let m=f[h];const g=()=>{const w=f[h];m!==w&&(d("SCROLL"),s()),m=w};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[a.viewport,i,d,s]),o.jsx($n,{present:r||c!=="hidden",children:o.jsx(Xj,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ke(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ke(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),N5=y.forwardRef((e,t)=>{const r=Da(Mi,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,s]=y.useState(!1),c=e.orientation==="horizontal",d=pg(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,h=r.viewport.offsetHeight<r.viewport.scrollHeight;s(c?f:h)}},10);return Sc(r.viewport,d),Sc(r.content,d),o.jsx($n,{present:n||i,children:o.jsx(Xj,{"data-state":i?"visible":"hidden",...a,ref:t})})}),Xj=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Da(Mi,e.__scopeScrollArea),i=y.useRef(null),s=y.useRef(0),[c,d]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=E5(c.viewport,c.content),h={...n,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:g=>s.current=g};function m(g,w){return SJ(g,s.current,c,w)}return r==="horizontal"?o.jsx(xJ,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollLeft,w=Gk(g,c,a.dir);i.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollLeft=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollLeft=m(g,a.dir))}}):r==="vertical"?o.jsx(bJ,{...h,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const g=a.viewport.scrollTop,w=Gk(g,c);i.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:g=>{a.viewport&&(a.viewport.scrollTop=g)},onDragScroll:g=>{a.viewport&&(a.viewport.scrollTop=m(g))}}):null}),xJ=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Da(Mi,e.__scopeScrollArea),[s,c]=y.useState(),d=y.useRef(null),f=Ot(t,d,i.onScrollbarXChange);return y.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),o.jsx(P5,{"data-orientation":"horizontal",...a,ref:f,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mg(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(i.viewport){const g=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),T5(g,m)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&s&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:qm(s.paddingLeft),paddingEnd:qm(s.paddingRight)}})}})}),bJ=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Da(Mi,e.__scopeScrollArea),[s,c]=y.useState(),d=y.useRef(null),f=Ot(t,d,i.onScrollbarYChange);return y.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),o.jsx(P5,{"data-orientation":"vertical",...a,ref:f,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mg(r)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(i.viewport){const g=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),T5(g,m)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&s&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:qm(s.paddingTop),paddingEnd:qm(s.paddingBottom)}})}})}),[wJ,C5]=w5(Mi),P5=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:h,onResize:m,...g}=e,w=Da(Mi,r),[b,x]=y.useState(null),_=Ot(t,I=>x(I)),S=y.useRef(null),N=y.useRef(""),P=w.viewport,k=n.content-n.viewport,C=pn(h),A=pn(d),T=pg(m,10);function R(I){if(S.current){const U=I.clientX-S.current.left,O=I.clientY-S.current.top;f({x:U,y:O})}}return y.useEffect(()=>{const I=U=>{const O=U.target;(b==null?void 0:b.contains(O))&&C(U,k)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[P,b,k,C]),y.useEffect(A,[n,A]),Sc(b,T),Sc(w.content,T),o.jsx(wJ,{scope:r,scrollbar:b,hasThumb:a,onThumbChange:pn(i),onThumbPointerUp:pn(s),onThumbPositionChange:A,onThumbPointerDown:pn(c),children:o.jsx(mt.div,{...g,ref:_,style:{position:"absolute",...g.style},onPointerDown:Ke(e.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),S.current=b.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",w.viewport&&(w.viewport.style.scrollBehavior="auto"),R(I))}),onPointerMove:Ke(e.onPointerMove,R),onPointerUp:Ke(e.onPointerUp,I=>{const U=I.target;U.hasPointerCapture(I.pointerId)&&U.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=N.current,w.viewport&&(w.viewport.style.scrollBehavior=""),S.current=null})})})}),zm="ScrollAreaThumb",k5=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=C5(zm,e.__scopeScrollArea);return o.jsx($n,{present:r||a.hasThumb,children:o.jsx(_J,{ref:t,...n})})}),_J=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Da(zm,r),s=C5(zm,r),{onThumbPositionChange:c}=s,d=Ot(t,m=>s.onThumbChange(m)),f=y.useRef(void 0),h=pg(()=>{f.current&&(f.current(),f.current=void 0)},100);return y.useEffect(()=>{const m=i.viewport;if(m){const g=()=>{if(h(),!f.current){const w=NJ(m,c);f.current=w,c()}};return c(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[i.viewport,h,c]),o.jsx(mt.div,{"data-state":s.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ke(e.onPointerDownCapture,m=>{const w=m.target.getBoundingClientRect(),b=m.clientX-w.left,x=m.clientY-w.top;s.onThumbPointerDown({x:b,y:x})}),onPointerUp:Ke(e.onPointerUp,s.onThumbPointerUp)})});k5.displayName=zm;var Qj="ScrollAreaCorner",A5=y.forwardRef((e,t)=>{const r=Da(Qj,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?o.jsx(jJ,{...e,ref:t}):null});A5.displayName=Qj;var jJ=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Da(Qj,r),[i,s]=y.useState(0),[c,d]=y.useState(0),f=!!(i&&c);return Sc(a.scrollbarX,()=>{var m;const h=((m=a.scrollbarX)==null?void 0:m.offsetHeight)||0;a.onCornerHeightChange(h),d(h)}),Sc(a.scrollbarY,()=>{var m;const h=((m=a.scrollbarY)==null?void 0:m.offsetWidth)||0;a.onCornerWidthChange(h),s(h)}),f?o.jsx(mt.div,{...n,ref:t,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function qm(e){return e?parseInt(e,10):0}function E5(e,t){const r=e/t;return isNaN(r)?0:r}function mg(e){const t=E5(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function SJ(e,t,r,n="ltr"){const a=mg(r),i=a/2,s=t||i,c=a-s,d=r.scrollbar.paddingStart+s,f=r.scrollbar.size-r.scrollbar.paddingEnd-c,h=r.content-r.viewport,m=n==="ltr"?[0,h]:[h*-1,0];return O5([d,f],m)(e)}function Gk(e,t,r="ltr"){const n=mg(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,s=t.content-t.viewport,c=i-n,d=r==="ltr"?[0,s]:[s*-1,0],f=Rd(e,d);return O5([0,s],[0,c])(f)}function O5(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function T5(e,t){return e>0&&e<t}var NJ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},s=r.left!==i.left,c=r.top!==i.top;(s||c)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function pg(e,t){const r=pn(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Sc(e,t){const r=pn(t);Qr(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var M5=_5,CJ=S5,PJ=A5;const R5=y.forwardRef(({className:e,children:t,...r},n)=>o.jsxs(M5,{ref:n,className:ht("relative overflow-hidden",e),...r,children:[o.jsx(CJ,{className:"h-full w-full rounded-[inherit]",children:t}),o.jsx(D5,{}),o.jsx(PJ,{})]}));R5.displayName=M5.displayName;const D5=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>o.jsx(Jj,{ref:n,orientation:t,className:ht("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:o.jsx(k5,{className:"relative flex-1 rounded-full bg-border"})}));D5.displayName=Jj.displayName;function kJ(){const{language:e,translations:t}=ya(),{selectedClient:r}=ul(),[n,a]=y.useState(null),[i,s]=y.useState(""),[c,d]=y.useState(null),[f,h]=y.useState(!1),[m,g]=y.useState(!0),[w,b]=y.useState(null),x=y.useRef(null),_=y.useRef(null),S=y.useRef(null),[N,P]=y.useState(null),[k,C]=y.useState(0),[A,T]=y.useState([]),[R,I]=y.useState(!0),[U,O]=y.useState(!1),[B,Z]=y.useState(null),[te,Q]=y.useState(null),[Y,ie]=y.useState(!1),[W,V]=y.useState(null),[F,L]=y.useState(!0),[J,G]=y.useState(Date.now()),[de,Ce]=y.useState(!1),[q,ae]=y.useState(null),[Ae,K]=y.useState(null),[_e,Me]=y.useState(null),[pe,Qe]=y.useState(!1),[ze,re]=y.useState(""),[Ct,Vt]=y.useState("success"),[Pt,Gt]=y.useState("bottom"),[sn,bt]=y.useState(0),[er,xr]=y.useState(!1);y.useRef(null);const qt=y.useRef(null),qr=(ye,Ne="success")=>{re(ye),Vt(Ne),Qe(!0),setTimeout(()=>{Qe(!1)},3e3)};y.useEffect(()=>{(async()=>{try{const{data:{user:Ne},error:De}=await lt.auth.getUser();if(De){console.error("Error getting current user:",De);return}Ne&&(K(Ne),console.log("✅ Current dietitian loaded:",Ne.id))}catch(Ne){console.error("Error in getCurrentUser:",Ne)}})()},[]),y.useEffect(()=>{(async()=>{if(r!=null&&r.user_code)try{console.log("🔍 Getting client ID for user_code:",r.user_code);const{data:Ne,error:De}=await lt.from("chat_users").select("id").eq("user_code",r.user_code).single();if(De){console.error("Error getting client ID:",De);return}Ne&&(Me(Ne.id),console.log("✅ Client ID loaded:",Ne.id))}catch(Ne){console.error("Error getting client ID:",Ne)}})()},[r==null?void 0:r.user_code]),y.useEffect(()=>{if(!(r!=null&&r.user_code)||!B){console.log("Auto-refresh: Missing user_code or conversationId, skipping...");return}return console.log("🔄 Setting up simple auto-refresh for conversation:",B),qt.current&&clearInterval(qt.current),qt.current=setInterval(async()=>{try{console.log("🔄 Simple auto-refresh: Checking for new messages...");const Ne=(await Yl.listByConversation(B,{limit:20})).reverse();if(Ne.length>A.length){console.log(`🔄 Simple auto-refresh: New messages detected! Old: ${A.length}, New: ${Ne.length}`);const De=S.current,gt=De?De.scrollTop:0,rr=De?De.scrollHeight:0;T(Ne),Q(Ne.length>0?Ne[0].id:null),I(Ne.length===20),ae(new Date),Pt==="bottom"?(console.log("🔄 Auto-scrolling to bottom for new messages"),setTimeout(()=>{var ur;(ur=_.current)==null||ur.scrollIntoView({behavior:"auto"})},100),xr(!1)):(console.log(`🔄 Preserving scroll position (user was at ${Pt}), setting new message indicator`),setTimeout(()=>{if(De){const vt=De.scrollHeight-rr;De.scrollTop=gt+vt}},100),xr(!0))}else console.log("Simple auto-refresh: No new messages found"),ae(new Date)}catch(ye){console.warn("Simple auto-refresh failed:",ye)}},1e4),()=>{qt.current&&(console.log("🔄 Cleaning up simple auto-refresh interval"),clearInterval(qt.current),qt.current=null)}},[r==null?void 0:r.user_code,B]),y.useEffect(()=>{if(!(r!=null&&r.user_code)||!B)return;console.log("🔄 Setting up aggressive 5-second auto-refresh for conversation:",B);const ye=setInterval(async()=>{try{console.log("🔄 Aggressive auto-refresh: Checking for new messages...");const De=(await Yl.listByConversation(B,{limit:20})).reverse();if(De.length>A.length){console.log(`🔄 Aggressive auto-refresh: New messages detected! Old: ${A.length}, New: ${De.length}`);const gt=S.current,rr=gt?gt.scrollTop:0,ur=gt?gt.scrollHeight:0;T(De),Q(De.length>0?De[0].id:null),I(De.length===20),ae(new Date),Pt==="bottom"?(console.log("🔄 Aggressive auto-refresh: Auto-scrolling to bottom for new messages"),setTimeout(()=>{var vt;(vt=_.current)==null||vt.scrollIntoView({behavior:"auto"})},100),xr(!1)):(console.log(`🔄 Aggressive auto-refresh: Preserving scroll position (user was at ${Pt}), setting new message indicator`),setTimeout(()=>{if(gt){const Er=gt.scrollHeight-ur;gt.scrollTop=rr+Er}},100),xr(!0))}else console.log("Aggressive auto-refresh: No new messages found"),ae(new Date)}catch(Ne){console.warn("Aggressive auto-refresh failed:",Ne)}},5e3);return()=>{console.log("🔄 Cleaning up aggressive auto-refresh interval"),clearInterval(ye)}},[r==null?void 0:r.user_code,B,A.length]),y.useEffect(()=>{A.length>0&&S.current&&(Gt("bottom"),setTimeout(()=>{var ye;(ye=_.current)==null||ye.scrollIntoView({behavior:"auto"})},100))},[A.length]),y.useEffect(()=>{const ye=S.current;if(!ye)return;const Ne=ye.querySelector("[data-radix-scroll-area-viewport]");if(Ne)return Ne.addEventListener("scroll",kt,{passive:!0}),()=>{Ne.removeEventListener("scroll",kt)}},[S.current]),y.useEffect(()=>{const ye=()=>{L(!0),G(Date.now()),setTimeout(()=>{L(!1)},3e3)},Ne=["mousedown","keypress","scroll"];return Ne.forEach(De=>{document.addEventListener(De,ye,{passive:!0})}),()=>{Ne.forEach(De=>{document.removeEventListener(De,ye)})}},[]);const Kn=ye=>new Promise(Ne=>{const De=new FileReader;De.readAsDataURL(ye),De.onload=()=>Ne(De.result.split(",")[1])}),Yn=ye=>{V(ye),ie(!0)},Gr=()=>{ie(!1),V(null)},Wr=async ye=>{try{let Ne;ye.role==="user"?Ne="user_message":ye.role==="assistant"?Ne=ye.dietitian_id?"dietitian_message":"ai_response":Ne="unknown";const{data:De,error:gt}=await lt.from("user_message_queue").insert({user_id:ye.client_id,user_code:ye.user_code,message_type:Ne,message_content:ye.content,message_priority:ye.priority||5,scheduled_for:new Date().toISOString(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,optimal_delivery_window:{start_hour:8,end_hour:20},trigger_type:"immediate",context_data:{conversation_id:ye.conversation_id,dietitian_id:ye.dietitian_id,role:ye.role,attachments:ye.attachments||null},status:"pending"}).select().single();if(gt)throw console.error("Error adding to user_message_queue:",gt),gt;return console.log("✅ Message added to user_message_queue:",De),De}catch(Ne){throw console.error("Failed to add to user_message_queue:",Ne),Ne}},Hr=async ye=>{try{const{data:Ne,error:De}=await lt.from("user_message_queue").select("*").eq("user_code",ye).eq("status","pending").order("created_at",{ascending:!1});if(De)throw console.error("Error getting pending messages from queue:",De),De;return Ne||[]}catch(Ne){return console.error("Failed to get pending messages from queue:",Ne),[]}},vn=async()=>{if(!(!(r!=null&&r.user_code)||!B))try{Ce(!0),console.log("🔄 Manual refresh triggered");const ye=S.current,Ne=ye?ye.scrollTop:0,De=ye?ye.scrollHeight:0,rr=(await Yl.listByConversation(B,{limit:20})).reverse();T(rr),Q(rr.length>0?rr[0].id:null),I(rr.length===20),ae(new Date),xr(!1),setTimeout(()=>{if(ye){const vt=ye.scrollHeight-De;ye.scrollTop=Ne+vt}},100),console.log("✅ Chat refreshed successfully")}catch(ye){console.error("Manual refresh failed:",ye),b(t.failedToLoadClientData||"Failed to refresh chat")}finally{Ce(!1)}},ce=async()=>{if(r!=null&&r.user_code)try{console.log("📬 Viewing message queue for user:",r.user_code);const ye=await Hr(r.user_code);if(ye.length===0){alert("No pending messages in queue for this user.");return}const Ne=ye.map(De=>`ID: ${De.id}
Type: ${De.message_type}
Status: ${De.status}
Content: ${De.message_content.substring(0,100)}...
Scheduled: ${new Date(De.scheduled_for).toLocaleString()}
Created: ${new Date(De.created_at).toLocaleString()}
---`).join(`
`);alert(`Message Queue for ${r.full_name}:

${Ne}`)}catch(ye){console.error("Error viewing message queue:",ye),b("Failed to view message queue")}};y.useEffect(()=>{r!=null&&r.user_code&&(Ye(r.user_code),Se(r.user_code))},[r==null?void 0:r.user_code]);const Se=async ye=>{g(!0),b(null);try{const Ne=await Qq.getByUserCode(ye);Z(Ne.id);const De=await Yl.listByConversation(Ne.id,{limit:20});T(De.reverse()),Q(De.length>0?De[0].id:null),I(De.length===20)}catch{b(t.failedToLoadClientData),T([]),Z(null),I(!1)}finally{g(!1)}},Ye=async ye=>{if(ye){g(!0),b(null);try{console.log("Loading client data for user_code:",ye);let Ne=null;try{Ne=await Yi.getMealPlanByUserCode(ye),d(Ne)}catch(gt){console.warn("No meal plan found for user:",ye,gt),d(null)}console.log("Meal plan data loaded:",Ne);const De={id:`temp-${ye}-${Date.now()}`,user_code:ye,messages:[]};a(De),console.log("Created temporary chat for user:",ye)}catch(Ne){console.error("Error loading client data:",Ne),b(t.failedToLoadClientData)}finally{g(!1)}}},Ve=async()=>{var ye,Ne,De,gt,rr,ur,vt,Er;if(!(!i.trim()&&!N||!r||!B)){h(!0);try{if((Ae==null?void 0:Ae.id)&&_e){console.log("👨‍⚕️ Dietitian sending message directly...");const Xe=(Ue=>{var ln,dr,fr,Jt,Qt;if(!Ue)return"Dietitian";const dt=((ln=Ue==null?void 0:Ue.user_metadata)==null?void 0:ln.full_name)||((dr=Ue==null?void 0:Ue.user_metadata)==null?void 0:dr.name);if(dt){const Wt=dt.split(" ")[0],Ht=((fr=Ue==null?void 0:Ue.user_metadata)==null?void 0:fr.title)||((Jt=Ue==null?void 0:Ue.user_metadata)==null?void 0:Jt.professional_title);return Ht?`${Ht} ${Wt}`:Wt}const Or=(Qt=Ue==null?void 0:Ue.email)==null?void 0:Qt.split("@")[0];return Or?Or.charAt(0).toUpperCase()+Or.slice(1):"Dietitian"})(Ae),jt={conversation_id:B,client_id:_e,dietitian_id:Ae.id,user_code:r.user_code,content:`${Xe}: ${i}`,role:"assistant",priority:1};await Wr(jt),console.log("✅ Dietitian message added to new queue");const Tt={id:`temp-${Date.now()}`,role:"assistant",content:`${Xe}: ${i}`,conversation_id:B,created_at:new Date().toISOString(),isDietitianMessage:!0};T(Ue=>[Tt,...Ue]),s(""),P(null),x.current&&(x.current.value=""),qr(`✅ Message sent to ${r.full_name}!`,"success"),console.log("✅ Dietitian message sent successfully");return}let Jn={role:"user",content:i,conversation_id:B,created_at:new Date().toISOString()},yn=null;if(N instanceof File)try{yn=await Kn(N),Jn.attachments={image_url:`data:image/jpeg;base64,${yn}`}}catch(Oe){console.error("Error uploading image:",Oe),b(t.failedToUpload),h(!1);return}console.log("💬 Storing user message in database...");const Di=await Yl.create(Jn);console.log("✅ User message stored:",Di),T(Oe=>[Di,...Oe]),xr(!1);const xo=[Di,...A].map(Oe=>`${Oe.role.toUpperCase()}: ${Oe.content}`).join(`
`),M={name:r.full_name,user_code:r.user_code,...r.age&&{age:r.age},...r.date_of_birth&&{date_of_birth:r.date_of_birth},...r.gender&&{gender:r.gender},...r.weight_kg&&{weight_kg:r.weight_kg},...r.height_cm&&{height_cm:r.height_cm},...r.user_language&&{user_language:r.user_language},...r.food_allergies&&{food_allergies:r.food_allergies},...r.food_limitations&&{food_limitations:r.food_limitations},...r.Activity_level&&{activity_level:r.Activity_level},...r.goal&&{goal:r.goal},...r.dailyTotalCalories&&{daily_total_calories:r.dailyTotalCalories},...r.number_of_meals&&{number_of_meals:r.number_of_meals},...r.macros&&{macros:r.macros},...r.client_preference&&{client_preference:r.client_preference},...r.recommendations&&{recommendations:r.recommendations},...r.user_context&&{user_context:r.user_context},...r.height&&{height:r.height},...r.weight&&{weight:r.weight},...r.activity_level&&{activity_level:r.activity_level}};console.log("🧠 Comprehensive client profile being sent to LLM:",JSON.stringify(M,null,2));const H=c?{meal_plan:c.meal_plan,daily_total_calories:c.daily_total_calories,macros_target:c.macros_target,recommendations:c.recommendations,dietary_restrictions:c.dietary_restrictions,meals:((ye=c.meal_plan)==null?void 0:ye.meals)||[],totals:((Ne=c.meal_plan)==null?void 0:Ne.totals)||{},note:((De=c.meal_plan)==null?void 0:De.note)||""}:null;let oe;const ke=`You are a professional and friendly HEALTHY nutrition coach for BetterChoice.
Your response must be in natural, conversational language. DO NOT output JSON, code, or markdown.
Address the client by their first name: ${r.full_name.split(" ")[0]}.

**CRITICAL HEALTHY DIETITIAN RULES:**
• You are a HEALTHY nutrition coach - prioritize nutritious, whole foods over processed snacks
• NEVER suggest unhealthy processed snacks (like BISLI, Bamba, chips, candy, cookies, etc.) unless the user EXPLICITLY requests them in their preferences
• For snacks, always suggest healthy options like: fruits, vegetables, nuts, yogurt, cottage cheese, hummus, whole grain crackers, etc.
• Only include unhealthy snacks if the user specifically mentions "likes BISLI", "loves chips", "wants candy" etc. in their client_preferences
• Even then, limit unhealthy snacks to maximum 1-2 times per week, not daily
• Focus on balanced nutrition with whole foods, lean proteins, complex carbohydrates, and healthy fats

IMPORTANT: You have access to the client's current meal plan. You can answer detailed questions about their specific meals, ingredients, nutrition values, and provide personalized advice based on their actual meal plan.

Here is the comprehensive context for your response:

CLIENT PROFILE:
${JSON.stringify(M,null,2)}

DIETARY CONSIDERATIONS:
${M.food_allergies?`- Food Allergies: ${Array.isArray(M.food_allergies)?M.food_allergies.join(", "):M.food_allergies}`:"- No known food allergies"}
${M.food_limitations?`- Food Limitations: ${Array.isArray(M.food_limitations)?M.food_limitations.join(", "):M.food_limitations}`:"- No specific food limitations"}
${M.activity_level?`- Activity Level: ${M.activity_level}`:""}
${M.goal?`- Health Goal: ${M.goal}`:""}

NUTRITION TARGETS:
${M.daily_total_calories?`- Daily Calories: ${M.daily_total_calories} kcal`:""}
${M.number_of_meals?`- Number of Meals: ${M.number_of_meals}`:""}
${M.macros?`- Macro Targets: ${typeof M.macros=="string"?M.macros:JSON.stringify(M.macros)}`:""}

CHAT HISTORY (most recent messages are last):
${xo}

${M.user_context?`
PREVIOUS CHAT HISTORY FROM OTHER PLATFORMS:
${M.user_context}
`:""}

CURRENT MEAL PLAN DETAILS:
${H?`
Your personalized meal plan includes:

DAILY TOTALS:
- Calories: ${((gt=H.totals)==null?void 0:gt.calories)||"Not specified"} kcal
- Protein: ${((rr=H.totals)==null?void 0:rr.protein)||"Not specified"}g
- Fat: ${((ur=H.totals)==null?void 0:ur.fat)||"Not specified"}g
- Carbs: ${((vt=H.totals)==null?void 0:vt.carbs)||"Not specified"}g

MEALS:
${((Er=H.meals)==null?void 0:Er.map((Oe,Xe)=>{var jt,Tt,Ue,dt,Or,ln,dr,fr,Jt,Qt,Wt,Ht,It,Nn,Cn,$,z,se,ue,he,ge,fe,we,ct;return`
${Xe+1}. ${Oe.meal}:
   - Main Option: ${((jt=Oe.main)==null?void 0:jt.meal_title)||((Tt=Oe.main)==null?void 0:Tt.name)||"Not specified"}
     Calories: ${((dt=(Ue=Oe.main)==null?void 0:Ue.nutrition)==null?void 0:dt.calories)||"Not specified"} kcal
     Protein: ${((ln=(Or=Oe.main)==null?void 0:Or.nutrition)==null?void 0:ln.protein)||"Not specified"}g
     Fat: ${((fr=(dr=Oe.main)==null?void 0:dr.nutrition)==null?void 0:fr.fat)||"Not specified"}g
     Carbs: ${((Qt=(Jt=Oe.main)==null?void 0:Jt.nutrition)==null?void 0:Qt.carbs)||"Not specified"}g
     Ingredients: ${((Ht=(Wt=Oe.main)==null?void 0:Wt.ingredients)==null?void 0:Ht.map(Ge=>`${Ge.item} (${Ge.household_measure})`).join(", "))||"Not specified"}
   
   - Alternative Option: ${((It=Oe.alternative)==null?void 0:It.meal_title)||((Nn=Oe.alternative)==null?void 0:Nn.name)||"Not specified"}
     Calories: ${(($=(Cn=Oe.alternative)==null?void 0:Cn.nutrition)==null?void 0:$.calories)||"Not specified"} kcal
     Protein: ${((se=(z=Oe.alternative)==null?void 0:z.nutrition)==null?void 0:se.protein)||"Not specified"}g
     Fat: ${((he=(ue=Oe.alternative)==null?void 0:ue.nutrition)==null?void 0:he.fat)||"Not specified"}g
     Carbs: ${((fe=(ge=Oe.alternative)==null?void 0:ge.nutrition)==null?void 0:fe.carbs)||"Not specified"}g
     Ingredients: ${((ct=(we=Oe.alternative)==null?void 0:we.ingredients)==null?void 0:ct.map(Ge=>`${Ge.item} (${Ge.household_measure})`).join(", "))||"Not specified"}
`}).join(`
`))||"No meals specified"}

${H.note?`NOTES: ${H.note}`:""}

RECOMMENDATIONS: ${H.recommendations?JSON.stringify(H.recommendations,null,2):"None specified"}

You can ask me specific questions about any meal, ingredient, nutrition values, or request modifications to your meal plan.
`:"No meal plan available. I can help you create a personalized meal plan based on your preferences and goals."}

---
Your task is to respond to the user's message below, taking into account their specific dietary needs, health goals, allergies, limitations, nutrition targets, and their current meal plan. You can provide detailed information about their meals, suggest modifications, explain nutrition values, and answer any questions about their personalized meal plan.
`;yn?oe=`${ke}The user has sent an image and a message. Analyze them and provide a helpful response.
USER MESSAGE: "${i}"`:oe=`${ke}The user has sent a message. Provide a helpful response.
USER MESSAGE: "${i}"`;let je=`Hi ${r.full_name.split(" ")[0]}! Thank you for your message${yn?" and the food image":""}. 

`;if(M.user_context&&(je+=`I can see from our previous conversations that we've discussed your nutrition journey. I'm here to continue supporting you with your health goals.

`),M.daily_total_calories||M.macros||M.goal){if(je+=`Based on your profile:

`,M.daily_total_calories&&(je+=`• Your daily calorie target: ${M.daily_total_calories} calories
`),M.macros){const Oe=typeof M.macros=="string"?M.macros:JSON.stringify(M.macros);je+=`• Your macro targets: ${Oe}
`}if(M.goal&&(je+=`• Your health goal: ${M.goal}
`),M.activity_level&&(je+=`• Your activity level: ${M.activity_level}
`),M.number_of_meals&&(je+=`• Your meal plan: ${M.number_of_meals} meals per day
`),M.food_allergies||M.food_limitations){if(je+=`
Dietary considerations:
`,M.food_allergies){const Oe=Array.isArray(M.food_allergies)?M.food_allergies.join(", "):M.food_allergies;je+=`• Allergies: ${Oe}
`}if(M.food_limitations){const Oe=Array.isArray(M.food_limitations)?M.food_limitations.join(", "):M.food_limitations;je+=`• Limitations: ${Oe}
`}}}H&&H.meals&&H.meals.length>0?(je+=`
Your personalized meal plan includes:

`,H.totals&&(je+=`📊 Daily Totals:
`,je+=`• Calories: ${H.totals.calories||"Not specified"} kcal
`,je+=`• Protein: ${H.totals.protein||"Not specified"}g
`,je+=`• Fat: ${H.totals.fat||"Not specified"}g
`,je+=`• Carbs: ${H.totals.carbs||"Not specified"}g

`),je+=`🍽️ Your Meals:
`,H.meals.forEach((Oe,Xe)=>{var jt,Tt,Ue,dt;je+=`${Xe+1}. ${Oe.meal}
`,(jt=Oe.main)!=null&&jt.meal_title&&(je+=`   Main: ${Oe.main.meal_title} (${((Tt=Oe.main.nutrition)==null?void 0:Tt.calories)||"N/A"} kcal)
`),(Ue=Oe.alternative)!=null&&Ue.meal_title&&(je+=`   Alternative: ${Oe.alternative.meal_title} (${((dt=Oe.alternative.nutrition)==null?void 0:dt.calories)||"N/A"} kcal)
`)}),je+=`
You can ask me specific questions about any meal, ingredient, or nutrition values in your plan!
`):H?(je+=`
Your current meal plan details:
`,H.daily_total_calories&&(je+=`• Plan calories: ${H.daily_total_calories} calories
`),H.macros_target&&(je+=`• Plan macro targets: ${JSON.stringify(H.macros_target)}
`),H.dietary_restrictions&&(je+=`• Plan dietary restrictions: ${JSON.stringify(H.dietary_restrictions)}
`),H.recommendations&&(je+=`
Personalized recommendations:
${H.recommendations}
`)):(je+=`
Here are some general nutrition insights tailored for you:

`,je+=`1. Focus on balanced meals with protein, healthy fats, and complex carbohydrates
`,je+=`2. Stay well-hydrated with at least 8 glasses of water daily
`,je+=`3. Eat regular meals to maintain stable energy levels
`,M.goal&&(je+=`4. Keep your health goal in mind: ${M.goal}
`)),yn&&(je+=`

Regarding the food in your image:
`,je+=`- This appears to be a meal you've shared for analysis
`,je+=`- Consider how it fits into your daily nutrition goals
`,je+=`- Feel free to ask specific questions about the nutritional content
`),je+=`

Would you like more specific advice about your meal plan or nutrition goals?`;try{const Oe=await mJ({prompt:oe,add_context_from_internet:!1,base64Image:yn||void 0});Oe&&(je=Oe)}catch(Oe){console.error("Error getting AI response, using fallback:",Oe)}if(je.trim().startsWith("{")){const Oe=je.lastIndexOf("}");if(Oe!==-1){const Xe=je.substring(0,Oe+1),jt=je.substring(Oe+1).trim();try{jt&&(JSON.parse(Xe),je=jt)}catch{}}}console.log("📬 Adding AI response to new user_message_queue...");const Le={conversation_id:B,client_id:_e,dietitian_id:Ae==null?void 0:Ae.id,user_code:r.user_code,content:je,role:"assistant",priority:1};if(!Le.client_id||!Le.dietitian_id){console.error("❌ Missing required IDs for queue:",{clientId:_e,dietitianId:Ae==null?void 0:Ae.id}),b("Missing required user information for message queue");return}await Wr(Le),console.log("✅ AI response added to new queue");const tt={id:`temp-${Date.now()}`,role:"assistant",content:je,conversation_id:B,created_at:new Date().toISOString(),attachments:yn?{image_url:`data:image/jpeg;base64,${yn}`}:null};T(Oe=>[tt,...Oe]),xr(!1),s(""),P(null),x.current&&(x.current.value=""),qr(`✅ AI response sent to ${r.full_name}!`,"success"),console.log("✅ Message exchange completed successfully")}catch(Sn){console.error("Error sending message:",Sn),b(t.failedToSend||"Failed to send message")}finally{h(!1)}}},Fe=ye=>{if(ye.target.files&&ye.target.files.length>0){const Ne=ye.target.files[0];Ne instanceof File?P(Ne):console.error("Selected file is not a valid File object.")}},Ze=()=>{var ye;(ye=_.current)==null||ye.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{Gt("bottom"),xr(!1)},100)},He=ye=>{ye.key==="Enter"&&!ye.shiftKey&&(ye.preventDefault(),Ve())},wt=ye=>{if(!ye)return{text:ye,imageUrl:null};const Ne=/https?:\/\/[^\s]+\.(jpg|jpeg|png|gif|webp)(\?[^\s]*)?/gi,De=ye.match(Ne);return De&&De.length>0?{text:ye.replace(Ne,"").trim(),imageUrl:De[0]}:{text:ye,imageUrl:null}},kt=()=>{const ye=S.current;if(!ye)return;const{scrollTop:Ne,scrollHeight:De,clientHeight:gt}=ye,ur=De-gt-Ne;bt(Ne),ur<=50?(Gt("bottom"),xr(!1),console.log("📍 User scrolled to bottom, cleared new message indicator")):Ne<=50?(Gt("top"),console.log("📍 User scrolled to top")):(Gt("middle"),console.log("📍 User scrolled to middle, distance from bottom:",ur))},Je=ye=>{if(!ye)return t.justNow||"Just now";const Ne=new Date(ye),De=new Date,gt=De.getTime()-Ne.getTime(),rr=Ne.toDateString()===De.toDateString(),ur=new Date(De.getTime()-24*60*60*1e3).toDateString()===Ne.toDateString();if(gt<60*60*1e3){const vt=Math.floor(gt/6e4);if(vt<1)return t.justNow||"Just now";if(vt<60)return`${vt} ${t.minAgo||"min ago"}`}return rr?Ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1}):ur?`${t.yesterday||"Yesterday"} ${Ne.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1})}`:Ne.toLocaleDateString([],{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})},Ft=(ye,Ne)=>{if(!(ye!=null&&ye.created_at)||!(Ne!=null&&Ne.created_at))return!1;const De=new Date(ye.created_at).toDateString(),gt=new Date(Ne.created_at).toDateString();return De!==gt},pr=ye=>{if(!ye)return"";const Ne=new Date(ye),De=new Date,gt=Ne.toDateString()===De.toDateString(),rr=new Date(De.getTime()-24*60*60*1e3).toDateString()===Ne.toDateString();return gt?t.today||"Today":rr?t.yesterday||"Yesterday":Ne.toLocaleDateString([],{weekday:"long",month:"long",day:"numeric",year:"numeric"})},br=ye=>ye.isDietitianMessage||ye.role==="assistant"&&ye.content&&(ye.content.startsWith("Dr. ")||ye.content.match(/^[A-Z][a-z]+: /)),Lr=ye=>{var vt;const{text:Ne,imageUrl:De}=wt(ye.content),gt=(vt=ye.attachments)==null?void 0:vt.image_url,rr=De,ur=br(ye);return o.jsxs(o.Fragment,{children:[gt&&o.jsx("div",{className:"mb-3",children:o.jsx("img",{src:gt,alt:t.uploadedFood||"Uploaded food image",className:"rounded-lg max-w-full max-h-64 object-cover shadow-sm border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity duration-200",onClick:()=>Yn(gt),onError:Er=>{Er.target.style.display="none",console.error("Failed to load direct image:",gt)}})}),rr&&!gt&&o.jsx("div",{className:"mb-3",children:o.jsx("img",{src:rr,alt:"Message image",className:"rounded-lg max-w-full max-h-64 object-cover shadow-sm border border-gray-200 cursor-pointer hover:opacity-90 transition-opacity duration-200",onClick:()=>Yn(rr),onError:Er=>{Er.target.style.display="none",console.error("Failed to load content image:",rr)}})}),ur?o.jsx("div",{className:"space-y-1",children:(()=>{const Er=Ne.indexOf(": ");if(Er!==-1){const Sn=Ne.substring(0,Er),Jn=Ne.substring(Er+2);return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center shadow-sm",children:o.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),o.jsx("span",{className:"text-sm font-semibold text-emerald-700 bg-emerald-50 px-2 py-1 rounded-lg",children:Sn})]}),o.jsx("div",{className:"whitespace-pre-wrap text-slate-800 leading-relaxed pl-8 border-l-2 border-emerald-200",children:Jn})]})}else return o.jsx("div",{className:"whitespace-pre-wrap",children:Ne})})()}):o.jsx("div",{className:"whitespace-pre-wrap",children:Ne})]})};y.useEffect(()=>{var ye;!U&&A.length>0&&Pt==="bottom"&&((ye=_.current)==null||ye.scrollIntoView({behavior:"auto"}))},[A,U,Pt]);const Fr=async()=>{if(!B||!te||U)return;const ye=S.current,Ne=ye?ye.scrollHeight:0;O(!0);try{const De=await Yl.listByConversation(B,{limit:20,beforeMessageId:te});De.length>0?(T(gt=>[...De,...gt]),Q(De[0].id),I(De.length===20)):I(!1),setTimeout(()=>{ye&&(ye.scrollTop=ye.scrollHeight-Ne)},0)}catch{b(t.failedToLoadClientData)}finally{O(!1)}};return m?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):w?o.jsxs(ei,{className:"max-w-lg mx-auto mt-8",children:[o.jsx(K7,{className:"h-4 w-4"}),o.jsxs(ti,{className:"flex items-center justify-between",children:[o.jsx("div",{children:w}),o.jsxs(Te,{variant:"outline",size:"sm",onClick:vn,children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),"Retry"]})]})]}):o.jsxs("div",{className:"h-[calc(100vh-8rem)] bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/50",children:[o.jsxs("div",{className:"flex flex-col h-full space-y-3 p-4",children:[r&&o.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-white/90 to-white/80 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)]",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 via-purple-500/5 to-pink-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-blue-400/10 to-purple-400/10 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-indigo-400/10 to-pink-400/10 rounded-full blur-3xl"}),o.jsx("div",{className:"relative z-10 p-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-3",children:[o.jsx("div",{className:"flex-1 space-y-2",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(Xs,{className:"h-5 w-5 text-white"})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg font-bold bg-gradient-to-r from-slate-800 to-indigo-600 bg-clip-text text-transparent",children:[t.chatWith," ",r.full_name]}),o.jsxs("p",{className:"text-slate-600 text-sm",children:[t.clientCode,": ",o.jsx("span",{className:"font-mono bg-slate-100 px-2 py-1 rounded-lg text-xs",children:r.user_code})]})]})]})}),o.jsxs("div",{className:"flex items-center gap-3",children:[c&&o.jsx("div",{className:"px-3 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl",children:o.jsxs("div",{className:"text-sm",children:[o.jsxs("span",{className:"text-slate-600",children:[t.dailyCalories,": "]}),o.jsx("span",{className:"font-bold text-blue-800",children:c.daily_total_calories||t.notSet})]})}),o.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${F?"bg-yellow-500":"bg-green-500"} ${F?"":"animate-pulse"}`}),o.jsx("span",{className:"text-sm font-medium text-green-700",children:F?t.userActive||"User Active":t.autoRefresh||"Auto-refresh"})]}),o.jsx(Te,{variant:"outline",size:"sm",onClick:vn,disabled:de,className:"px-3 py-2 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 hover:from-blue-100 hover:to-indigo-100 text-blue-700 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:de?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),o.jsx("span",{children:t.refreshing||"Refreshing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(eo,{className:"h-4 w-4 mr-2"}),t.refresh||"Refresh"]})}),o.jsx(Te,{variant:"outline",size:"sm",onClick:ce,className:"px-3 py-2 bg-gradient-to-r from-orange-50 to-red-50 border border-orange-200 hover:from-orange-100 hover:to-red-100 text-orange-700 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:"📬 View Queue"}),q&&o.jsxs("div",{className:"text-xs text-slate-500 px-2",children:["Last: ",q.toLocaleTimeString()]})]})]})})]}),r?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-white/90 to-white/80 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)] flex-1 flex flex-col min-h-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-green-500/5 via-blue-500/5 to-purple-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-green-400/10 to-blue-400/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 flex-1 p-4 overflow-hidden",children:[er&&Pt!=="bottom"&&o.jsx("div",{className:"flex justify-center mb-3",children:o.jsxs(Te,{onClick:Ze,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white font-semibold py-2 px-4 rounded-xl shadow-lg hover:from-green-600 hover:to-emerald-700 hover:shadow-xl transition-all duration-300 animate-pulse",children:["📬 ",t.newMessagesClickToView||"New messages - Click to view"]})}),o.jsxs(R5,{className:"h-full pr-3",ref:S,children:[R&&o.jsx("div",{className:"flex justify-center py-3",children:o.jsx(Te,{onClick:Fr,disabled:U,className:`
                          bg-gradient-to-r from-blue-500 to-indigo-600
                          text-white font-semibold
                          py-2 px-6
                          rounded-xl
                          shadow-lg
                          transition-all duration-300 ease-in-out
                          hover:from-blue-600 hover:to-indigo-700 hover:shadow-xl hover:scale-105
                          focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:ring-opacity-50
                          disabled:opacity-50 disabled:cursor-not-allowed
                        `,children:U?o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t.loadingMore||"Loading more..."]}):t.loadMore||"Load more"})}),A.length>0?A.map((ye,Ne)=>{var De;return o.jsx("div",{className:`mb-4 flex ${ye.role==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:"flex flex-col max-w-[85%]",children:[Ft(ye,A[Ne-1])&&o.jsx("div",{className:"text-center py-4",children:o.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-slate-100 to-slate-200 border border-slate-300 rounded-full shadow-sm",children:[o.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full"}),o.jsx("span",{className:"text-slate-600 text-sm font-medium",children:pr(ye.created_at)}),o.jsx("div",{className:"w-2 h-2 bg-slate-400 rounded-full"})]})}),o.jsxs("div",{className:`rounded-xl px-4 py-3 pb-8 shadow-lg transition-all duration-300 hover:shadow-xl relative ${ye.role==="user"?"bg-gradient-to-r from-emerald-500 to-teal-600 text-white":"bg-gradient-to-r from-slate-50 to-white border border-slate-200 text-slate-800"}`,children:[o.jsx("div",{className:"pr-16",children:Lr(ye)}),o.jsx("div",{className:`absolute bottom-2.5 right-2.5 text-xs ${ye.role==="user"?"text-emerald-50":"text-slate-400"}`,children:o.jsx("span",{className:`px-1.5 py-0.5 rounded-md font-mono text-center ${ye.role==="user"?"bg-emerald-600/20":"bg-slate-100/80"}`,children:(De=ye.id)!=null&&De.toString().startsWith("temp-")?"⏳":Je(ye.created_at)})})]})]})},ye.id||Ne)}):o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-200 to-slate-300 rounded-2xl flex items-center justify-center mb-4 shadow-lg",children:o.jsx(Ki,{className:"h-8 w-8 text-slate-400"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:t.startConversation}),o.jsxs("p",{className:"text-slate-600 max-w-md",children:[t.chatWith," ",r.full_name," ",t.chatAboutNutrition]})]}),o.jsx("div",{ref:_})]})]})]}),o.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-white/90 to-white/80 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)]",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/5 via-teal-500/5 to-blue-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-gradient-to-br from-emerald-400/10 to-teal-400/10 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 p-4",children:[o.jsxs("div",{className:"flex gap-3",children:[o.jsx("input",{type:"file",ref:x,accept:"image/*",className:"hidden",onChange:Fe}),o.jsx(Te,{variant:"outline",size:"icon",onClick:()=>{var ye;return(ye=x.current)==null?void 0:ye.click()},disabled:f,className:`w-12 h-12 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 hover:from-blue-100 hover:to-indigo-100 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 ${N?"bg-gradient-to-r from-emerald-50 to-teal-50 border-emerald-200 text-emerald-600":"text-blue-600"}`,children:o.jsx(dk,{className:"h-5 w-5"})}),o.jsx(Ut,{value:i,onChange:ye=>s(ye.target.value),onKeyPress:He,placeholder:`${t.messageClient} ${r.full_name}...`,disabled:f,className:"flex-1 h-12 bg-white/60 backdrop-blur-sm border border-white/20 rounded-xl shadow-lg focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500/40 transition-all duration-300"}),o.jsx(Te,{onClick:Ve,disabled:!i.trim()&&!N||f,className:"w-12 h-12 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:f?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):o.jsx(wW,{className:"h-5 w-5"})})]}),N&&o.jsx("div",{className:"mt-3 p-2 bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200 rounded-xl",children:o.jsxs("div",{className:"flex items-center gap-2 text-emerald-700 text-sm",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:o.jsx(dk,{className:"h-3 w-3 text-white"})}),o.jsxs("span",{className:"font-medium",children:[t.imageSelected,": ",N.name]})]})})]})]})]}):o.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-white/90 to-white/80 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.1)] flex-1 flex flex-col min-h-0",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-500/5 via-gray-500/5 to-blue-500/5"}),o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-slate-400/10 to-gray-400/10 rounded-full blur-3xl"}),o.jsx("div",{className:"relative z-10 flex-1 p-8 overflow-hidden",children:o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-slate-200 to-slate-300 rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:o.jsx(Xs,{className:"h-10 w-10 text-slate-400"})}),o.jsx("h3",{className:"text-2xl font-bold text-slate-700 mb-3",children:t.noClientSelected}),o.jsx("p",{className:"text-slate-600 max-w-md",children:t.selectClientToStart})]})})]}),o.jsx(Bm,{open:Y,onOpenChange:ie,children:o.jsxs(Dd,{className:"max-w-5xl max-h-[90vh] p-0 bg-white/95 backdrop-blur-2xl border border-white/20 shadow-[0_25px_50px_-12px_rgba(0,0,0,0.25)] rounded-3xl",children:[o.jsx(Id,{className:"p-6 pb-0",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx($d,{className:"text-xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent",children:t.imageViewer||"Image Viewer"}),o.jsx(Te,{variant:"ghost",size:"icon",onClick:Gr,className:"w-10 h-10 bg-gradient-to-r from-red-50 to-pink-50 hover:from-red-100 hover:to-pink-100 text-red-600 rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300",children:o.jsx(ma,{className:"h-5 w-5"})})]})}),o.jsx("div",{className:"p-6 pt-0",children:W&&o.jsx("div",{className:"flex justify-center",children:o.jsx("img",{src:W,alt:"Full size image",className:"max-w-full max-h-[70vh] object-contain rounded-2xl shadow-2xl border border-white/20",onError:ye=>{ye.target.style.display="none",console.error("Failed to load modal image:",W)}})})})]})})]}),pe&&o.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right-2 duration-300",children:o.jsxs("div",{className:`
            flex items-center gap-3 p-4 rounded-xl shadow-2xl border-2 backdrop-blur-xl
            ${Ct==="success"?"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200 text-green-800":"bg-gradient-to-r from-red-50 to-pink-50 border-red-200 text-red-800"}
          `,children:[o.jsx("div",{className:`
              w-8 h-8 rounded-full flex items-center justify-center
              ${Ct==="success"?"bg-gradient-to-r from-green-500 to-emerald-600":"bg-gradient-to-r from-red-500 to-pink-600"}
            `,children:Ct==="success"?o.jsx(T7,{className:"w-5 h-5 text-white"}):o.jsx(ma,{className:"w-5 h-5 text-white"})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"font-semibold text-sm",children:ze})}),o.jsx("button",{onClick:()=>Qe(!1),className:`
                w-6 h-6 rounded-full flex items-center justify-center transition-colors
                ${Ct==="success"?"hover:bg-green-200 text-green-600":"hover:bg-red-200 text-red-600"}
              `,children:o.jsx(ma,{className:"w-4 h-4"})})]})})]})}function AJ(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),[a,i]=y.useState(null),[s,c]=y.useState({users:!1,clients:!1,menus:!1,chats:!1});y.useEffect(()=>{d()},[]);const d=async()=>{try{const b=await Qh.me();i(b)}catch(b){console.error("Error loading user data:",b)}},f=async()=>{t(!0),n("Updating existing users...");try{const b=await Qh.me(),x=await Xh.filter({dietitian_id:b.id});x.length>0&&!b.selectedClientId&&(await Qh.updateMyUserData({selectedClientId:x[0].id}),n("Updated current user with selected client!")),c(_=>({..._,users:!0}))}catch(b){console.error("Error updating existing users:",b),n("Error updating users. Please try again.")}finally{t(!1)}},h=async()=>{t(!0),n("Updating user profile data...");try{const b={specialization:"Weight Management and Sports Nutrition",certification:"Registered Dietitian, MS in Clinical Nutrition",years_of_experience:8,clinic_name:"BetterChoice Nutrition Center",clinic_address:"123 Health Street, Suite 450, San Francisco, CA 94110",profile_bio:"I'm a certified nutritionist with over 8 years of experience helping clients achieve their health goals through personalized nutrition plans. My approach focuses on sustainable lifestyle changes rather than quick fixes.",languages:["English","Spanish","French"],consultation_fee:120,available_times:["Monday 9-5","Wednesday 9-5","Friday 9-5","Tuesday Evenings"],social_media:{linkedin:"linkedin.com/in/yourprofile",twitter:"@nutritionist",instagram:"@betterchoice.nutrition"}};await Qh.updateMyUserData(b),await f(),c(x=>({...x,users:!0})),n("User profile updated successfully!")}catch(b){console.error("Error updating user data:",b),n("Error updating user profile. Please try again.")}finally{t(!1)}},m=async()=>{if(!a){n("Please wait for user data to load first");return}t(!0),n("Generating clients...");try{const b=[{code:"XPRGDY",user_id_number:123456,full_name:"Emily Johnson",email:"emily.j@example.com",phone:"555-0101",height:165,weight:62,age:29,gender:"female",activity_level:"moderate",goal:"lose",notes:"Wants to lose 5kg for wedding in 3 months",dietary_restrictions:["dairy-free"],dietitian_id:a.id},{code:"MNKFQA",user_id_number:234567,full_name:"James Wilson",email:"j.wilson@example.com",phone:"555-0102",height:182,weight:88,age:35,gender:"male",activity_level:"very",goal:"maintain",notes:"Fitness enthusiast, trains 5x weekly",dietary_restrictions:[],dietitian_id:a.id},{code:"BCPLVZ",user_id_number:345678,full_name:"Sophia Martinez",email:"s.martinez@example.com",phone:"555-0103",height:170,weight:75,age:42,gender:"female",activity_level:"light",goal:"lose",notes:"Thyroid condition, needs low sodium diet",dietary_restrictions:["low-sodium"],dietitian_id:a.id}];for(const x of b)await Xh.create(x);c(x=>({...x,clients:!0})),n("Clients generated successfully!")}catch(b){console.error("Error generating clients:",b),n("Error generating clients. Please try again.")}finally{t(!1)}},g=async()=>{if(!a){n("Please wait for user data to load first");return}t(!0),n("Generating menus...");try{const b=await Xh.filter({dietitian_id:a.id});for(const x of b){const _={name:`Weekly Meal Plan for ${x.full_name}`,user_code:x.code,client_id:x.id,status:"published",total_calories:2e3,total_protein:150,total_carbs:200,total_fat:67,meals:[{name:"Breakfast",time:"8:00 AM",calories:500,items:[{name:"Oatmeal with Berries",quantity:"1 bowl",calories:300,protein:10,carbs:45,fat:6},{name:"Greek Yogurt",quantity:"1 cup",calories:200,protein:20,carbs:8,fat:4}]},{name:"Lunch",time:"1:00 PM",calories:700,items:[{name:"Grilled Chicken Salad",quantity:"1 large bowl",calories:450,protein:40,carbs:20,fat:22},{name:"Whole Grain Bread",quantity:"2 slices",calories:250,protein:8,carbs:48,fat:4}]}],notes:"Focus on protein-rich foods and complex carbohydrates. Stay hydrated throughout the day."};await $s.create(_)}c(x=>({...x,menus:!0})),n("Menus generated successfully!")}catch(b){console.error("Error generating menus:",b),n("Error generating menus. Please try again.")}finally{t(!1)}},w=async()=>{if(!a){n("Please wait for user data to load first");return}t(!0),n("Generating chats...");try{const b=await Xh.filter({dietitian_id:a.id});for(const x of b){const _={client_id:x.id,user_code:x.code,messages:[{role:"user",content:"Hi! I wanted to ask about my new meal plan."},{role:"assistant",content:"Hello! Of course, I'd be happy to help you with your meal plan. What specific questions do you have?"},{role:"user",content:"I'm finding it hard to hit my protein goals. Any suggestions?"},{role:"assistant",content:`I understand. Here are some easy ways to increase your protein intake:
1. Add Greek yogurt to your breakfast
2. Include lean protein like chicken or fish in your meals
3. Keep protein-rich snacks handy
4. Consider a post-workout protein shake

Would you like me to suggest specific protein-rich recipes?`}]};await Xq.create(_)}c(x=>({...x,chats:!0})),n("Chats generated successfully!")}catch(b){console.error("Error generating chats:",b),n("Error generating chats. Please try again.")}finally{t(!1)}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Generator"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Generate sample data for your nutrition platform"})]}),r&&o.jsx(ei,{children:o.jsx(ti,{children:r})}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[o.jsxs(At,{children:[o.jsxs(Sr,{children:[o.jsxs(Nr,{className:"flex items-center gap-2",children:[o.jsx(Xs,{className:"h-5 w-5"}),"User Profile"]}),o.jsx(zr,{children:"Generate your professional profile data"})]}),o.jsx(Et,{children:o.jsx("p",{className:"text-sm text-gray-500",children:"This will create sample professional data for your user profile, including specialization, certifications, and clinic details."})}),o.jsx(Yo,{children:o.jsx(Te,{className:"w-full bg-green-600 hover:bg-green-700",onClick:h,disabled:e||s.users,children:s.users?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4"}),"Generated"]}):e?o.jsxs(o.Fragment,{children:[o.jsx(Xu,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zh,{className:"mr-2 h-4 w-4"}),"Generate User Data"]})})})]}),o.jsxs(At,{children:[o.jsxs(Sr,{children:[o.jsxs(Nr,{className:"flex items-center gap-2",children:[o.jsx(Xs,{className:"h-5 w-5"}),"Clients"]}),o.jsx(zr,{children:"Generate sample client data"})]}),o.jsx(Et,{children:o.jsx("p",{className:"text-sm text-gray-500",children:"This will create sample clients with various health goals and dietary requirements."})}),o.jsx(Yo,{children:o.jsx(Te,{className:"w-full bg-green-600 hover:bg-green-700",onClick:m,disabled:e||!a||s.clients,children:s.clients?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4"}),"Generated"]}):e?o.jsxs(o.Fragment,{children:[o.jsx(Xu,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zh,{className:"mr-2 h-4 w-4"}),"Generate Clients"]})})})]}),o.jsxs(At,{children:[o.jsxs(Sr,{children:[o.jsxs(Nr,{className:"flex items-center gap-2",children:[o.jsx(h_,{className:"h-5 w-5"}),"Menus"]}),o.jsx(zr,{children:"Generate sample meal plans"})]}),o.jsx(Et,{children:o.jsx("p",{className:"text-sm text-gray-500",children:"This will create sample meal plans for each client with detailed meal information."})}),o.jsx(Yo,{children:o.jsx(Te,{className:"w-full bg-green-600 hover:bg-green-700",onClick:g,disabled:e||!a||!s.clients||s.menus,children:s.menus?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4"}),"Generated"]}):e?o.jsxs(o.Fragment,{children:[o.jsx(Xu,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zh,{className:"mr-2 h-4 w-4"}),"Generate Menus"]})})})]}),o.jsxs(At,{children:[o.jsxs(Sr,{children:[o.jsxs(Nr,{className:"flex items-center gap-2",children:[o.jsx(Ki,{className:"h-5 w-5"}),"Chats"]}),o.jsx(zr,{children:"Generate sample chat conversations"})]}),o.jsx(Et,{children:o.jsx("p",{className:"text-sm text-gray-500",children:"This will create sample chat conversations with clients including various nutrition-related queries."})}),o.jsx(Yo,{children:o.jsx(Te,{className:"w-full bg-green-600 hover:bg-green-700",onClick:w,disabled:e||!a||!s.clients||s.chats,children:s.chats?o.jsxs(o.Fragment,{children:[o.jsx(Ls,{className:"mr-2 h-4 w-4"}),"Generated"]}):e?o.jsxs(o.Fragment,{children:[o.jsx(Xu,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Zh,{className:"mr-2 h-4 w-4"}),"Generate Chats"]})})})]}),o.jsxs(At,{children:[o.jsxs(Sr,{children:[o.jsxs(Nr,{className:"flex items-center gap-2",children:[o.jsx(eo,{className:"h-5 w-5"}),"Update Existing Users"]}),o.jsx(zr,{children:"Update existing users with selected clients"})]}),o.jsx(Et,{children:o.jsx("p",{className:"text-sm text-gray-500",children:"This will ensure all users have a selectedClientId set if they have clients."})}),o.jsx(Yo,{children:o.jsx(Te,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:f,disabled:e,children:e?o.jsxs(o.Fragment,{children:[o.jsx(Xu,{className:"mr-2 h-4 w-4 animate-spin"}),"Updating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(eo,{className:"mr-2 h-4 w-4"}),"Update Users"]})})})]})]}),Object.values(s).some(b=>b)&&o.jsx("div",{className:"flex justify-center",children:o.jsxs(Te,{variant:"outline",className:"mt-4",children:[o.jsx(eo,{className:"mr-2 h-4 w-4"}),"Refresh Page"]})})]})}var gg="Tabs",[EJ,xme]=xa(gg,[rg]),I5=rg(),[OJ,Zj]=EJ(gg),$5=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:s="horizontal",dir:c,activationMode:d="automatic",...f}=e,h=ru(c),[m,g]=oo({prop:n,onChange:a,defaultProp:i??"",caller:gg});return o.jsx(OJ,{scope:r,baseId:ai(),value:m,onValueChange:g,orientation:s,dir:h,activationMode:d,children:o.jsx(mt.div,{dir:h,"data-orientation":s,...f,ref:t})})});$5.displayName=gg;var L5="TabsList",F5=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Zj(L5,r),s=I5(r);return o.jsx(xI,{asChild:!0,...s,orientation:i.orientation,dir:i.dir,loop:n,children:o.jsx(mt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});F5.displayName=L5;var B5="TabsTrigger",U5=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,s=Zj(B5,r),c=I5(r),d=W5(s.baseId,n),f=H5(s.baseId,n),h=n===s.value;return o.jsx(bI,{asChild:!0,...c,focusable:!a,active:h,children:o.jsx(mt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":f,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:Ke(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?s.onValueChange(n):m.preventDefault()}),onKeyDown:Ke(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&s.onValueChange(n)}),onFocus:Ke(e.onFocus,()=>{const m=s.activationMode!=="manual";!h&&!a&&m&&s.onValueChange(n)})})})});U5.displayName=B5;var z5="TabsContent",q5=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...s}=e,c=Zj(z5,r),d=W5(c.baseId,n),f=H5(c.baseId,n),h=n===c.value,m=y.useRef(h);return y.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),o.jsx($n,{present:a||h,children:({present:g})=>o.jsx(mt.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...s,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&i})})});q5.displayName=z5;function W5(e,t){return`${e}-trigger-${t}`}function H5(e,t){return`${e}-content-${t}`}var TJ=$5,V5=F5,G5=U5,K5=q5;const MJ=TJ,Y5=y.forwardRef(({className:e,...t},r)=>o.jsx(V5,{ref:r,className:ht("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));Y5.displayName=V5.displayName;const dd=y.forwardRef(({className:e,...t},r)=>o.jsx(G5,{ref:r,className:ht("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));dd.displayName=G5.displayName;const fd=y.forwardRef(({className:e,...t},r)=>o.jsx(K5,{ref:r,className:ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fd.displayName=K5.displayName;const Kk=({value:e,onChange:t,mealIndex:r,itemIndex:n,ingredientIndex:a})=>{const[i,s]=y.useState(!1),[c,d]=y.useState(e),[f,h]=y.useState([]),[m,g]=y.useState(!1),[w,b]=y.useState(!1),x=y.useRef(null),_=y.useRef(null);y.useEffect(()=>{d(e)},[e]),y.useEffect(()=>()=>{_.current&&clearTimeout(_.current)},[]);const S=async k=>{if(k.length<2){h([]);return}b(!0);try{const C=await fetch(`sqlservice-erdve2fpeda4f5hg.eastus2-01.azurewebsites.net/api/suggestions?query=${encodeURIComponent(k)}`);if(!C.ok)throw new Error("Network response was not ok");const A=await C.json();h(A)}catch(C){console.error("Error fetching suggestions:",C),h([])}finally{b(!1)}},N=k=>{const C=k.target.value;d(C),g(!0),_.current&&clearTimeout(_.current),_.current=setTimeout(()=>{S(C)},300)},P=async k=>{try{const C=await fetch(`sqlservice-erdve2fpeda4f5hg.eastus2-01.azurewebsites.net/api/ingredient-nutrition?name=${encodeURIComponent(k.english)}`);if(!C.ok)throw new Error("Failed to fetch nutrition data");const A=await C.json(),T={ingredientName:k.hebrew||k.english,protein:A.Protein?`${A.Protein}g`:"0g",fat:A.Total_lipid__fat_?`${A.Total_lipid__fat_}g`:"0g",energy:A.Energy||0,portionUser:"100g",portionSI:"100g"};t(T,r,n,a),d(k.hebrew||k.english),g(!1),s(!1)}catch(C){console.error("Error fetching nutrition data:",C)}};return i?o.jsxs("div",{className:"relative",children:[o.jsx("input",{ref:x,type:"text",value:c,onChange:N,onFocus:()=>g(!0),className:"w-full px-2 py-1 border border-gray-300 rounded text-right",dir:"rtl",autoFocus:!0}),w&&o.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2",children:o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}),m&&f.length>0&&o.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg",children:o.jsx("ul",{className:"py-1 max-h-60 overflow-auto",children:f.map((k,C)=>o.jsx("li",{onClick:()=>P(k),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-right",children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:k.hebrew}),o.jsx("span",{className:"text-sm text-gray-500",children:k.english})]})},C))})})]}):o.jsx("div",{onClick:()=>{s(!0),h([]),g(!1)},className:"cursor-pointer hover:bg-gray-50 px-2 py-1 rounded text-right",dir:"rtl",children:e})},ec=({value:e,onChange:t,type:r="text"})=>{const[n,a]=y.useState(!1),[i,s]=y.useState(e),c=()=>{t(i),a(!1)};return n?o.jsxs("div",{className:"flex gap-2 items-center",children:[o.jsx("input",{type:r,value:i,onChange:d=>s(d.target.value),className:"border border-gray-300 rounded px-2 py-1 text-sm",onBlur:c,autoFocus:!0}),o.jsx("button",{onClick:c,className:"text-green-600 hover:text-green-800 text-sm",children:"שמור"})]}):o.jsx("div",{onClick:()=>a(!0),className:"cursor-pointer hover:bg-gray-50 px-2 py-1 rounded",children:e})},RJ=()=>{var d;const{language:e,translations:t}=ya(),[r,n]=y.useState(null),[a,i]=y.useState(!1),[s,c]=y.useState("overview");return y.useEffect(()=>{fetch("/data.json").then(f=>f.json()).then(n).catch(console.error)},[]),r?o.jsxs("div",{className:"relative min-h-screen pb-16",children:[o.jsx("div",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-sm border-b border-gray-200",children:o.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[o.jsx("h1",{className:"text-2xl font-semibold",children:r.programName}),o.jsx("button",{onClick:()=>i(!a),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors",children:t.editPlan})]})}),o.jsx("div",{className:"container mx-auto px-4 mt-6",children:o.jsxs(MJ,{defaultValue:"overview",className:"w-full",value:s,onValueChange:c,children:[o.jsxs(Y5,{className:"grid w-full grid-cols-4",children:[o.jsx(dd,{value:"overview",children:t.overview||"Overview"}),o.jsx(dd,{value:"meals",children:t.meals||"Meals"}),o.jsx(dd,{value:"nutrition",children:t.nutritionValues||"Nutrition"}),o.jsx(dd,{value:"recommendations",children:t.recommendations||"Recommendations"})]}),o.jsx(fd,{value:"overview",className:"mt-6",children:o.jsx("div",{className:"grid gap-4",children:o.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:t.clientInfo||"Client Information"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:t.name||"Name"}),o.jsx("p",{className:"font-medium",children:r.client.name})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:t.age||"Age"}),o.jsx("p",{className:"font-medium",children:r.client.age})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:t.height||"Height"}),o.jsxs("p",{className:"font-medium",children:[r.client.height_cm," cm"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-600",children:t.weight||"Weight"}),o.jsxs("p",{className:"font-medium",children:[r.client.weight_kg," kg"]})]})]})]})})}),o.jsx(fd,{value:"meals",className:"mt-6",children:o.jsx("div",{className:"space-y-6",children:(d=r.meals)==null?void 0:d.map((f,h)=>{var m;return o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-6 border-b border-gray-100",children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[a?o.jsx(ec,{value:f.mealName,onChange:g=>{n(w=>{const b={...w};return b.meals[h].mealName=g,b})}}):o.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:f.mealName}),o.jsx("span",{className:"text-sm bg-gray-100 text-gray-600 px-2 py-1 rounded",children:f.recommendedTime})]}),o.jsx("div",{className:"flex gap-4 text-sm text-gray-600",children:a?o.jsxs(o.Fragment,{children:[o.jsxs("span",{children:[o.jsx(ec,{value:f.mealCalories,onChange:g=>{n(w=>{const b={...w};return b.meals[h].mealCalories=parseInt(g),b})},type:"number"})," ",t.calories]}),o.jsxs("span",{children:[t.protein,": ",o.jsx(ec,{value:f.mealProtein,onChange:g=>{n(w=>{const b={...w};return b.meals[h].mealProtein=g,b})}})]}),o.jsxs("span",{children:[t.fat,": ",o.jsx(ec,{value:f.mealFat,onChange:g=>{n(w=>{const b={...w};return b.meals[h].mealFat=g,b})}})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("span",{children:[f.mealCalories," ",t.calories]}),o.jsxs("span",{children:[t.protein,": ",f.mealProtein]}),o.jsxs("span",{children:[t.fat,": ",f.mealFat]})]})})]})})}),o.jsx("div",{className:"divide-y divide-gray-100",children:(m=f.items)==null?void 0:m.map((g,w)=>{var b;return o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:a?o.jsx(ec,{value:g.itemName,onChange:x=>{n(_=>{const S={..._};return S.meals[h].items[w].itemName=x,S})}}):g.itemName}),o.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[o.jsxs("span",{children:[g.itemCalories," ",t.calories]}),o.jsxs("span",{children:[t.protein,": ",g.itemProtein]}),o.jsxs("span",{children:[t.fat,": ",g.itemFat]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h5",{className:"text-md font-medium text-gray-900 mb-3",children:[t.ingredients,":"]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(b=g.ingredients)==null?void 0:b.map((x,_)=>o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a?o.jsx(Kk,{value:x.ingredientName,onChange:(S,N,P,k)=>{n(C=>{const A={...C},T=A.meals[N].items[P],R=T.ingredients[k];Object.assign(R,S);const I=T.ingredients;T.itemCalories=I.reduce((O,B)=>O+(B.energy||0),0),T.itemProtein=I.reduce((O,B)=>O+(parseFloat(B.protein)||0),0).toFixed(1)+"g",T.itemFat=I.reduce((O,B)=>O+(parseFloat(B.fat)||0),0).toFixed(1)+"g";const U=A.meals[N].items;return A.meals[N].mealCalories=U.reduce((O,B)=>O+(B.itemCalories||0),0),A.meals[N].mealProtein=U.reduce((O,B)=>O+(parseFloat(B.itemProtein)||0),0).toFixed(1)+"g",A.meals[N].mealFat=U.reduce((O,B)=>O+(parseFloat(B.itemFat)||0),0).toFixed(1)+"g",A})},mealIndex:h,itemIndex:w,ingredientIndex:_}):o.jsx("p",{className:"font-medium text-gray-900",children:x.ingredientName}),o.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[o.jsxs("p",{children:[t.portion,": ",x.portionUser]}),o.jsxs("div",{className:"flex gap-4 mt-2",children:[o.jsxs("span",{children:[t.protein,": ",x.protein]}),o.jsxs("span",{children:[t.fat,": ",x.fat]})]})]})]},_))})]}),g.alternatives&&g.alternatives.length>0&&o.jsxs("div",{className:"mt-6 bg-blue-50 p-4 rounded-lg",children:[o.jsxs("h5",{className:"text-lg font-medium text-blue-900 mb-4",children:[t.alternatives||"Alternatives",":"]}),o.jsx("div",{className:"space-y-4",children:g.alternatives.map((x,_)=>{var S;return o.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-100",children:[o.jsxs("div",{className:"mb-3",children:[o.jsx("h6",{className:"text-md font-medium text-blue-900",children:a?o.jsx(ec,{value:x.itemName,onChange:N=>{n(P=>{const k={...P};return k.meals[h].items[w].alternatives[_].itemName=N,k})}}):x.itemName}),o.jsxs("div",{className:"flex gap-4 text-sm text-blue-700 mt-1",children:[o.jsxs("span",{children:[x.itemCalories," ",t.calories]}),o.jsxs("span",{children:[t.protein,": ",x.itemProtein]}),o.jsxs("span",{children:[t.fat,": ",x.itemFat]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:(S=x.ingredients)==null?void 0:S.map((N,P)=>o.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a?o.jsx(Kk,{value:N.ingredientName,onChange:k=>{n(C=>{const A={...C},T=A.meals[h].items[w].alternatives[_].ingredients[P];return Object.assign(T,k),A})},mealIndex:h,itemIndex:w,ingredientIndex:P}):o.jsx("p",{className:"font-medium text-blue-900",children:N.ingredientName}),o.jsxs("div",{className:"mt-1 space-y-1 text-sm text-blue-700",children:[o.jsxs("p",{children:[t.portion,": ",N.portionUser]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("span",{children:[t.protein,": ",N.protein]}),o.jsxs("span",{children:[t.fat,": ",N.fat]})]})]})]},P))})]},_)})})]})]},w)})})]},h)})})}),o.jsx(fd,{value:"nutrition",className:"mt-6",children:o.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:t.dailyNutrition||"Daily Nutrition"}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-gray-600",children:t.protein||"Protein"}),o.jsx("p",{className:"text-2xl font-semibold",children:r.macros.protein})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-gray-600",children:t.fat||"Fat"}),o.jsx("p",{className:"text-2xl font-semibold",children:r.macros.fat})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-gray-600",children:t.carbs||"Carbs"}),o.jsx("p",{className:"text-2xl font-semibold",children:r.macros.carbs})]})]})]})}),o.jsx(fd,{value:"recommendations",className:"mt-6",children:o.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:t.recommendations||"Recommendations"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-700",children:t.supplements||"Supplements"}),o.jsx("p",{className:"mt-1 text-gray-600",children:r.recommendations.supplements})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-700",children:t.hydration||"Hydration"}),o.jsx("p",{className:"mt-1 text-gray-600",children:r.recommendations.hydration})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-700",children:t.sleep||"Sleep"}),o.jsx("p",{className:"mt-1 text-gray-600",children:r.recommendations.sleep})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium text-gray-700",children:t.general||"General"}),o.jsx("p",{className:"mt-1 text-gray-600",children:r.recommendations.general})]})]})]})})]})})]}):o.jsx("div",{children:"Loading..."})};var vg="Checkbox",[DJ,bme]=xa(vg),[IJ,eS]=DJ(vg);function $J(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:s,name:c,onCheckedChange:d,required:f,value:h="on",internal_do_not_use_render:m}=e,[g,w]=oo({prop:r,defaultProp:a??!1,onChange:d,caller:vg}),[b,x]=y.useState(null),[_,S]=y.useState(null),N=y.useRef(!1),P=b?!!s||!!b.closest("form"):!0,k={checked:g,disabled:i,setChecked:w,control:b,setControl:x,name:c,form:s,value:h,hasConsumerStoppedPropagationRef:N,required:f,defaultChecked:Zo(a)?!1:a,isFormControl:P,bubbleInput:_,setBubbleInput:S};return o.jsx(IJ,{scope:t,...k,children:LJ(m)?m(k):n})}var J5="CheckboxTrigger",X5=y.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:s,disabled:c,checked:d,required:f,setControl:h,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:w,bubbleInput:b}=eS(J5,e),x=Ot(a,h),_=y.useRef(d);return y.useEffect(()=>{const S=i==null?void 0:i.form;if(S){const N=()=>m(_.current);return S.addEventListener("reset",N),()=>S.removeEventListener("reset",N)}},[i,m]),o.jsx(mt.button,{type:"button",role:"checkbox","aria-checked":Zo(d)?"mixed":d,"aria-required":f,"data-state":r4(d),"data-disabled":c?"":void 0,disabled:c,value:s,...n,ref:x,onKeyDown:Ke(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ke(r,S=>{m(N=>Zo(N)?!0:!N),b&&w&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})})});X5.displayName=J5;var tS=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:s,disabled:c,value:d,onCheckedChange:f,form:h,...m}=e;return o.jsx($J,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:s,onCheckedChange:f,name:n,form:h,value:d,internal_do_not_use_render:({isFormControl:g})=>o.jsxs(o.Fragment,{children:[o.jsx(X5,{...m,ref:t,__scopeCheckbox:r}),g&&o.jsx(t4,{__scopeCheckbox:r})]})})});tS.displayName=vg;var Q5="CheckboxIndicator",Z5=y.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=eS(Q5,r);return o.jsx($n,{present:n||Zo(i.checked)||i.checked===!0,children:o.jsx(mt.span,{"data-state":r4(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Z5.displayName=Q5;var e4="CheckboxBubbleInput",t4=y.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:s,required:c,disabled:d,name:f,value:h,form:m,bubbleInput:g,setBubbleInput:w}=eS(e4,e),b=Ot(r,w),x=Bj(i),_=Pj(n);y.useEffect(()=>{const N=g;if(!N)return;const P=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(P,"checked").set,A=!a.current;if(x!==i&&C){const T=new Event("click",{bubbles:A});N.indeterminate=Zo(i),C.call(N,Zo(i)?!1:i),N.dispatchEvent(T)}},[g,x,i,a]);const S=y.useRef(Zo(i)?!1:i);return o.jsx(mt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:s??S.current,required:c,disabled:d,name:f,value:h,form:m,...t,tabIndex:-1,ref:b,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});t4.displayName=e4;function LJ(e){return typeof e=="function"}function Zo(e){return e==="indeterminate"}function r4(e){return Zo(e)?"indeterminate":e?"checked":"unchecked"}const n4=y.forwardRef(({className:e,...t},r)=>o.jsx(tS,{ref:r,className:ht("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(Z5,{className:ht("flex items-center justify-center text-current"),children:o.jsx(Ls,{className:"h-4 w-4"})})}));n4.displayName=tS.displayName;const as="menu_translations",a4=30,FJ=(e,t)=>{var r;try{const n=JSON.stringify({meals:(r=e.meals)==null?void 0:r.map(a=>{var i,s,c,d,f;return{main:(s=(i=a.main)==null?void 0:i.ingredients)==null?void 0:s.map(h=>h.item).filter(Boolean),alternative:(d=(c=a.alternative)==null?void 0:c.ingredients)==null?void 0:d.map(h=>h.item).filter(Boolean),alternatives:(f=a.alternatives)==null?void 0:f.map(h=>{var m;return(m=h.ingredients)==null?void 0:m.map(g=>g.item).filter(Boolean)})}})});return`${as}_${t}_${btoa(n).slice(0,50)}`}catch(n){return console.warn("Failed to create cache key:",n),`${as}_${t}_${Date.now()}`}},BJ=(e,t)=>{try{return`${as}_text_${t}_${btoa(e).slice(0,30)}`}catch(r){return console.warn("Failed to create text cache key:",r),`${as}_text_${t}_${Date.now()}`}},UJ=(e,t,r,n)=>{try{const a=`${e.item}_${t}_${r}_${n}`;return`${as}_measurement_${btoa(a).slice(0,40)}`}catch(a){return console.warn("Failed to create measurement cache key:",a),`${as}_measurement_${Date.now()}`}},Wm=e=>{try{const t=localStorage.getItem(e);if(!t)return null;const r=JSON.parse(t),n=Date.now(),a=a4*24*60*60*1e3;return r._cachedAt&&n-r._cachedAt>a?(localStorage.removeItem(e),null):r.data}catch(t){return console.warn("Failed to read cache:",t),localStorage.removeItem(e),null}},rS=(e,t)=>{try{const r={data:t,_cachedAt:Date.now(),_version:"1.0"};localStorage.setItem(e,JSON.stringify(r)),console.log("💾 Cached translation:",e)}catch(r){console.warn("Failed to cache translation:",r)}},zJ=()=>{try{const e=Date.now(),t=a4*24*60*60*1e3;let r=0;for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);if(a&&a.startsWith(as))try{const i=localStorage.getItem(a);if(i){const s=JSON.parse(i);s._cachedAt&&e-s._cachedAt>t&&(localStorage.removeItem(a),r++)}}catch{localStorage.removeItem(a),r++}}return r>0&&console.log(`🧹 Cleaned ${r} expired cache entries`),r}catch(e){return console.error("Failed to clean expired cache:",e),0}},wd=async(e,t,r,n="en",a={region:"israel"})=>{try{const i=UJ(e,t,r,n),s=Wm(i);if(s)return console.log("📚 Using cached measurement conversion:",s),s;console.log("🤖 Converting measurement with AI:",{ingredient:e.item,fromMeasurement:t,toType:r,targetLang:n});const c=await fetch("https://dietitian-be.azurewebsites.net/api/convert-measurement",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredient:e.item,brand:e["brand of pruduct"]||"",fromMeasurement:t,toType:r,targetLang:n,region:a&&a.region?a.region:"israel"})});if(!c.ok){const f=await c.text();throw console.error("❌ Measurement conversion API error:",f),new Error(`Failed to convert measurement: ${c.status} ${f}`)}const d=await c.json();return console.log("✅ AI measurement conversion result:",d),rS(i,d),d}catch(i){throw console.error("❌ Error in measurement conversion:",i),i}};zJ();const qJ=({value:e,onChange:t,mealIndex:r,optionIndex:n})=>{const[a,i]=y.useState(!1),[s,c]=y.useState(e),d=y.useRef(null);y.useEffect(()=>{c(e)},[e]),y.useEffect(()=>{a&&d.current&&(d.current.focus(),d.current.select())},[a]);const f=w=>{c(w.target.value)},h=()=>{t(s,r,n),i(!1)},m=w=>{w.key==="Enter"?h():w.key==="Escape"&&(c(e),i(!1))},g=()=>{h()};return a?o.jsx("input",{ref:d,type:"text",value:s,onChange:f,onKeyDown:m,onBlur:g,className:"font-medium text-gray-900 bg-white border border-gray-300 rounded px-2 py-1 w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent"}):o.jsx("h4",{onClick:()=>i(!0),className:"font-medium text-gray-900 cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",title:"Click to edit meal name",children:e})},WJ=({value:e,onChange:t,mealIndex:r,optionIndex:n,ingredientIndex:a,translations:i,currentIngredient:s,onPortionDialog:c,autoFocus:d})=>{const[f,h]=y.useState(!1),[m,g]=y.useState(e),[w,b]=y.useState(e),[x,_]=y.useState([]),[S,N]=y.useState(!1),[P,k]=y.useState(!1),[C,A]=y.useState(!1),[T,R]=y.useState(!1),[I,U]=y.useState(1),[O,B]=y.useState(""),[Z,te]=y.useState(!1),[Q,Y]=y.useState(""),ie=ee.useRef(null),W=ee.useRef(null);y.useEffect(()=>{g(e),b(e)},[e]),y.useEffect(()=>{d&&!f&&q()},[d]),y.useEffect(()=>()=>{W.current&&clearTimeout(W.current)},[]);const V=async(ae,Ae=1,K=!1)=>{if(ae.length<2){_([]),R(!1);return}k(!0);try{const _e=`https://sqlservice-erdve2fpeda4f5hg.eastus2-01.azurewebsites.net/api/suggestions?query=${encodeURIComponent(ae)}`;console.log("🔍 Fetching suggestions from:",_e);const Me=await fetch(_e);if(console.log("📡 Suggestions response status:",Me.status),!Me.ok){const Qe=await Me.text();throw console.error("❌ Suggestions response not OK:",Qe),new Error(`Failed to fetch suggestions: ${Me.status} ${Qe}`)}const pe=await Me.json();console.log("📋 Suggestions received:",pe),_(K?Qe=>[...Qe,...pe.suggestions]:pe.suggestions),R(pe.hasMore||!1),U(Ae),B(ae)}catch(_e){console.error("❌ Error fetching suggestions:",_e),K||(_([]),R(!1))}finally{k(!1)}},F=ae=>{const Ae=ae.target.value;console.log("📝 Input changed to:",Ae),g(Ae),N(!0),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{console.log("⏰ Timeout triggered, fetching suggestions for:",Ae),V(Ae)},300)},L=ae=>{ae.key==="Escape"?(console.log("🚪 Escape pressed, canceling edit"),g(w),h(!1),N(!1),_([])):ae.key==="Enter"&&(console.log("↵ Enter pressed, saving direct edit"),G())},J=()=>{console.log("👋 Input blurred"),C||(console.log("👋 No suggestion selected, reverting to original value:",w),g(w)),h(!1),N(!1),_([]),A(!1)},G=async()=>{console.log("✏️ Saving direct edit:",m);let ae={item:m,household_measure:(s==null?void 0:s.household_measure)||"",calories:(s==null?void 0:s.calories)||0,protein:(s==null?void 0:s.protein)||0,fat:(s==null?void 0:s.fat)||0,carbs:(s==null?void 0:s.carbs)||0,"brand of pruduct":(s==null?void 0:s["brand of pruduct"])||"",UPC:(s==null?void 0:s.UPC)||(s==null?void 0:s.gtinUpc)||null,"portionSI(gram)":(s==null?void 0:s["portionSI(gram)"])||null};const Ae=m.match(/(\d+(?:\.\d+)?)\s*(g|kg|cup|cups|tbsp|tbsp|oz|lb|ml|l|glass|glasses|slice|slices|piece|pieces|clove|cloves|head|heads)/i);if(Ae&&!Z){const K=Ae[1],_e=Ae[2].toLowerCase();try{if(te(!0),Y("🤖 Analyzing measurement in ingredient name..."),["g","kg","oz","lb"].includes(_e)){const pe=m.replace(/\s*\d+(?:\.\d+)?\s*(g|kg|oz|lb)/i,"").trim();ae.item=pe,ae["portionSI(gram)"]=_e==="kg"?parseFloat(K)*1e3:_e==="oz"?parseFloat(K)*28.35:_e==="lb"?parseFloat(K)*453.59:parseFloat(K),Y(`✅ Extracted ${ae["portionSI(gram)"]}g from "${m}"`)}else{const pe=m.replace(/\s*\d+(?:\.\d+)?\s*(cup|cups|tbsp|tbsp|ml|l|glass|glasses|slice|slices|piece|pieces|clove|cloves|head|heads)/i,"").trim();ae.item=pe,ae.household_measure=`${K} ${_e}`;const Qe=await wd({item:pe,"brand of pruduct":(s==null?void 0:s["brand of pruduct"])||""},ae.household_measure,"grams",language,selectedClient);Qe&&Qe.converted_measurement&&(ae["portionSI(gram)"]=Qe.converted_measurement,Y(`✅ "${ae.household_measure}" = ${Qe.converted_measurement}g`))}}catch(Me){console.warn("⚠️ AI conversion failed for direct edit:",Me),Y("⚠️ Using manual entry")}finally{setTimeout(()=>{Y(""),te(!1)},2e3)}}t(ae,r,n,a),A(!0),h(!1),N(!1),_([])},de=()=>{T&&!P&&V(O,I+1,!0)},Ce=async ae=>{console.log("🔍 handleSelect called with suggestion:",ae);try{te(!0),Y("🤖 Analyzing ingredient data...");const Ae=`https://sqlservice-erdve2fpeda4f5hg.eastus2-01.azurewebsites.net/api/ingredient-nutrition?name=${encodeURIComponent(ae.english)}`;console.log("🌐 Fetching from URL:",Ae);const K=await fetch(Ae);if(console.log("📡 Response status:",K.status),!K.ok){const ze=await K.text();throw console.error("❌ Response not OK:",ze),new Error(`Failed to fetch nutrition data: ${K.status} ${ze}`)}const _e=await K.json();console.log("📊 Nutrition data received:",_e),console.log("🔍 Suggestion data:",ae),console.log("🔍 UPC values - suggestion.gtinUpc:",ae.gtinUpc,"nutritionData.gtinUpc:",_e.gtinUpc);let Me=ae.household_measure||"",pe=null;if(ae.household_measure&&!ae["portionSI(gram)"])try{Y(`🤖 Converting "${ae.household_measure}" to grams...`),console.log("🤖 Attempting AI conversion for household measure:",ae.household_measure);const ze=await wd({item:ae.english,"brand of pruduct":ae.brand},ae.household_measure,"grams",language,selectedClient);ze&&ze.converted_measurement&&(pe=ze.converted_measurement,console.log(`✅ AI converted ${ae.household_measure} to ${pe}g`),Y(`✅ Converted to ${pe}g`))}catch(ze){console.warn("⚠️ AI conversion failed, using original data:",ze),Y("⚠️ Using standard portion data")}else if(ae["portionSI(gram)"]&&!ae.household_measure)try{Y(`🤖 Converting ${ae["portionSI(gram)"]}g to household measure...`),console.log("🤖 Attempting AI conversion for grams:",ae["portionSI(gram)"]);const ze=await wd({item:ae.english,"brand of pruduct":ae.brand},`${ae["portionSI(gram)"]}g`,"household",language,selectedClient);ze&&ze.converted_measurement&&(Me=ze.converted_measurement,console.log(`✅ AI converted ${ae["portionSI(gram)"]}g to "${Me}"`),Y(`✅ Converted to "${Me}"`))}catch(ze){console.warn("⚠️ AI conversion failed, using original data:",ze),Y("⚠️ Using standard portion data")}const Qe={item:ae.hebrew||ae.english,household_measure:Me,calories:_e.Energy||0,protein:_e.Protein||0,fat:_e.Total_lipid__fat_||0,carbs:_e.Carbohydrate||0,"brand of pruduct":_e.brand||"",UPC:ae.gtinUpc||_e.gtinUpc||null,"portionSI(gram)":pe||ae["portionSI(gram)"]||null};console.log("✅ Updated values with AI conversion:",Qe),console.log("🔍 Final UPC value:",Qe.UPC),t(Qe,r,n,a),g(ae.hebrew||ae.english),A(!0),N(!1),h(!1),setTimeout(()=>{Y(""),te(!1)},2e3),c&&!pe&&!Me&&c(Qe,r,n,a)}catch(Ae){console.error("❌ Error in handleSelect:",Ae),console.error("❌ Error stack:",Ae.stack),Y("❌ Error occurred"),te(!1)}},q=()=>{console.log("✏️ Starting edit mode for value:",e),b(e),g(e),h(!0),_([]),N(!1)};return f?o.jsxs("div",{className:"relative",children:[o.jsx("input",{ref:ie,type:"text",value:m,onChange:F,onKeyDown:L,onBlur:J,onFocus:()=>{console.log("🎯 Input focused, showing suggestions"),N(!0)},className:"w-full px-2 py-1 border border-gray-300 rounded text-right",dir:"rtl",autoFocus:d}),P&&o.jsx("div",{className:"absolute left-2 top-1/2 transform -translate-y-1/2",children:o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}),Z&&o.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center gap-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-purple-500"}),o.jsx("span",{className:"text-xs text-purple-600 font-medium",children:Q})]}),console.log("🔍 Rendering suggestions:",{showSuggestions:S,suggestionsCount:x.length,suggestions:x,isLoading:P}),S&&o.jsx("div",{className:"absolute z-50 mt-1 bg-white border border-gray-300 rounded-xl shadow-2xl overflow-hidden animate-fade-in min-w-max max-w-[420px] w-auto",style:{minWidth:220},children:P?o.jsx("div",{className:"px-4 py-3 text-gray-500 text-center",children:"Loading..."}):x.length>0?o.jsxs("ul",{className:"py-1 max-h-72 overflow-auto divide-y divide-gray-100",children:[o.jsx("li",{className:"px-4 py-2 text-xs text-gray-500 bg-gray-50 border-b border-gray-100",children:"Click a suggestion to replace with nutritional data, or press Enter to keep current macros"}),x.map((ae,Ae)=>o.jsxs("li",{onMouseDown:K=>{K.preventDefault(),console.log("🖱️ Suggestion clicked:",ae),Ce(ae)},className:"flex items-center gap-3 px-4 py-2 cursor-pointer transition-colors duration-150 hover:bg-blue-50 group",style:{userSelect:"none"},children:[o.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-400 group-hover:bg-blue-600 transition-colors"}),o.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[o.jsx("span",{className:"font-semibold text-gray-900 whitespace-normal leading-snug",children:ae.hebrew||ae.english}),o.jsxs("span",{className:"text-xs text-gray-500 whitespace-normal leading-snug flex flex-row gap-2 mt-0.5",children:[o.jsxs("span",{children:[ae.protein??ae.Protein??0,"g ",(i==null?void 0:i.protein)||"protein"]}),o.jsx("span",{className:"text-gray-300",children:"·"}),o.jsxs("span",{children:[ae.calories??ae.Energy??0," ",(i==null?void 0:i.calories)||"kcal"]}),o.jsx("span",{className:"text-gray-300",children:"·"}),o.jsxs("span",{children:[ae.fat??ae.Total_lipid__fat_??0,"g ",(i==null?void 0:i.fat)||"fat"]}),o.jsx("span",{className:"text-gray-300",children:"·"}),o.jsxs("span",{children:[ae.carbs??ae.Carbohydrate??0,"g ",(i==null?void 0:i.carbs)||"carbs"]})]})]}),ae.household_measure&&o.jsx("span",{className:"ml-2 text-xs text-gray-400 bg-gray-100 rounded px-2 py-0.5 whitespace-nowrap",children:ae.household_measure})]},Ae)),T&&o.jsx("li",{className:"border-t border-gray-100",children:o.jsx("button",{onClick:ae=>{ae.preventDefault(),ae.stopPropagation(),de()},onMouseDown:ae=>{ae.preventDefault(),ae.stopPropagation()},disabled:P,className:"w-full px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-150 flex items-center justify-center gap-2",children:P?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"Loading..."]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"Load More"}),o.jsxs("span",{className:"text-xs text-gray-400",children:["(",x.length," shown)"]})]})})})]}):o.jsxs("div",{className:"px-4 py-3 text-gray-400 text-center",children:[o.jsx("div",{children:"No suggestions found"}),o.jsx("div",{className:"text-xs mt-1",children:"Press Enter to save your edit (keeps current macros)"})]})})]}):o.jsx("div",{onClick:q,className:"cursor-pointer hover:bg-gray-50 px-2 py-1 rounded text-right border border-transparent hover:border-gray-300",dir:"rtl",title:"Click to edit ingredient",children:o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("span",{children:e}),s&&s["brand of pruduct"]&&o.jsxs("span",{className:"text-xs text-gray-500 font-medium",children:["(",s["brand of pruduct"],")"]})]})})},HJ=({value:e,onChange:t,mealIndex:r,optionIndex:n,ingredientIndex:a,translations:i})=>{const[s,c]=y.useState(!1),[d,f]=y.useState(e),h=y.useRef(null);y.useEffect(()=>{f(e)},[e]),y.useEffect(()=>{s&&h.current&&(h.current.focus(),h.current.select())},[s]);const m=()=>{t(d,r,n,a),c(!1)},g=b=>{b.key==="Enter"?m():b.key==="Escape"&&(f(e),c(!1))},w=()=>{m()};return s?o.jsx("input",{ref:h,type:"text",value:d,onChange:b=>f(b.target.value),onKeyDown:g,onBlur:w,className:"text-gray-600 bg-white border border-gray-300 rounded px-1 py-0.5 text-sm min-w-[80px] focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:(i==null?void 0:i.householdMeasurePlaceholder)||"e.g., 1 cup, 2 tbsp"}):o.jsx("span",{onClick:()=>c(!0),className:"text-gray-600 cursor-pointer hover:bg-gray-100 px-1 rounded",title:(i==null?void 0:i.clickToEditHouseholdMeasure)||"Click to edit household measure",children:e||(i==null?void 0:i.noMeasure)||"No measure"})},VJ=({recommendation:e,onSave:t,onCancel:r,translations:n})=>{const[a,i]=y.useState({id:(e==null?void 0:e.id)||Date.now(),category:(e==null?void 0:e.category)||"general",title:(e==null?void 0:e.title)||"",content:(e==null?void 0:e.content)||"",priority:(e==null?void 0:e.priority)||"medium"});y.useEffect(()=>{e&&i({id:e.id,category:e.category,title:e.title,content:e.content,priority:e.priority})},[e]);const s=h=>{if(h.preventDefault(),!a.title.trim()||!a.content.trim()){alert((n==null?void 0:n.pleaseFillAllFields)||"Please fill in all required fields");return}t(a)},c=(h,m)=>{i(g=>({...g,[h]:m}))},d=[{value:"general",label:(n==null?void 0:n.generalRecommendation)||"General"},{value:"nutrition",label:(n==null?void 0:n.nutritionRecommendation)||"Nutrition"},{value:"exercise",label:(n==null?void 0:n.exerciseRecommendation)||"Exercise"},{value:"lifestyle",label:(n==null?void 0:n.lifestyleRecommendation)||"Lifestyle"},{value:"supplements",label:(n==null?void 0:n.supplementsRecommendation)||"Supplements"},{value:"hydration",label:(n==null?void 0:n.hydrationRecommendation)||"Hydration"},{value:"sleep",label:(n==null?void 0:n.sleepRecommendation)||"Sleep"}],f=[{value:"low",label:(n==null?void 0:n.lowPriority)||"Low Priority"},{value:"medium",label:(n==null?void 0:n.mediumPriority)||"Medium Priority"},{value:"high",label:(n==null?void 0:n.highPriority)||"High Priority"}];return o.jsxs("form",{onSubmit:s,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx(St,{htmlFor:"category",className:"text-sm font-medium text-gray-700",children:(n==null?void 0:n.category)||"Category"}),o.jsxs(qn,{value:a.category,onValueChange:h=>c("category",h),children:[o.jsx(Mn,{className:"mt-1",children:o.jsx(Wn,{})}),o.jsx(Rn,{children:d.map(h=>o.jsx(pt,{value:h.value,children:h.label},h.value))})]})]}),o.jsxs("div",{children:[o.jsx(St,{htmlFor:"priority",className:"text-sm font-medium text-gray-700",children:(n==null?void 0:n.priority)||"Priority"}),o.jsxs(qn,{value:a.priority,onValueChange:h=>c("priority",h),children:[o.jsx(Mn,{className:"mt-1",children:o.jsx(Wn,{})}),o.jsx(Rn,{children:f.map(h=>o.jsx(pt,{value:h.value,children:h.label},h.value))})]})]})]}),o.jsxs("div",{children:[o.jsxs(St,{htmlFor:"title",className:"text-sm font-medium text-gray-700",children:[(n==null?void 0:n.title)||"Title"," *"]}),o.jsx(Ut,{id:"title",value:a.title,onChange:h=>c("title",h.target.value),className:"mt-1",placeholder:(n==null?void 0:n.recommendationTitlePlaceholder)||"Enter recommendation title",required:!0})]}),o.jsxs("div",{children:[o.jsxs(St,{htmlFor:"content",className:"text-sm font-medium text-gray-700",children:[(n==null?void 0:n.content)||"Content"," *"]}),o.jsx(bd,{id:"content",value:a.content,onChange:h=>c("content",h.target.value),className:"mt-1 min-h-[120px]",placeholder:(n==null?void 0:n.recommendationContentPlaceholder)||"Enter detailed recommendation content",required:!0})]}),o.jsxs(Vj,{className:"flex gap-3 sm:gap-3",children:[o.jsx(Te,{type:"button",variant:"outline",onClick:r,className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:(n==null?void 0:n.cancel)||"Cancel"}),o.jsx(Te,{type:"submit",className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:(n==null?void 0:n.save)||"Save"})]})]})},GJ=({isOpen:e,onClose:t,onConfirm:r,ingredient:n,translations:a})=>{const[i,s]=y.useState(""),[c,d]=y.useState(""),[f,h]=y.useState(null),[m,g]=y.useState(!1),[w,b]=y.useState("");y.useEffect(()=>{if(e&&n){s(n["portionSI(gram)"]||""),d(n.household_measure||"");const k=parseFloat(n["portionSI(gram)"]||0),C=k;if(k>0){const A={calories:Math.round((n.calories||0)*100/k),protein:Math.round((n.protein||0)*100/k),fat:Math.round((n.fat||0)*100/k),carbs:Math.round((n.carbs||0)*100/k)},T=C/100;h({calories:Math.round(A.calories*T),protein:Math.round(A.protein*T),fat:Math.round(A.fat*T),carbs:Math.round(A.carbs*T)})}else h(null)}},[e,n]);const x=k=>{const C=k.target.value;if(s(C),C&&n){const A=parseFloat(n["portionSI(gram)"]||0),T=parseFloat(C);if(A>0){const R={calories:Math.round((n.calories||0)*100/A),protein:Math.round((n.protein||0)*100/A),fat:Math.round((n.fat||0)*100/A),carbs:Math.round((n.carbs||0)*100/A)},I=T/100;h({calories:Math.round(R.calories*I),protein:Math.round(R.protein*I),fat:Math.round(R.fat*I),carbs:Math.round(R.carbs*I)})}else{const R=T/100;h({calories:Math.round((n.calories||0)*R),protein:Math.round((n.protein||0)*R),fat:Math.round((n.fat||0)*R),carbs:Math.round((n.carbs||0)*R)})}}else h(null)},_=async()=>{if(!(!i||!n))try{g(!0),b("🤖 Converting to household measure...");const k=await wd(n,`${i}g`,"household","en");k&&k.converted_measurement?(d(k.converted_measurement),b(`✅ Converted to "${k.converted_measurement}"`),console.log(`✅ AI converted ${i}g to "${k.converted_measurement}"`)):b("⚠️ Could not determine household measure")}catch(k){console.error("❌ Error converting grams to household:",k),b("❌ Conversion failed")}finally{setTimeout(()=>{b(""),g(!1)},3e3)}},S=async()=>{if(!(!c.trim()||!n))try{g(!0),b("🤖 Converting to grams...");const k=await wd(n,c.trim(),"grams","en");k&&k.converted_measurement?(s(k.converted_measurement.toString()),b(`✅ Converted to ${k.converted_measurement}g`),x({target:{value:k.converted_measurement.toString()}}),console.log(`✅ AI converted "${c}" to ${k.converted_measurement}g`)):b("⚠️ Could not determine gram amount")}catch(k){console.error("❌ Error converting household to grams:",k),b("❌ Conversion failed")}finally{setTimeout(()=>{b(""),g(!1)},3e3)}},N=()=>{if(!i||!c.trim()){alert((a==null?void 0:a.pleaseFillAllFields)||"Please fill in all fields");return}const k=parseFloat(i);if(isNaN(k)||k<=0){alert((a==null?void 0:a.pleaseEnterValidAmount)||"Please enter a valid amount greater than 0");return}const C={...n,"portionSI(gram)":k,household_measure:c.trim(),calories:(f==null?void 0:f.calories)||n.calories,protein:(f==null?void 0:f.protein)||n.protein,fat:(f==null?void 0:f.fat)||n.fat,carbs:(f==null?void 0:f.carbs)||n.carbs};r(C),t()},P=k=>{k.key==="Enter"?N():k.key==="Escape"&&t()};return e?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",dir:"rtl",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900",children:(a==null?void 0:a.setPortion)||"Set Portion Size"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:(a==null?void 0:a.portionDialogDescription)||"Enter the amount in grams and a household measurement. The nutrition values will be automatically adjusted based on the 100g serving size from the database."}),o.jsxs("div",{className:"space-y-4",children:[w&&o.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-md p-3 flex items-center gap-2",children:[o.jsx("div",{className:"animate-pulse",children:"🤖"}),o.jsx("span",{className:"text-sm text-purple-700 font-medium",children:w})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(a==null?void 0:a.ingredient)||"Ingredient",":"]}),o.jsx("div",{className:"text-sm text-gray-900 bg-gray-50 p-2 rounded border",children:n==null?void 0:n.item})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(a==null?void 0:a.amountInGrams)||"Amount (grams)",":"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",value:i,onChange:x,onKeyDown:P,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"100",min:"0",step:"0.1",autoFocus:!0}),o.jsx(Te,{type:"button",onClick:_,disabled:m||!i,variant:"outline",size:"sm",className:"px-3 py-2 text-purple-600 border-purple-300 hover:bg-purple-50 whitespace-nowrap",title:"Use AI to convert grams to household measure",children:m?"🤖":"🏠"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(a==null?void 0:a.householdMeasure)||"Household Measure",":"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:c,onChange:k=>d(k.target.value),onKeyDown:P,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:(a==null?void 0:a.householdMeasurePlaceholder)||"e.g., 1 cup, 2 tbsp, 1 medium apple"}),o.jsx(Te,{type:"button",onClick:S,disabled:m||!c.trim(),variant:"outline",size:"sm",className:"px-3 py-2 text-purple-600 border-purple-300 hover:bg-purple-50 whitespace-nowrap",title:"Use AI to convert household measure to grams",children:m?"🤖":"⚖️"})]})]}),f&&o.jsxs("div",{className:"bg-blue-50 p-3 rounded-md",children:[o.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:[(a==null?void 0:a.adjustedNutrition)||"Adjusted Nutrition"," (per ",i,"g):"]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[(a==null?void 0:a.calories)||"Calories",":"]}),o.jsx("span",{className:"font-medium ml-1",children:f.calories})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[(a==null?void 0:a.protein)||"Protein",":"]}),o.jsxs("span",{className:"font-medium ml-1",children:[f.protein,"g"]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[(a==null?void 0:a.fat)||"Fat",":"]}),o.jsxs("span",{className:"font-medium ml-1",children:[f.fat,"g"]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[(a==null?void 0:a.carbs)||"Carbs",":"]}),o.jsxs("span",{className:"font-medium ml-1",children:[f.carbs,"g"]})]})]}),o.jsx("div",{className:"mt-2 pt-2 border-t border-blue-200",children:o.jsxs("p",{className:"text-xs text-gray-500",children:[(a==null?void 0:a.basedOn100g)||"Based on 100g serving"," • ",(a==null?void 0:a.ratio)||"Ratio",": ",i,"/100 = ",(parseFloat(i)/100).toFixed(2),"x"]})})]})]}),o.jsxs("div",{className:"flex gap-3 mt-6",children:[o.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:(a==null?void 0:a.cancel)||"Cancel"}),o.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-md transition-colors",children:(a==null?void 0:a.confirm)||"Confirm"})]})]})}):null},KJ=()=>{ee.useRef();const[e,t]=y.useState(!1),[r,n]=y.useState([]),a=ee.useRef(new Set),[i,s]=y.useState([]),[c,d]=y.useState([]),[f,h]=y.useState(!1),m=$=>{f||(s(z=>[...z,JSON.stringify($)]),d([]))},g=()=>{if(i.length>0){h(!0);const $=i[i.length-1],z=JSON.stringify(b);d(se=>[...se,z]),s(se=>se.slice(0,-1)),x(JSON.parse($)),S(JSON.parse($)),h(!1)}},w=()=>{if(c.length>0){h(!0);const $=c[c.length-1],z=JSON.stringify(b);s(se=>[...se,z]),d(se=>se.slice(0,-1)),x(JSON.parse($)),S(JSON.parse($)),h(!1)}},[b,x]=y.useState(()=>{try{const $=localStorage.getItem("menuCreate_menu");if(!$)return null;const z=JSON.parse($);return!z||!z.meals||!Array.isArray(z.meals)||z.meals.length===0?(console.warn("Invalid menu structure in localStorage, clearing..."),localStorage.removeItem("menuCreate_menu"),null):(console.log("📋 Loaded menu from localStorage with",z.meals.length,"meals"),z)}catch($){return console.warn("Failed to load menu from localStorage:",$),localStorage.removeItem("menuCreate_menu"),null}}),[_,S]=y.useState(()=>{try{const $=localStorage.getItem("menuCreate_originalMenu");if(!$)return null;const z=JSON.parse($);return!z||!z.meals||!Array.isArray(z.meals)||z.meals.length===0?(console.warn("Invalid originalMenu structure in localStorage, clearing..."),localStorage.removeItem("menuCreate_originalMenu"),null):(console.log("📋 Loaded originalMenu from localStorage with",z.meals.length,"meals"),z)}catch($){return console.warn("Failed to load originalMenu from localStorage:",$),localStorage.removeItem("menuCreate_originalMenu"),null}}),[N,P]=y.useState(!1),[k,C]=y.useState(!1),[A,T]=y.useState(null),[R,I]=y.useState(0),[U,O]=y.useState(""),[B,Z]=y.useState(!1),[te,Q]=y.useState(!1),[Y,ie]=y.useState([]),[W,V]=y.useState(!1),[F,L]=y.useState(!1),[J,G]=y.useState(null),[de,Ce]=y.useState(null),{selectedClient:q}=ul(),[ae,Ae]=y.useState(!1),[K,_e]=y.useState(()=>{try{const $=localStorage.getItem("menuCreate_userTargets");return $?JSON.parse($):null}catch($){return console.warn("Failed to load userTargets from localStorage:",$),null}}),[Me,pe]=y.useState(!1),Qe=ll(),{language:ze,translations:re}=ya(),[Ct,Vt]=y.useState({}),Pt=$=>[{key:"breakfast",meal:$.breakfast||"Breakfast",calories_pct:30,description:"",calories:0,locked:!1},{key:"lunch",meal:$.lunch||"Lunch",calories_pct:30,description:"",calories:0,locked:!1},{key:"dinner",meal:$.dinner||"Dinner",calories_pct:30,description:"",calories:0,locked:!1},{key:"snacks",meal:$.snacks||"Snack",calories_pct:10,description:"",calories:0,locked:!1}],Gt=$=>($||"").toString().trim().toLowerCase(),sn=$=>{const z=Gt($),se={breakfast:[Gt(re.breakfast),"breakfast","ארוחת בוקר"],lunch:[Gt(re.lunch),"lunch","ארוחת צהריים","צהריים"],dinner:[Gt(re.dinner),"dinner","ארוחת ערב","ערב"],snacks:[Gt(re.snacks),"snack","snacks","חטיף","חטיפים"]};for(const[ue,he]of Object.entries(se))if(he.some(ge=>ge&&z.includes(ge)))return ue},[bt,er]=y.useState(()=>Pt(re));y.useEffect(()=>{er($=>$.map(z=>{if(!z.key)return z;const se={breakfast:re.breakfast||"Breakfast",lunch:re.lunch||"Lunch",dinner:re.dinner||"Dinner",snacks:re.snacks||re.snack||"Snack"};return{...z,meal:se[z.key]||z.meal}}))},[ze]);const[xr,qt]=y.useState(!1),[qr,Kn]=y.useState({}),[Yn,Gr]=y.useState({}),[Wr,Hr]=y.useState(()=>{try{const $=localStorage.getItem("menuCreate_recommendations");console.log("📋 Loading recommendations from localStorage:",$);const z=$?JSON.parse($):[];return console.log("📋 Parsed recommendations:",z),z}catch($){return console.warn("Failed to load recommendations from localStorage:",$),[]}}),[vn,ce]=y.useState(!1),[Se,Ye]=y.useState(null),[Ve,Fe]=y.useState(()=>{try{const $=localStorage.getItem("upc_cache");return $?new Map(JSON.parse($)):new Map}catch($){return console.warn("Failed to load UPC cache from localStorage:",$),new Map}});y.useEffect(()=>{try{localStorage.setItem("upc_cache",JSON.stringify([...Ve]))}catch($){console.warn("Failed to save UPC cache to localStorage:",$)}},[Ve]),y.useEffect(()=>{try{if(b){const $={...b,_savedAt:new Date().toISOString(),_selectedUser:q};localStorage.setItem("menuCreate_menu",JSON.stringify($))}else localStorage.removeItem("menuCreate_menu")}catch($){console.warn("Failed to save menu to localStorage:",$)}},[b,q]),y.useEffect(()=>{try{_?localStorage.setItem("menuCreate_originalMenu",JSON.stringify(_)):localStorage.removeItem("menuCreate_originalMenu")}catch($){console.warn("Failed to save originalMenu to localStorage:",$)}},[_]),y.useEffect(()=>{try{q?localStorage.setItem("menuCreate_selectedUser",JSON.stringify(q)):localStorage.removeItem("menuCreate_selectedUser")}catch($){console.warn("Failed to save selectedUser to localStorage:",$)}},[q]),y.useEffect(()=>{try{K?localStorage.setItem("menuCreate_userTargets",JSON.stringify(K)):localStorage.removeItem("menuCreate_userTargets")}catch($){console.warn("Failed to save userTargets to localStorage:",$)}},[K]),y.useEffect(()=>{try{console.log("💾 Recommendations changed, saving to localStorage:",Wr),Wr&&Wr.length>0?(localStorage.setItem("menuCreate_recommendations",JSON.stringify(Wr)),console.log("✅ Recommendations saved to localStorage")):(localStorage.removeItem("menuCreate_recommendations"),console.log("🗑️ Recommendations removed from localStorage"))}catch($){console.warn("Failed to save recommendations to localStorage:",$)}},[Wr]),y.useEffect(()=>{if(K!=null&&K.calories){const $=De(bt,K.calories);er($)}},[K==null?void 0:K.calories]),y.useEffect(()=>{const $=z=>{(z.ctrlKey||z.metaKey)&&z.key==="z"&&!z.shiftKey?(z.preventDefault(),g()):((z.ctrlKey||z.metaKey)&&z.key==="y"||(z.ctrlKey||z.metaKey)&&z.key==="z"&&z.shiftKey)&&(z.preventDefault(),w())};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[i,c,b]);async function Ze($,z="portrait"){try{const se=He($,z,W),ue=new Blob([se],{type:"text/html"}),he=URL.createObjectURL(ue),ge=window.open(he,"_blank");ge.onload=()=>{setTimeout(()=>{ge.print(),setTimeout(()=>{ge.close(),URL.revokeObjectURL(he)},1e3)},500)}}catch(se){console.error("Error generating PDF:",se),alert("Failed to generate PDF. Please try again.")}}function He($,z="portrait",se=!1){var Ee;const he=new Date().toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"});$.totals||wt($);const ge=(q==null?void 0:q.full_name)||"Client",fe=be=>be?/[\u0590-\u05FF]/.test(be):!1,we=(Ee=$.meals)==null?void 0:Ee.some(be=>{var Xt,Re,$t,hr,Zt,gr;return fe(be.meal)||fe((Xt=be.main)==null?void 0:Xt.meal_title)||fe((Re=be.alternative)==null?void 0:Re.meal_title)||((hr=($t=be.main)==null?void 0:$t.ingredients)==null?void 0:hr.some(ir=>fe(ir.item)))||((gr=(Zt=be.alternative)==null?void 0:Zt.ingredients)==null?void 0:gr.some(ir=>fe(ir.item)))});return`
<!DOCTYPE html>
<html lang="${we?"he":"en"}" dir="${we?"rtl":"ltr"}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BetterChoice - תפריט אישי</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@400;700&family=Inter:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans Hebrew', 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            background: white;
            margin: 0;
            padding: 0;
        }
        
        .page {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background: #e8f5e8;
            padding: 20px;
            text-align: center;
        }
        
        .logo {
            width: 50px;
            height: 50px;
            background: #4CAF50;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }
        
        .main-title {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
        }
        
        .user-name {
            font-size: 20px;
            font-weight: 600;
            color: #4CAF50;
            margin-bottom: 8px;
        }
        
        .date {
            font-size: 16px;
            font-weight: 500;
            color: #666;
            margin-bottom: 8px;
        }
        
        .content {
            flex: 1;
            padding: 20px;
        }
        
        .meal-section {
            margin-bottom: 20px;
            page-break-inside: avoid;
        }
        
        .meal-title {
            font-size: 20px;
            font-weight: 700;
            color: #2d5016;
            text-align: right;
            margin-bottom: 12px;
            padding-bottom: 6px;
            border-bottom: 2px solid #4CAF50;
            background-color: #f0f8f0;
            padding: 8px 12px;
            border-radius: 6px;
        }
        
        .meal-subtitle {
            font-size: 14px;
            font-weight: 600;
            color: #4CAF50;
            text-align: right;
            margin-bottom: 8px;
        }
        
        .meal-options {
            margin-right: 20px;
        }
        
        .meal-option {
            margin-bottom: 8px;
            font-size: 14px;
            line-height: 1.4;
            padding-left: 15px;
            padding-right: 15px;
            position: relative;
        }
        
        .meal-option::before {
            content: '•';
            color: #4CAF50;
            font-weight: bold;
            position: absolute;
            left: 0;
            top: 0;
            font-size: 16px;
        }
        
        [dir="rtl"] .meal-option {
            padding-left: 0;
            padding-right: 15px;
        }
        
        [dir="rtl"] .meal-option::before {
            left: auto;
            right: 0;
        }
        
        .option-text {
            color: #333;
        }
        
        .highlighted {
            text-decoration: underline;
            text-decoration-color: #ff4444;
            text-decoration-thickness: 2px;
        }
        
        .meal-dish-title {
            font-weight: 700;
            color: #4CAF50;
            font-size: 14px;
            margin-bottom: 4px;
            text-decoration: underline;
        }
        
        .bold-note {
            font-weight: 700;
            color: #333;
        }
        
        .footer {
            background: #e8f5e8;
            padding: 15px;
            text-align: right;
        }
        
        .contact-info {
            color: #333;
            font-size: 14px;
            line-height: 1.8;
        }
        
        .contact-info div {
            margin-bottom: 5px;
        }
        
        @media print {
            /* ${z==="landscape"?"Set to A4 landscape with 10mm margins":"Disable browser headers and footers"} */
            @page {
                margin: ${z==="landscape"?"10mm":"0"};
                size: A4${z==="landscape"?" landscape":""};
            }
            
            body {
                font-size: 12px;
                margin: 0;
                padding: 0;
            }
            
            ${z==="portrait"?`
            /* Portrait-specific: Footer at bottom of last page */
            .page {
                display: block !important;
                min-height: auto !important;
            }
            
            .content {
                display: block !important;
                page-break-after: auto;
            }
            
            .footer {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                width: 100%;
                z-index: 1000;
            }
            
            /* Ensure content doesn't overlap with fixed footer */
            .content {
                margin-bottom: 80px;
            }
            `:""}
            
            .header {
                padding: 20px;
            }
            
            .logo {
                width: 50px;
                height: 50px;
                font-size: 20px;
                margin-bottom: 15px;
            }
            
            .main-title {
                font-size: 28px;
                margin-bottom: 8px;
            }
            
            .user-name {
                font-size: 20px;
                margin-bottom: 8px;
            }
            
            .date {
                font-size: 16px;
                margin-bottom: 8px;
            }
            
            .content {
                padding: ${z==="landscape"?"6px 15px":"20px"};
                ${z==="landscape"?"display: flex; flex-wrap: wrap; gap: 12px;":""}
            }
            
            .meal-title {
                font-size: 18px;
                margin-bottom: 12px;
            }
            
            .meal-subtitle {
                font-size: 14px;
                margin-bottom: 8px;
            }
            
            .meal-option {
                font-size: 14px;
                margin-bottom: 6px;
                padding-left: 15px;
                padding-right: 15px;
            }
            
            [dir="rtl"] .meal-option {
                padding-left: 0;
                padding-right: 15px;
            }
            
            [dir="rtl"] .meal-option::before {
                left: auto;
                right: 0;
            }
            
            .footer {
                padding: 15px;
            }
            
            .contact-info {
                font-size: 12px;
            }
            
            /* Keep meal sections together but allow natural flow */
            .meal-section {
                page-break-inside: avoid;
                break-inside: avoid;
                ${z==="landscape"?"flex: 1 1 calc(50% - 6px); min-width: 280px; margin-bottom: 12px;":""}
            }
            
            ${z==="landscape"?`
            /* Landscape-specific styles */
            body {
                font-size: 11px !important;
            }
            
            .header {
                padding: 3px 15px !important;
            }
            
            .logo {
                width: 24px !important;
                height: 24px !important;
                font-size: 12px !important;
                margin-bottom: 2px !important;
            }
            
            .main-title {
                font-size: 14px !important;
                margin-bottom: 1px !important;
            }
            
            .user-name {
                font-size: 13px !important;
                margin-bottom: 1px !important;
            }
            
            .date {
                font-size: 10px !important;
                margin-bottom: 1px !important;
            }
            
            .meal-title {
                font-size: 16px !important;
                margin-bottom: 6px !important;
                padding: 4px 8px !important;
            }
            
            .meal-subtitle {
                font-size: 12px !important;
                margin-bottom: 4px !important;
            }
            
            .meal-option {
                font-size: 11px !important;
                margin-bottom: 4px !important;
                padding-left: 12px !important;
                padding-right: 12px !important;
            }
            
            [dir="rtl"] .meal-option {
                padding-left: 0 !important;
                padding-right: 12px !important;
            }
            
            [dir="rtl"] .meal-option::before {
                left: auto !important;
                right: 0 !important;
            }
            
            .meal-dish-title {
                font-size: 12px !important;
                margin-bottom: 2px !important;
            }
            
            .footer {
                padding: 2px 15px !important;
                font-size: 8px !important;
            }
            
            .contact-info {
                font-size: 8px !important;
                line-height: 1.1 !important;
            }
            
            .contact-info div {
                margin-bottom: 1px !important;
            }
            
            /* Fallback to three columns if needed for many meals */
            @supports (display: grid) {
                .content {
                    display: grid !important;
                    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)) !important;
                    gap: 15px !important;
                }
                
                .meal-section {
                    flex: none !important;
                }
            }
            `:""}
        }
        
        /* RTL Support */
        [dir="rtl"] {
            text-align: right;
        }
        
        [dir="rtl"] .meal-options {
            margin-right: 0;
            margin-left: 20px;
        }
        
        [dir="rtl"] .option-number {
            margin-left: 0;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="page">
        <div class="header">
            <div class="logo">BC</div>
            <div class="main-title">תפריט אישי</div>
            <div class="user-name">${ge}</div>
            <div class="date">${he}</div>
        </div>
        
        <div class="content">
            ${$.meals?$.meals.map((be,Xt)=>{const Re=be.meal||`Meal ${Xt+1}`,$t=Re.toLowerCase().includes("snack")||Re.toLowerCase().includes("ביניים");return`
                    <div class="meal-section">
                        <h2 class="meal-title">${Re}</h2>
                        ${$t?'<div class="meal-subtitle">לבחירתך מתי</div>':""}
                        
                        <div class="meal-options">
                            ${(()=>{let hr=[];if(be.main&&be.main.ingredients&&be.main.ingredients.length>0){const Zt=be.main.meal_title||"",gr=be.main.ingredients.map(Zr=>{let or=Zr.item||"Ingredient";return se&&(or=or.replace(/\s*\([^)]*\)$/,"")),or=or.replace(/\b(וגן|קוביה|בישבת|טורטיות|סולוג|מולך|אלשבע|בולים)\b/g,'<span class="highlighted">$1</span>'),Zr.household_measure&&(or+=` (${Zr.household_measure})`),or}).join(", "),ir=Zt?`<div class="meal-dish-title">${Zt}</div>`:"";hr.push(`<div class="meal-option"><span class="option-text">${ir}${gr}</span></div>`)}if(be.alternative&&be.alternative.ingredients&&be.alternative.ingredients.length>0){const Zt=be.alternative.meal_title||"",gr=be.alternative.ingredients.map(Zr=>{let or=Zr.item||"Ingredient";return se&&(or=or.replace(/\s*\([^)]*\)$/,"")),or=or.replace(/\b(וגן|קוביה|בישבת|טורטיות|סולוג|מולך|אלשבע|בולים)\b/g,'<span class="highlighted">$1</span>'),Zr.household_measure&&(or+=` (${Zr.household_measure})`),or}).join(", "),ir=Zt?`<div class="meal-dish-title">${Zt}</div>`:"";hr.push(`<div class="meal-option"><span class="option-text">${ir}${gr}</span></div>`)}return be.alternatives&&be.alternatives.length>0&&be.alternatives.forEach(Zt=>{if(Zt.ingredients&&Zt.ingredients.length>0){const gr=Zt.meal_title||"",ir=Zt.ingredients.map(or=>{let Kr=or.item||"Ingredient";return se&&(Kr=Kr.replace(/\s*\([^)]*\)$/,"")),Kr=Kr.replace(/\b(וגן|קוביה|בישבת|טורטיות|סולוג|מולך|אלשבע|בולים)\b/g,'<span class="highlighted">$1</span>'),or.household_measure&&(Kr+=` (${or.household_measure})`),Kr}).join(", "),Zr=gr?`<div class="meal-dish-title">${gr}</div>`:"";hr.push(`<div class="meal-option"><span class="option-text">${Zr}${ir}</span></div>`)}}),(Re.toLowerCase().includes("lunch")||Re.toLowerCase().includes("צהרים"))&&hr.push('<div class="meal-option"><span class="bold-note">**אם רוצה אז להוסיף לך חלבון וירקות**</span></div>'),hr.join("")})()}
                        </div>
                    </div>
                `}).join(""):""}
        </div>
        
        <div class="footer">
            <div class="contact-info">
                <div>כתובת: משכית 10, הרצליה</div>
                <div>לקביעת תור: 054-3066442</div>
                <div>א"ל: galbecker106@gmail.com</div>
            </div>
        </div>
    </div>
</body>
</html>`}function wt($){let z=0,se=0,ue=0,he=0;return $.meals?($.meals.forEach(ge=>{var we;const fe=((we=ge==null?void 0:ge.main)==null?void 0:we.nutrition)||{};z+=Number(fe.calories)||0,se+=typeof fe.protein=="string"?parseFloat(fe.protein)||0:Number(fe.protein)||0,ue+=typeof fe.fat=="string"?parseFloat(fe.fat)||0:Number(fe.fat)||0,he+=typeof fe.carbs=="string"?parseFloat(fe.carbs)||0:Number(fe.carbs)||0}),{calories:Math.round(z),protein:Math.round(se),fat:Math.round(ue),carbs:Math.round(he)}):{calories:0,protein:0,fat:0,carbs:0}}const kt=($,z,se)=>{x(ue=>{m(ue);const he=JSON.parse(JSON.stringify(ue)),ge=he.meals[z],fe=se==="main"?ge.main:ge.alternative;return fe.meal_title=$,he}),S(ue=>{if(!ue)return ue;const he=JSON.parse(JSON.stringify(ue)),ge=he.meals[z],fe=se==="main"?ge.main:ge.alternative;return fe.meal_title=$,he})},Je=($,z,se,ue)=>{x(he=>{m(he);const ge=JSON.parse(JSON.stringify(he)),fe=ge.meals[z],we=se==="main"?fe.main:fe.alternative;we.ingredients[ue]=$;const ct=we.meal_title?we.meal_title.split(" with ")[0]:fe.meal;we.meal_title=ct;const Ge=we.ingredients.reduce((Ee,be)=>(Ee.calories+=Number(be.calories)||0,Ee.protein+=Number(be.protein)||0,Ee.fat+=Number(be.fat)||0,Ee.carbs+=Number(be.carbs)||0,Ee),{calories:0,protein:0,fat:0,carbs:0});return we.nutrition={calories:Math.round(Ge.calories),protein:Math.round(Ge.protein),fat:Math.round(Ge.fat),carbs:Math.round(Ge.carbs)},ge.totals=wt(ge),ge}),S(he=>{if(!he)return he;const ge=JSON.parse(JSON.stringify(he)),fe=ge.meals[z],we=se==="main"?fe.main:fe.alternative;we.ingredients[ue]=$;const ct=we.meal_title?we.meal_title.split(" with ")[0]:fe.meal;we.meal_title=ct;const Ge=we.ingredients.reduce((Ee,be)=>(Ee.calories+=Number(be.calories)||0,Ee.protein+=Number(be.protein)||0,Ee.fat+=Number(be.fat)||0,Ee.carbs+=Number(be.carbs)||0,Ee),{calories:0,protein:0,fat:0,carbs:0});return we.nutrition={calories:Math.round(Ge.calories),protein:Math.round(Ge.protein),fat:Math.round(Ge.fat),carbs:Math.round(Ge.carbs)},ge.totals=wt(ge),ge})},Ft=($,z,se,ue)=>{x(he=>{m(he);const ge=JSON.parse(JSON.stringify(he)),fe=ge.meals[z],we=se==="main"?fe.main:fe.alternative;return we.ingredients[ue].household_measure=$,ge}),S(he=>{if(!he)return he;const ge=JSON.parse(JSON.stringify(he)),fe=ge.meals[z],we=se==="main"?fe.main:fe.alternative;return we.ingredients[ue].household_measure=$,ge})},pr=($,z,se,ue)=>{G($),Ce({mealIndex:z,optionIndex:se,ingredientIndex:ue}),L(!0)},br=()=>{L(!1),G(null),Ce(null)},Lr=$=>{if(de){const{mealIndex:z,optionIndex:se,ingredientIndex:ue}=de;Je($,z,se,ue)}br()},Fr=($,z=null)=>{x(se=>{m(se);const ue=JSON.parse(JSON.stringify(se)),he=ue.meals[$];if(z!==null){const ge=he.alternatives[z],fe=he.main;he.main=ge,he.alternatives[z]=fe}else{const ge=he.main,fe=he.alternative;he.main=fe,he.alternative=ge}return ue.totals=wt(ue),ue}),S(se=>{if(!se)return se;const ue=JSON.parse(JSON.stringify(se)),he=ue.meals[$];if(z!==null){const ge=he.alternatives[z],fe=he.main;he.main=ge,he.alternatives[z]=fe}else{const ge=he.main,fe=he.alternative;he.main=fe,he.alternative=ge}return ue.totals=wt(ue),ue})},ye=($,z,se,ue=null)=>{x(he=>{m(he);const ge=JSON.parse(JSON.stringify(he)),fe=ge.meals[$];let we;ue!==null?we=fe.alternatives[ue]:we=z==="main"?fe.main:fe.alternative,we.ingredients.splice(se,1);const ct=we.meal_title?we.meal_title.split(" with ")[0]:fe.meal;we.meal_title=ct;const Ge=we.ingredients.reduce((Ee,be)=>(Ee.calories+=Number(be.calories)||0,Ee.protein+=Number(be.protein)||0,Ee.fat+=Number(be.fat)||0,Ee.carbs+=Number(be.carbs)||0,Ee),{calories:0,protein:0,fat:0,carbs:0});return we.nutrition={calories:Math.round(Ge.calories),protein:Math.round(Ge.protein),fat:Math.round(Ge.fat),carbs:Math.round(Ge.carbs)},ge.totals=wt(ge),ge}),S(he=>{if(!he)return he;const ge=JSON.parse(JSON.stringify(he)),fe=ge.meals[$];let we;ue!==null?we=fe.alternatives[ue]:we=z==="main"?fe.main:fe.alternative,we.ingredients.splice(se,1);const ct=we.meal_title?we.meal_title.split(" with ")[0]:fe.meal;we.meal_title=ct;const Ge=we.ingredients.reduce((Ee,be)=>(Ee.calories+=Number(be.calories)||0,Ee.protein+=Number(be.protein)||0,Ee.fat+=Number(be.fat)||0,Ee.carbs+=Number(be.carbs)||0,Ee),{calories:0,protein:0,fat:0,carbs:0});return we.nutrition={calories:Math.round(Ge.calories),protein:Math.round(Ge.protein),fat:Math.round(Ge.fat),carbs:Math.round(Ge.carbs)},ge.totals=wt(ge),ge})},Ne=async $=>{var z,se,ue;try{if(pe(!0),T(null),console.log("🎯 Fetching nutritional targets for user:",$),!$)return console.error("❌ No user code provided"),T("No user code provided"),null;console.log("🔍 Testing database connectivity...");const{data:he,error:ge}=await lt.from("chat_users").select("user_code").limit(1);if(console.log("🔍 Database connectivity test:",{testData:he,testError:ge}),ge)return console.error("❌ Database connectivity issue:",ge),T("Database connection issue: "+ge.message),null;console.log("🔍 Querying database for user_code:",$);const{data:fe,error:we}=await lt.from("chat_users").select("dailyTotalCalories, macros, region, food_allergies, food_limitations, age, gender, weight_kg, height_cm, client_preference, meal_plan_structure").eq("user_code",$).single();if(console.log("📊 Database response:",{data:fe,error:we}),we)return console.error("❌ Error fetching user targets:",we),we.code==="PGRST116"?(console.error("❌ No user found with code:",$),T(`No user found with code: ${$}. Please check if the user exists in the database.`)):T("Failed to load user targets: "+we.message),null;if(!fe)return console.error("❌ No data returned from database"),T("No data returned from database for user: "+$),null;console.log("✅ Fetched user targets:",fe);const ct=[];fe.dailyTotalCalories||ct.push("dailyTotalCalories"),fe.macros||ct.push("macros"),ct.length>0&&(console.warn("⚠️ Missing essential fields:",ct),console.log("Available data:",fe));let Ge=fe.macros;if(typeof Ge=="string")try{Ge=JSON.parse(Ge)}catch(Re){console.warn("Failed to parse macros JSON:",Re),Ge={protein:"150g",fat:"80g",carbs:"250g"}}const Ee=Re=>{if(Array.isArray(Re))return Re;if(typeof Re=="string")try{return JSON.parse(Re)}catch{return Re.split(",").map(hr=>hr.trim()).filter(Boolean)}return[]},be={calories:fe.dailyTotalCalories||2e3,macros:{protein:parseFloat(((z=Ge==null?void 0:Ge.protein)==null?void 0:z.replace("g",""))||"150"),fat:parseFloat(((se=Ge==null?void 0:Ge.fat)==null?void 0:se.replace("g",""))||"80"),carbs:parseFloat(((ue=Ge==null?void 0:Ge.carbs)==null?void 0:ue.replace("g",""))||"250")},region:fe.region||"israel",allergies:Ee(fe.food_allergies),limitations:Ee(fe.food_limitations),age:fe.age,gender:fe.gender,weight_kg:fe.weight_kg,height_cm:fe.height_cm,client_preference:Ee(fe.client_preference),meal_plan_structure:Ee(fe.meal_plan_structure)};console.log("✅ Processed user targets:",be),_e(be);const Xt=Ee(fe.meal_plan_structure);if(Xt&&Xt.length>0){const Re=Xt.map($t=>({...$t,key:$t.key||sn($t.meal),locked:!1}));er(Re)}else{const Re=Pt(re);er(Re)}return T(null),be}catch(he){return console.error("❌ Error in fetchUserTargets:",he),T("Failed to load user targets: "+he.message),null}finally{pe(!1)}},De=($,z)=>{const se=parseInt(z)||0;return $.map(ue=>({...ue,calories:Math.round(ue.calories_pct/100*se)}))},gt=($,z,se=-1)=>{const ue=parseInt(z)||0;if(ue===0)return $;if(se>=0){const he=$.filter((Ee,be)=>Ee.locked).reduce((Ee,be)=>Ee+(be.calories||0),0),ge=$[se].calories||0,fe=he+ge,we=ue-fe,ct=$.filter((Ee,be)=>!Ee.locked&&be!==se).reduce((Ee,be)=>Ee+(be.calories||0),0),Ge=ct>0?we/ct:0;return $.map((Ee,be)=>{if(Ee.locked)return{...Ee,calories_pct:ue>0?Math.round((Ee.calories||0)/ue*100*10)/10:0};if(be===se)return{...Ee,calories_pct:ue>0?Math.round((Ee.calories||0)/ue*100*10)/10:0};{const Xt=Math.round((Ee.calories||0)*Ge);return{...Ee,calories:Math.max(0,Xt),calories_pct:ue>0?Math.round(Xt/ue*100*10)/10:0}}})}return $.map(he=>({...he,calories_pct:ue>0?Math.round((he.calories||0)/ue*100*10)/10:0}))},rr=()=>{const $={meal:`Meal ${bt.length+1}`,calories_pct:0,description:"",calories:0,locked:!1},z=[...bt,$];er(z)},ur=$=>{const z=bt.filter((Ee,be)=>be!==$),se=(K==null?void 0:K.calories)||0;if(se===0){er(z);return}const ue=z.filter(Ee=>Ee.locked).reduce((Ee,be)=>Ee+(be.calories||0),0),he=z.filter(Ee=>!Ee.locked).reduce((Ee,be)=>Ee+(be.calories||0),0),ge=se-ue;if(ge<=0){const Ee=z.map(be=>be.locked?{...be,calories_pct:se>0?Math.round((be.calories||0)/se*100*10)/10:0}:{...be,calories:0,calories_pct:0});er(Ee),alert("Warning: Locked meals exceed daily target. Unlocked meals set to 0 calories.");return}const fe=he>0?ge/he:0;let we=z.map(Ee=>{if(Ee.locked)return{...Ee,calories_pct:se>0?Math.round((Ee.calories||0)/se*100*10)/10:0};{const be=Math.round((Ee.calories||0)*fe);return{...Ee,calories:be,calories_pct:se>0?Math.round(be/se*100*10)/10:0}}});const ct=we.reduce((Ee,be)=>Ee+(be.calories||0),0),Ge=se-ct;if(Ge!==0){const Ee=we.map((be,Xt)=>({meal:be,idx:Xt})).filter(({meal:be})=>!be.locked).sort(({meal:be},{meal:Xt})=>(Xt.calories||0)-(be.calories||0));if(Ee.length>0){const be=Ee[0].idx;we[be]={...we[be],calories:Math.max(0,(we[be].calories||0)+Ge),calories_pct:se>0?Math.round(((we[be].calories||0)+Ge)/se*100*10)/10:0}}}er(we)},vt=($,z,se)=>{const ue=[...bt];if(ue[$]={...ue[$],[z]:se},z==="calories"){const he=(K==null?void 0:K.calories)||0;ue[$].calories=parseInt(se)||0;const ge=gt(ue,he,$);er(ge)}else er(ue)},Er=($,z)=>{const se=[...bt],ue=z==="up"?$-1:$+1;ue<0||ue>=se.length||([se[$],se[ue]]=[se[ue],se[$]],er(se))},Sn=($,z)=>{const se=parseInt(z)||0,ue=(K==null?void 0:K.calories)||0,he=bt.filter((fe,we)=>fe.locked&&we!==$).reduce((fe,we)=>fe+(we.calories||0),0);bt.filter((fe,we)=>!fe.locked&&we!==$).reduce((fe,we)=>fe+(we.calories||0),0);const ge=ue-he;Kn(fe=>({...fe,[$]:z})),se>ge?Gr(fe=>({...fe,[$]:`Cannot exceed ${ge} calories (${ue} total - ${he} locked)`})):Gr(fe=>{const we={...fe};return delete we[$],we})},Jn=$=>{const z=qr[$];if(z===void 0)return;const se=parseInt(z)||0,ue=(K==null?void 0:K.calories)||0,he=bt.filter((fe,we)=>fe.locked&&we!==$).reduce((fe,we)=>fe+(we.calories||0),0),ge=ue-he;if(se>ge){const fe=bt.map((we,ct)=>we.locked?we:{...we,calories:0,calories_pct:0});er(fe),Kn({}),Gr({}),alert(`Input exceeds daily limit! All unlocked meals have been reset to 0 calories.
Limit: ${ge} calories (${ue} total - ${he} locked)`);return}vt($,"calories",z),Kn(fe=>{const we={...fe};return delete we[$],we}),Gr(fe=>{const we={...fe};return delete we[$],we})},yn=$=>{Kn(z=>{const se={...z};return delete se[$],se}),Gr(z=>{const se={...z};return delete se[$],se})},Di=async()=>{if(!(q!=null&&q.user_code)){alert("No client selected. Please select a client first.");return}try{const $=bt.map(ue=>({meal:ue.meal,description:ue.description,calories:ue.calories,calories_pct:ue.calories_pct}));console.log("💾 Saving meal plan structure for user:",q.user_code),console.log("📋 Meal plan data:",$);const{data:z,error:se}=await lt.from("chat_users").update({meal_plan_structure:$}).eq("user_code",q.user_code).select();if(se){console.error("❌ Error saving meal plan structure:",se),alert(`Failed to save meal plan structure: ${se.message}`);return}console.log("✅ Meal plan structure saved successfully:",z),alert("Meal plan structure saved successfully!")}catch($){console.error("❌ Error in saveMealPlanStructure:",$),alert(`Failed to save meal plan structure: ${$.message}`)}},xo=async $=>{var z;try{const se=new Map,ue=[];let he=0,ge=0;$.meals.forEach(($t,hr)=>{["main","alternative"].forEach(Zt=>{var gr;(gr=$t[Zt])!=null&&gr.ingredients&&$t[Zt].ingredients.forEach((ir,Zr)=>{const or=ir["brand of pruduct"]||ir.brand||"",Kr=ir.item||"",Dr=`${or}|${Kr}`.toLowerCase();if(ge++,Ve.has(Dr)){ir.UPC=Ve.get(Dr),he++;return}se.has(Dr)||se.set(Dr,{brand:or,name:Kr,upc:null}),ue.push({key:Dr,mealIndex:hr,section:Zt,ingredientIndex:Zr,ingredient:ir})})}),$t.alternatives&&Array.isArray($t.alternatives)&&$t.alternatives.forEach((Zt,gr)=>{Zt!=null&&Zt.ingredients&&Zt.ingredients.forEach((ir,Zr)=>{const or=ir["brand of pruduct"]||ir.brand||"",Kr=ir.item||"",Dr=`${or}|${Kr}`.toLowerCase();if(ge++,Ve.has(Dr)){ir.UPC=Ve.get(Dr),he++;return}se.has(Dr)||se.set(Dr,{brand:or,name:Kr,upc:null}),ue.push({key:Dr,mealIndex:hr,section:"alternatives",alternativeIndex:gr,ingredientIndex:Zr,ingredient:ir})})})});const fe=Array.from(se.values()),we=ge>0?Math.round(he/ge*100):0;if(fe.length===0)return $;const ct=await fetch("https://dietitian-be.azurewebsites.net/api/batch-upc-lookup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ingredients:fe,user_code:q.user_code})});if(!ct.ok)return console.error("Batch UPC lookup failed, falling back to individual lookups"),await M($);const Ge=await ct.json(),Ee=new Map(Ve);Ge.results.forEach($t=>{const hr=`${$t.brand}|${$t.name}`.toLowerCase();Ee.set(hr,$t.upc)}),Fe(Ee);const be=JSON.parse(JSON.stringify($));ue.forEach($t=>{const hr=Ee.get($t.key);$t.section==="alternatives"?be.meals[$t.mealIndex].alternatives[$t.alternativeIndex].ingredients[$t.ingredientIndex].UPC=hr:be.meals[$t.mealIndex][$t.section].ingredients[$t.ingredientIndex].UPC=hr});const Xt=ge>0?Math.round(he/ge*100):0,Re=((z=Ge.summary)==null?void 0:z.successful)||0;return be}catch(se){return console.error("Error in streamlined UPC enrichment:",se),await M($)}},M=async $=>{try{O("🔄 Using fallback UPC lookup...");const se=await(await fetch("https://dietitian-be.azurewebsites.net/api/enrich-menu-with-upc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({menu:$.meals,user_code:q.user_code})})).json();return se.error?(console.error("UPC enrichment failed:",se.error),$):{...$,meals:se.menu}}catch(z){return console.error("Fallback UPC enrichment also failed:",z),$}},H=()=>{try{console.log("🧹 Clearing saved menu state..."),localStorage.removeItem("menuCreate_menu"),localStorage.removeItem("menuCreate_originalMenu"),localStorage.removeItem("menuCreate_userTargets"),localStorage.removeItem("menuCreate_recommendations"),x(null),S(null),_e(null),Hr([]),T(null),console.log("✅ Menu state cleared successfully")}catch($){console.warn("Failed to clear saved menu state:",$)}},oe=async()=>{Q(!1),await je()},ke=()=>{Q(!1)},je=async()=>{T(null),console.log("🔄 Refreshing nutrition targets like user selection..."),I(0),O("🔄 Refreshing nutrition targets...");const $=()=>new Promise(se=>{const ue=()=>{K?se(K):setTimeout(ue,100)};ue()});Ne(q.user_code);const z=await $();if(z)console.log("✅ User targets loaded successfully:",z);else if(console.warn("⚠️ First attempt failed, trying one more time..."),O("🔄 Retrying nutrition targets..."),Ne(q.user_code),!await $()){T("Unable to load client nutritional targets. Please check the client data and try again."),I(0),O("");return}try{H(),P(!0),T(null),I(0),O("Initializing..."),console.log("🧠 Generating menu for user:",q.user_code),console.log("🔍 Selected client data:",q),console.log("🎯 Current user targets:",K),I(5),O("🎯 Analyzing client preferences...");const se=await fetch("https://dietitian-be.azurewebsites.net/api/template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_code:q.user_code})});if(console.log("📡 Template API response status:",se.status),!se.ok){const be=await se.text();throw console.error("❌ Template API error response:",be),se.status===404?new Error("Client not found. Please check if the client exists in the database."):se.status===500?new Error("Server error while analyzing client preferences. Please try again in a moment."):se.status===503?new Error("Menu generation service is temporarily unavailable. Please try again later."):new Error("Please fill all the client data in the client page (dietary preferences, restrictions, goals, physical information, etc.) and try again.")}const ue=await se.json();if(console.log("📋 Template API response data:",ue),ue.error)throw ue.error.includes("Template validation failed")?new Error("Unable to create a balanced meal plan that meets the client's nutritional requirements. Please check the client's dietary restrictions and try again."):ue.error.includes("Failed to generate template")?new Error("Unable to create a meal template. The system is having trouble with the client's dietary preferences. Please review the client's profile and try again."):new Error(`Template creation failed: ${ue.error}`);if(!ue.template)throw new Error("No meal template was generated. Please check the client's profile and try again.");const he=ue.template;I(25),O("✅ Client analysis complete!"),I(30),O("🍽️ Creating personalized meals...");const ge=setInterval(()=>{I(be=>be>=99?(clearInterval(ge),99):be+1)},2e3),fe=be=>!be||typeof be!="object"?be:be.main&&Array.isArray(be.main)?{...be,main:be.main.map(Xt=>({...Xt,carbs:Xt.carbs??50}))}:Array.isArray(be)?be.map(Xt=>({...Xt,carbs:Xt.carbs??50})):{...be,carbs:be.carbs??50},we=he.map(be=>({meal:be.meal,main:fe(be.main),alternative:fe(be.alternative)})),ct=await fetch("https://dietitian-be.azurewebsites.net/api/build-menu",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:we,user_code:q.user_code})});if(!ct.ok){if(ct.status===500)throw new Error("Server error while creating meals. Please try again in a moment.");if(ct.status===503)throw new Error("Meal creation service is temporarily unavailable. Please try again later.");{const be=await ct.text().catch(()=>"");throw new Error(`Unable to create meals (Error ${ct.status}). ${be||""}`)}}const Ge=await ct.json();if(Ge.error)throw Ge.error.includes("Template validation failed")?new Error("The meal plan doesn't meet the client's nutritional requirements. Please try generating a new menu."):Ge.error.includes("Menu build failed")?new Error("Unable to create the complete meal plan. Please try again."):new Error(`Meal creation failed: ${Ge.error}`);if(!Ge.menu)throw new Error("No meals were created. Please try generating the menu again.");I(60),O("🔢 Calculating nutrition values...");const Ee={meals:Ge.menu,totals:wt({meals:Ge.menu}),note:Ge.note||""};if(I(70),O("🛒 Adding product codes..."),x(Ee),S(Ee),I(85),O("🌐 Preparing menu display..."),ze==="he"){O("🌐 Translating to Hebrew...");const be=await tc(Ee,"he");x(be)}I(100),O("🎉 Menu ready!"),setTimeout(()=>{I(0),O("")},1500),console.log("🔄 Starting background UPC enrichment..."),Z(!0),xo(Ee).then(be=>{console.log("✅ Background UPC enrichment completed"),S(be),ze==="he"?tc(be,"he").then(Xt=>{x(Xt)}):x(be),qt(!0)}).catch(be=>{console.error("❌ Background UPC enrichment failed:",be)}).finally(()=>{Z(!1)})}catch(se){console.error("Error generating menu:",se),T(se.message||"Failed to generate menu. Please try again."),I(0),O(""),typeof progressInterval<"u"&&clearInterval(progressInterval)}finally{P(!1),typeof progressInterval<"u"&&clearInterval(progressInterval)}},Le=async()=>{if(!q){T("Please select a client before generating a menu.");return}const $=!bt||bt.length===0,z=bt&&bt.every(he=>!he.description||he.description.trim()==="");if($||z){Q(!0);return}T(null),console.log("🔄 Refreshing nutrition targets like user selection..."),I(0),O("🔄 Refreshing nutrition targets...");const se=()=>new Promise(he=>{const ge=()=>{K?he(K):setTimeout(ge,100)};ge()});Ne(q.user_code);const ue=await se();if(ue)console.log("✅ User targets loaded successfully:",ue);else if(console.warn("⚠️ First attempt failed, trying one more time..."),O("🔄 Retrying nutrition targets..."),Ne(q.user_code),!await se()){T("Unable to load client nutritional targets. Please check the client data and try again."),I(0),O("");return}try{H(),P(!0),T(null),I(0),O("Initializing..."),console.log("🧠 Generating menu for user:",q.user_code),console.log("🔍 Selected client data:",q),console.log("🎯 Current user targets:",K),I(5),O("🎯 Analyzing client preferences...");const he=await fetch("https://dietitian-be.azurewebsites.net/api/template",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_code:q.user_code})});if(console.log("📡 Template API response status:",he.status),!he.ok){const Re=await he.text();throw console.error("❌ Template API error response:",Re),he.status===404?new Error("Client not found. Please check if the client exists in the database."):he.status===500?new Error("Server error while analyzing client preferences. Please try again in a moment."):he.status===503?new Error("Menu generation service is temporarily unavailable. Please try again later."):new Error("Please fill all the client data in the client page (dietary preferences, restrictions, goals, physical information, etc.) and try again.")}const ge=await he.json();if(console.log("📋 Template API response data:",ge),ge.error)throw ge.error.includes("Template validation failed")?new Error("Unable to create a balanced meal plan that meets the client's nutritional requirements. Please check the client's dietary restrictions and try again."):ge.error.includes("Failed to generate template")?new Error("Unable to create a meal template. The system is having trouble with the client's dietary preferences. Please review the client's profile and try again."):new Error(`Template creation failed: ${ge.error}`);if(!ge.template)throw new Error("No meal template was generated. Please check the client's profile and try again.");const fe=ge.template;I(25),O("✅ Client analysis complete!"),I(30),O("🍽️ Creating personalized meals...");const we=setInterval(()=>{I(Re=>Re>=99?(clearInterval(we),99):Re+1)},2e3),ct=Re=>{if(!Re)return Re;if(Re.calories!=null&&Re.protein!=null&&Re.fat!=null&&(Re.carbs==null||Number.isNaN(Re.carbs))){const hr=Number(Re.calories)-4*Number(Re.protein)-9*Number(Re.fat),Zt=Math.max(0,Math.round(hr/4));return{...Re,carbs:Zt}}return Re},Ge=(fe||[]).map(Re=>({...Re,main:ct(Re.main),alternative:ct(Re.alternative)})),Ee=await fetch("https://dietitian-be.azurewebsites.net/api/build-menu",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({template:Ge,user_code:q.user_code})});if(!Ee.ok){if(Ee.status===500)throw new Error("Server error while creating meals. Please try again in a moment.");if(Ee.status===503)throw new Error("Meal creation service is temporarily unavailable. Please try again later.");{const Re=await Ee.text().catch(()=>"");throw new Error(`Unable to create meals (Error ${Ee.status}). ${Re||""}`)}}const be=await Ee.json();if(be.error)throw be.error.includes("Template validation failed")?new Error("The meal plan doesn't meet the client's nutritional requirements. Please try generating a new menu."):be.error.includes("Menu build failed")?new Error("Unable to create the complete meal plan. Please try again."):new Error(`Meal creation failed: ${be.error}`);if(!be.menu)throw new Error("No meals were created. Please try generating the menu again.");I(60),O("🔢 Calculating nutrition values...");const Xt={meals:be.menu,totals:wt({meals:be.menu}),note:be.note||""};if(I(70),O("🛒 Adding product codes..."),x(Xt),S(Xt),I(85),O("🌐 Preparing menu display..."),ze==="he"){O("🌐 Translating to Hebrew...");const Re=await tc(Xt,"he");x(Re)}I(100),O("🎉 Menu ready!"),setTimeout(()=>{I(0),O("")},1500),console.log("🔄 Starting background UPC enrichment..."),Z(!0),xo(Xt).then(Re=>{console.log("✅ Background UPC enrichment completed"),S(Re),ze==="he"?tc(Re,"he").then($t=>{x($t)}):x(Re),qt(!0)}).catch(Re=>{console.error("❌ Background UPC enrichment failed:",Re)}).finally(()=>{Z(!1)})}catch(he){console.error("Error generating menu:",he),he.name==="TypeError"&&he.message.includes("fetch")?T("Unable to connect to the menu generation service. Please check your internet connection and try again."):he.message.includes("Failed to fetch")?T("Connection to the menu service was lost. Please check your internet connection and try again."):he.message.includes("NetworkError")?T("Network connection error. Please check your internet connection and try again."):T(he.message||"Something unexpected went wrong while creating your menu. Please try again."),I(0),O(""),typeof progressInterval2<"u"&&clearInterval(progressInterval2)}finally{P(!1),typeof progressInterval2<"u"&&clearInterval(progressInterval2)}},tt=async $=>{var he,ge;console.log("🌐 Starting ingredient translation to English...");const z=JSON.parse(JSON.stringify($)),se=fe=>fe?/[\u0590-\u05FF]/.test(fe):!1,ue=async fe=>{if(!fe||!se(fe))return fe;try{const we=BJ(fe,"en"),ct=Wm(we);if(ct)return console.log(`📚 Using cached text translation: "${fe}" -> "${ct}"`),ct;console.log(`🌐 Translating: "${fe}"`);const Ge=await fetch("https://dietitian-be.azurewebsites.net/api/translate-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:fe,targetLang:"en"})});if(!Ge.ok)return console.error("❌ Translation API error:",Ge.status),fe;const Ee=await Ge.json();return console.log(`✅ Translated: "${fe}" -> "${Ee.translatedText}"`),rS(we,Ee.translatedText),Ee.translatedText}catch(we){return console.error("❌ Translation error:",we),fe}};for(const fe of z.meals||[]){if((he=fe.main)!=null&&he.ingredients)for(const we of fe.main.ingredients)we.item&&(we.item=await ue(we.item)),we.household_measure&&(we.household_measure=await ue(we.household_measure));if((ge=fe.alternative)!=null&&ge.ingredients)for(const we of fe.alternative.ingredients)we.item&&(we.item=await ue(we.item)),we.household_measure&&(we.household_measure=await ue(we.household_measure));if(fe.alternatives){for(const we of fe.alternatives)if(we.ingredients)for(const ct of we.ingredients)ct.item&&(ct.item=await ue(ct.item)),ct.household_measure&&(ct.household_measure=await ue(ct.household_measure))}}return console.log("✅ Ingredient translation completed"),z},Oe=async()=>{var $,z,se,ue,he,ge,fe;if(console.log("🔥 SAVE BUTTON CLICKED!"),console.log("📋 Original Menu:",_),!_){console.error("❌ No originalMenu found!");return}try{console.log("⏳ Starting save process..."),C(!0),T(null);const{data:{user:we},error:ct}=await lt.auth.getUser();if(ct||!we){console.error("❌ Authentication error:",ct),T("You must be logged in to save menus");return}console.log("👤 Authenticated user:",we.id),console.log("🔍 DEBUG: Checking ingredient data in originalMenu before saving:"),($=_.meals)==null||$.forEach((Re,$t)=>{var hr,Zt;console.log(`🍽️ Meal ${$t}: ${Re.meal}`),(hr=Re.main)!=null&&hr.ingredients&&Re.main.ingredients.forEach((gr,ir)=>{console.log(`  Main Ingredient ${ir}: ${gr.item} - UPC: "${gr.UPC}" (type: ${typeof gr.UPC})`)}),(Zt=Re.alternative)!=null&&Zt.ingredients&&Re.alternative.ingredients.forEach((gr,ir)=>{console.log(`  Alt Ingredient ${ir}: ${gr.item} - UPC: "${gr.UPC}" (type: ${typeof gr.UPC})`)})}),console.log("📊 Original Menu structure:",{meals:(z=_.meals)==null?void 0:z.length,totals:_.totals,hasNote:!!_.note}),console.log("🌐 Translating Hebrew ingredients to English...");const Ge=await tt(_);console.log("✅ Translation completed, using translated menu for saving");const Ee={template:((se=Ge.meals)==null?void 0:se.map(Re=>{var $t,hr,Zt,gr,ir,Zr,or,Kr,Dr,$a,La,bo,wo,Fa,zf,vu,_o,qf,yu,ps,xu,Wf,jo,So;return console.log("🍽️ Processing meal:",Re.meal),console.log("Main nutrition:",($t=Re.main)==null?void 0:$t.nutrition),console.log("Alt nutrition:",(hr=Re.alternative)==null?void 0:hr.nutrition),{meal:Re.meal,main:{name:((Zt=Re.main)==null?void 0:Zt.meal_title)||((gr=Re.main)==null?void 0:gr.name),calories:((Zr=(ir=Re.main)==null?void 0:ir.nutrition)==null?void 0:Zr.calories)||0,protein:parseFloat((Kr=(or=Re.main)==null?void 0:or.nutrition)==null?void 0:Kr.protein)||0,fat:parseFloat(($a=(Dr=Re.main)==null?void 0:Dr.nutrition)==null?void 0:$a.fat)||0,carbs:parseFloat((bo=(La=Re.main)==null?void 0:La.nutrition)==null?void 0:bo.carbs)||0,main_protein_source:((wo=Re.main)==null?void 0:wo.main_protein_source)||"Unknown"},alternative:{name:((Fa=Re.alternative)==null?void 0:Fa.meal_title)||((zf=Re.alternative)==null?void 0:zf.name),calories:((_o=(vu=Re.alternative)==null?void 0:vu.nutrition)==null?void 0:_o.calories)||0,protein:parseFloat((yu=(qf=Re.alternative)==null?void 0:qf.nutrition)==null?void 0:yu.protein)||0,fat:parseFloat((xu=(ps=Re.alternative)==null?void 0:ps.nutrition)==null?void 0:xu.fat)||0,carbs:parseFloat((jo=(Wf=Re.alternative)==null?void 0:Wf.nutrition)==null?void 0:jo.carbs)||0,main_protein_source:((So=Re.alternative)==null?void 0:So.main_protein_source)||"Unknown"}}}))||[]};console.log("📋 Schema template created:",JSON.stringify(Ee,null,2)),console.log("💾 Saving combined schema + meal plan...");const be={record_type:"meal_plan",meal_plan_name:`Meal Plan - ${(q==null?void 0:q.full_name)||"Unknown Client"}`,schema:Ee,meal_plan:Ge,status:"draft",daily_total_calories:((ue=Ge.totals)==null?void 0:ue.calories)||2e3,macros_target:{protein:((he=Ge.totals)==null?void 0:he.protein)||150,carbs:((ge=Ge.totals)==null?void 0:ge.carbs)||250,fat:((fe=Ge.totals)==null?void 0:fe.fat)||80},recommendations:Wr,dietary_restrictions:{},user_code:(q==null?void 0:q.user_code)||null,dietitian_id:we.id};console.log("📤 Combined payload:",JSON.stringify(be,null,2));const Xt=await $s.create(be);console.log("✅ Combined schema + menu saved successfully:",Xt),T(null),console.log("🎉 Schema and meal plan saved in single record!"),alert("Schema and meal plan saved successfully!")}catch(we){console.error("❌ Error during save process:",we),console.error("❌ Error stack:",we.stack),console.error("❌ Error message:",we.message),T(we.message||"Failed to save menu and schema")}finally{console.log("🏁 Save process completed, setting saving to false"),C(!1)}},Xe=($,z=!1)=>{var se,ue,he,ge,fe,we,ct,Ge;return $?o.jsxs("div",{className:`p-4 rounded-lg ${z?"bg-blue-50":"bg-green-50"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx(qJ,{value:$.meal_title,onChange:kt,mealIndex:$.mealIndex,optionIndex:z?"alternative":"main"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(mr,{variant:"outline",className:`${z?"bg-blue-100 border-blue-200":"bg-green-100 border-green-200"}`,children:typeof((se=$.nutrition)==null?void 0:se.calories)=="number"?$.nutrition.calories+" "+(re.calories||"kcal"):(ue=$.nutrition)==null?void 0:ue.calories}),z&&o.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>Fr($.mealIndex,$.alternativeIndex),className:"text-xs bg-green-50 hover:bg-green-100 border-green-200 text-green-700",title:re.makeMain||"Make this the main option",children:["⭐ ",re.makeMain||"Make Main"]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:re.protein||"Protein"}),o.jsx("p",{className:"font-medium",children:typeof((he=$.nutrition)==null?void 0:he.protein)=="number"?$.nutrition.protein.toFixed(1)+"g":(ge=$.nutrition)==null?void 0:ge.protein})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:re.fat||"Fat"}),o.jsx("p",{className:"font-medium",children:typeof((fe=$.nutrition)==null?void 0:fe.fat)=="number"?$.nutrition.fat.toFixed(1)+"g":(we=$.nutrition)==null?void 0:we.fat})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:re.carbs||"Carbs"}),o.jsx("p",{className:"font-medium",children:typeof((ct=$.nutrition)==null?void 0:ct.carbs)=="number"?$.nutrition.carbs.toFixed(1)+"g":(Ge=$.nutrition)==null?void 0:Ge.carbs})]})]}),o.jsxs("div",{children:[o.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:[re.ingredients||"Ingredients",":"]}),$.ingredients&&Array.isArray($.ingredients)&&$.ingredients.length>0?o.jsx("ul",{className:"space-y-1 mb-3",children:$.ingredients.map((Ee,be)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm group",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mt-2"}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(WJ,{value:Ee.item,onChange:Je,mealIndex:$.mealIndex,optionIndex:z?"alternative":"main",ingredientIndex:be,translations:re,currentIngredient:Ee,onPortionDialog:pr,autoFocus:be===$.ingredients.length-1&&Ee.item===""}),o.jsxs("div",{className:"flex items-center gap-1",children:[Ee["portionSI(gram)"]&&o.jsxs("span",{className:"text-gray-600 text-xs",children:["(",Ee["portionSI(gram)"],"g)"]}),o.jsx(HJ,{value:Ee.household_measure,onChange:Ft,mealIndex:$.mealIndex,optionIndex:z?"alternative":"main",ingredientIndex:be,translations:re}),o.jsx("button",{onClick:()=>pr(Ee,$.mealIndex,z?"alternative":"main",be),className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-blue-500 hover:text-blue-700 hover:bg-blue-50 p-1 rounded text-xs",title:(re==null?void 0:re.editPortion)||"Edit portion size",children:"✏️"})]}),(Ee.calories||Ee.protein)&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"font-bold text-green-700",children:[Math.round(Ee.calories||0)," ",re.calories||"k"]}),o.jsxs("span",{className:"text-blue-600 font-medium",children:[Math.round(Ee.protein||0),"g ",re.protein||"protein"]}),o.jsxs("span",{className:"font-bold text-amber-700",children:[Math.round(Ee.carbs||0),"g ",re.carbs||"carbs"]}),o.jsxs("span",{className:"font-bold text-orange-700",children:[Math.round(Ee.fat||0),"g ",re.fat||"fat"]})]})]})}),o.jsx("button",{onClick:()=>ye($.mealIndex,z?"alternative":"main",be,$.alternativeIndex),className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:re.deleteIngredient||"Delete ingredient",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},be))}):o.jsx("div",{className:"text-gray-500 text-sm italic mb-3",children:re.noIngredients||"No ingredients added yet"}),o.jsx("div",{className:"flex justify-end mt-2",children:o.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>Jt($.mealIndex,z?"alternative":"main"),className:`px-3 py-1.5 text-xs font-medium rounded-md shadow-sm transition-all duration-200 hover:shadow-md ${z?"bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-300 hover:from-blue-100 hover:to-blue-200 hover:border-blue-400 text-blue-700 hover:text-blue-800":"bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-300 hover:from-green-100 hover:to-green-200 hover:border-green-400 text-green-700 hover:text-green-800"}`,children:[o.jsx(fc,{className:"w-3 h-3 mr-1.5"}),re.addIngredient||"Add Ingredient"]})})]})]}):null},jt=y.useCallback(async $=>{var z;if(console.log("🌐 Language change requested:",$,"Current originalMenu:",!!_,"Loading:",N),N){console.log("⏳ Menu generation in progress, ignoring language change");return}if(!_){console.log("❌ No originalMenu available for translation");return}if($==="en"){console.log("✅ Switching to English, using originalMenu directly"),x(_);return}console.log("🌐 Starting translation to:",$),P(!0),T(null);try{const se=_;console.log("📋 Translating menu with",(z=se.meals)==null?void 0:z.length,"meals");const ue=await tc(se,$);console.log("✅ Translation completed, setting menu"),x(ue)}catch(se){console.error("❌ Translation failed:",se),T("Failed to translate menu."),x(_)}finally{P(!1)}},[_,N]);y.useEffect(()=>(ni.on("translateMenu",jt),()=>{ni.off&&ni.off("translateMenu",jt)}),[jt]);async function Tt($,z,se){const ue=await fetch("https://dietitian-be.azurewebsites.net/api/generate-alternative-meal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({main:$,alternative:z,allAlternatives:se,user_code:q.user_code})});if(!ue.ok){const he=await ue.json().catch(()=>({}));throw new Error(he.error||"Failed to generate alternative meal")}return await ue.json()}const Ue=async $=>{if(Ct[$]||a.current.has($)){console.log("🔄 Already generating alternative for meal",$);return}a.current.add($),console.log(`🚀 Starting to generate alternative for meal ${$}`),Vt(z=>({...z,[$]:!0}));try{const z=b.meals[$];if(!z||!z.main||!z.alternative){console.log("❌ Missing main or alternative for meal",$);return}const se=[z.main,z.alternative];z.alternatives&&Array.isArray(z.alternatives)&&se.push(...z.alternatives),console.log(`📋 Collected ${se.length} alternatives to avoid duplication`);const ue=await Tt(z.main,z.alternative,se);console.log("✅ Generated new alternative:",ue);let he=ue;if(ze==="he")try{console.log("🌐 Translating new alternative meal to Hebrew..."),console.log("📋 Original newAlt:",ue),console.log("🌍 Current language:",ze);const ge={meals:[{meal:ue.meal||"Alternative",main:ue,alternative:ue}]};console.log("📤 Sending to translation:",ge);const fe=await tc(ge,"he");console.log("📥 Received translation:",fe),he=fe.meals[0].main,console.log("✅ New alternative translated to Hebrew:",he)}catch(ge){console.error("❌ Failed to translate new alternative:",ge),he=ue}else console.log("🔤 Not in Hebrew mode, using English version");x(ge=>{console.log("🔄 Updating menu state..."),m(ge);const fe=JSON.parse(JSON.stringify(ge));return fe.meals[$].alternatives||(fe.meals[$].alternatives=[]),fe.meals[$].alternatives.push(he),console.log(`✅ Added alternative to meal ${$}, total alternatives: ${fe.meals[$].alternatives.length}`),fe}),S(ge=>{if(!ge)return ge;const fe=JSON.parse(JSON.stringify(ge));return fe.meals[$].alternatives||(fe.meals[$].alternatives=[]),fe.meals[$].alternatives.push(ue),fe}),console.log(`✅ Successfully added alternative to meal ${$}`)}catch(z){console.error("❌ Error generating alternative:",z),alert(z.message||"Failed to generate alternative meal")}finally{console.log(`🏁 Finished generating alternative for meal ${$}`),Vt(z=>({...z,[$]:!1})),a.current.delete($)}};function dt($){let z=$||"";return z=z.replace(/\([^)]*\)/g,""),z=z.replace(/\b(low-fat|non-fat|as sauce|raw|sliced|fresh|cooked|steamed|roasted|grilled|baked|boiled|diced|chopped|shredded|whole|plain|unsweetened|sweetened|reduced-fat|skim|full-fat|fat-free|light|reduced sodium|no salt added|organic|large|small|medium)\b/gi,""),z.trim().replace(/\s+/g," ")}function Or($){let z=[];const se=($.match(/\(([^)]*)\)/)||[])[1];se&&z.push(se.trim());const ue=$.match(/\b(low-fat|non-fat|as sauce|raw|sliced|fresh|cooked|steamed|roasted|grilled|baked|boiled|diced|chopped|shredded|whole|plain|unsweetened|sweetened|reduced-fat|skim|full-fat|fat-free|light|reduced sodium|no salt added|organic|large|small|medium)\b/gi)||[];return z=z.concat(ue.map(he=>he.trim())),z}function ln($){let z=$||"";return z=z.toLowerCase().trim(),z=z.replace(/\b(tomatoes|breasts)\b/g,se=>se.slice(0,-1)),z=z.replace(/\b(ies)\b/g,"y"),z=z.replace(/\s+/g," "),z}function dr($){if(!$||!$.meals)return[];const z={},se={};return $.meals.forEach(ue=>{[ue.main,ue.alternative,...ue.alternatives||[]].forEach(ge=>{ge&&ge.ingredients&&ge.ingredients.forEach(fe=>{const we=dt(fe.item),ct=ln(we),Ge=Or(fe.item),Ee=fe.household_measure||"";se[ct]||(se[ct]=we.charAt(0).toUpperCase()+we.slice(1)),z[ct]||(z[ct]={base:se[ct],household_measures:new Set,preparations:new Set}),Ee&&z[ct].household_measures.add(Ee),Ge.forEach(be=>z[ct].preparations.add(be))})})}),Object.values(z).map(ue=>({base:ue.base,household_measure:Array.from(ue.household_measures).join(" / "),preparations:Array.from(ue.preparations)})).sort((ue,he)=>ue.base.localeCompare(he.base))}y.useEffect(()=>{q&&(console.log("🔄 Fetching user targets for selected client:",q.user_code),Ne(q.user_code))},[q]),y.useEffect(()=>{b&&n(dr(b))},[b]);const fr=()=>o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:`
      @keyframes waterWave {
        0%, 100% { transform: translateX(-100%); }
        50% { transform: translateX(100%); }
      }
      
      @keyframes waterWave1 {
        0%, 100% { transform: translateX(-100%) rotate(0deg); }
        50% { transform: translateX(100%) rotate(180deg); }
      }
      
      @keyframes waterWave2 {
        0%, 100% { transform: translateX(100%) rotate(180deg); }
        50% { transform: translateX(-100%) rotate(0deg); }
      }
      
      @keyframes waterBubble {
        0% { 
          transform: translateY(100%);
          opacity: 0;
        }
        10% {
          opacity: 1;
        }
        90% {
          opacity: 1;
        }
        100% { 
          transform: translateY(-100%);
          opacity: 0;
        }
      }
    `}}),o.jsxs("div",{className:"w-full max-w-md mx-auto mt-6",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-600",children:U||re.generating||"Generating your menu..."}),o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[Math.round(R),"% Complete"]})]}),o.jsxs("div",{className:"relative w-full h-16 bg-blue-100 rounded-lg overflow-hidden border-2 border-blue-200",children:[o.jsxs("div",{className:"absolute bottom-0 left-0 h-full bg-gradient-to-r from-blue-400 via-blue-500 to-blue-600 transition-all duration-500 ease-out",style:{width:`${R}%`},children:[o.jsxs("div",{className:"absolute top-0 left-0 w-full h-2 overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 w-full h-4 bg-blue-300 opacity-50",style:{borderRadius:"50%",animation:"waterWave1 3s ease-in-out infinite"}}),o.jsx("div",{className:"absolute top-0 w-full h-4 bg-blue-200 opacity-30",style:{borderRadius:"50%",animation:"waterWave2 3s ease-in-out infinite 0.5s"}})]}),R>20&&o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("div",{className:"absolute w-2 h-2 bg-white rounded-full opacity-60",style:{left:"20%",animation:"waterBubble 4s ease-in-out infinite"}}),R>50&&o.jsx("div",{className:"absolute w-1.5 h-1.5 bg-white rounded-full opacity-40",style:{left:"60%",animation:"waterBubble 3s ease-in-out infinite 1s"}}),R>80&&o.jsx("div",{className:"absolute w-1 h-1 bg-white rounded-full opacity-50",style:{left:"80%",animation:"waterBubble 5s ease-in-out infinite 2s"}})]}),o.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-40",style:{background:`linear-gradient(90deg, 
                    transparent 0%, 
                    rgba(255,255,255,0.6) 50%, 
                    transparent 100%)`,animation:"waterWave 2s ease-in-out infinite"}})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsxs("span",{className:"text-blue-700 font-bold text-lg drop-shadow-lg",children:[Math.round(R),"%"]})})]}),o.jsx("div",{className:"mt-4 flex justify-center",children:o.jsx("div",{className:"text-xs text-gray-600 text-center",children:U&&o.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),o.jsx("span",{children:U})]})})})]})]}),Jt=($,z)=>{x(se=>{m(se);const ue=JSON.parse(JSON.stringify(se)),he=ue.meals[$];if(!he)return console.error("❌ Meal not found at index:",$),se;const ge=z==="main"?he.main:he.alternative;if(!ge)return console.error("❌ Option not found for meal:",$,"option:",z),se;ge.ingredients||(ge.ingredients=[]);const fe={item:"",household_measure:"",calories:0,protein:0,fat:0,carbs:0,"brand of pruduct":"",UPC:null,"portionSI(gram)":0};return ge.ingredients.push(fe),ue}),S(se=>{if(!se)return se;const ue=JSON.parse(JSON.stringify(se)),he=ue.meals[$];if(!he)return console.error("❌ Meal not found at index:",$),se;const ge=z==="main"?he.main:he.alternative;if(!ge)return console.error("❌ Option not found for meal:",$,"option:",z),se;ge.ingredients||(ge.ingredients=[]);const fe={item:"",household_measure:"",calories:0,protein:0,fat:0,carbs:0,"brand of pruduct":"",UPC:null,"portionSI(gram)":0};return ge.ingredients.push(fe),ue})},Qt=()=>{console.log("➕ Adding new recommendation...");const $={id:Date.now(),category:"general",title:"",content:"",priority:"medium"};console.log("📝 New recommendation object:",$),Ye($),ce(!0)},Wt=$=>{Ye($),ce(!0)},Ht=$=>{Hr(z=>z.filter(se=>se.id!==$))},It=$=>{console.log("💾 Saving recommendation:",$),console.log("📋 Current editingRecommendation:",Se),console.log("📋 Current recommendations list:",Wr),Se&&Se.id&&Wr.some(z=>z.id===Se.id)?(console.log("🔄 Updating existing recommendation"),Hr(z=>z.map(se=>se.id===Se.id?$:se))):(console.log("➕ Adding new recommendation to list"),Hr(z=>[...z,$])),ce(!1),Ye(null)},Nn=()=>{ce(!1),Ye(null)},Cn=($,z)=>{if(!b||!b.meals||$<0||$>=b.meals.length){console.error("❌ Invalid meal index for deletion:",$);return}if(!b.meals[$]){console.error("❌ Meal not found at index:",$);return}m(b),x(ue=>{const he=JSON.parse(JSON.stringify(ue)),ge=he.meals[$];return z==="main"?delete ge.main:z==="alternative"?delete ge.alternative:z==="alternatives"&&ge.alternatives&&delete ge.alternatives,he.meals.length>0?he.totals=wt(he):he.totals={calories:0,protein:0,fat:0,carbs:0},he}),S(ue=>{if(!ue)return ue;const he=JSON.parse(JSON.stringify(ue)),ge=he.meals[$];return z==="main"?delete ge.main:z==="alternative"?delete ge.alternative:z==="alternatives"&&ge.alternatives&&delete ge.alternatives,he.meals.length>0?he.totals=wt(he):he.totals={calories:0,protein:0,fat:0,carbs:0},he}),console.log(`🗑️ Deleted ${z} option from meal at index ${$}`)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:()=>Qe(-1),children:o.jsx(d_,{className:"h-4 w-4"})}),o.jsx("div",{children:o.jsx("h1",{className:"text-2xl font-bold",children:re.menuCreate||"Generate Meal Plan"})})]}),b&&o.jsx(Te,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 border-red-300",onClick:()=>{window.confirm(re.confirmClearMenu||"Are you sure you want to clear the current menu and start fresh? This action cannot be undone.")&&(H(),T(null))},children:re.startFresh||"Start Fresh"})]}),A&&o.jsxs(ei,{variant:"destructive",children:[o.jsx(Fs,{children:re.error||"Error"}),o.jsx(ti,{children:A})]}),!b&&!N&&(()=>{var $;try{const z=localStorage.getItem("menuCreate_menu"),se=localStorage.getItem("menuCreate_recommendations");if(!z&&!se)return!1;const ue=z?JSON.parse(z):null,he=ue!=null&&ue._savedAt?new Date(ue._savedAt).toLocaleString():"Unknown time",ge=(($=ue==null?void 0:ue._selectedUser)==null?void 0:$.full_name)||"Unknown client",fe=se?JSON.parse(se).length>0:!1;return o.jsxs(ei,{className:"border-blue-200 bg-blue-50",children:[o.jsx(Gp,{className:"h-4 w-4"}),o.jsx(Fs,{className:"text-blue-800",children:re.previousMenuFound||"Previous Menu Found"}),o.jsxs(ti,{className:"text-blue-700",children:[re.previousMenuDescription||"We found a previously generated menu for"," ",o.jsx("strong",{children:ge})," ",re.fromTime||"from"," ",o.jsx("strong",{children:he}),".",fe&&o.jsxs("span",{className:"block mt-1",children:["💡 ",re.recommendationsAlsoFound||"Recommendations were also found and will be restored."]}),re.continueOrStartFresh||"Would you like to continue working on it or start fresh?",o.jsxs("div",{className:"flex gap-3 mt-3",children:[o.jsxs(Te,{variant:"outline",size:"sm",className:"bg-white hover:bg-blue-100 border-blue-300 text-blue-700",onClick:()=>{P(!0),setTimeout(()=>P(!1),100)},children:[o.jsx(d7,{className:"h-4 w-4 mr-1"}),re.continuePreviousMenu||"Continue Previous Menu"]}),o.jsx(Te,{variant:"outline",size:"sm",className:"hover:bg-red-50 border-red-300 text-red-700",onClick:()=>{H(),T(null)},children:re.startFresh||"Start Fresh"})]})]})]})}catch{return!1}})(),o.jsxs(At,{children:[o.jsxs(Sr,{children:[o.jsx(Nr,{children:re.clientSelection||"Selected Client"}),o.jsx(zr,{children:q?`${re.clientFromSidebar||"Client selected from sidebar"}: ${q.full_name}`:re.selectClientInSidebar||"Please select a client in the sidebar to generate a menu"})]}),o.jsx(Et,{children:q?o.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[o.jsx("span",{children:"✓"}),o.jsxs("span",{className:"font-medium",children:[re.selected||"Selected",": ",q.full_name]}),o.jsxs("span",{className:"text-green-600",children:["(",q.user_code,")"]})]})}):o.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-700",children:[o.jsx("span",{children:"⚠️"}),o.jsx("span",{children:re.noClientSelected||"No client selected"})]})})})]}),q&&K&&o.jsxs(At,{className:"border-green-200 bg-green-50/30 mb-6",children:[o.jsxs(Sr,{children:[o.jsxs(Nr,{className:"flex items-center gap-2 text-green-800",children:[o.jsx("span",{children:"🍽️"}),re.generateMenu||"Generate Menu"]}),o.jsx(zr,{className:"text-green-600",children:re.generateMenuFor?`${re.generateMenuFor} ${q.full_name}`:`Generate personalized menu for ${q.full_name}`})]}),o.jsx(Et,{children:o.jsxs("div",{className:"space-y-4",children:[!N&&o.jsx("div",{className:"flex flex-wrap gap-4",children:o.jsxs(Te,{onClick:Le,disabled:!q,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3",children:[o.jsx("span",{className:"text-lg",children:"🎯"}),re.generateMenu||"Generate Menu"]})}),N&&o.jsx("div",{className:"mt-6",children:o.jsx(fr,{})})]})})]}),q&&K&&o.jsxs(At,{className:"border-blue-200 bg-blue-50/30 mb-6",children:[o.jsxs(Sr,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[o.jsx("span",{children:"📋"}),o.jsx(Nr,{children:re.mealPlanStructure||"Meal Plan Structure"})]}),o.jsx(Te,{type:"button",variant:"ghost",size:"sm",onClick:()=>qt(!xr),className:"text-blue-600 hover:bg-blue-100",title:xr?"Expand Meal Plan Structure":"Minimize Meal Plan Structure",children:xr?o.jsx(pj,{className:"h-4 w-4"}):o.jsx(kD,{className:"h-4 w-4"})})]}),o.jsx(zr,{className:"text-blue-600",children:re.mealPlanDescription||"Configure how daily calories are distributed across meals"})]}),!xr&&o.jsx(Et,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-gray-600",children:re.mealPlanDescription||"Configure how daily calories are distributed across meals"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(Te,{type:"button",variant:"outline",size:"sm",onClick:Di,className:"text-blue-600 border-blue-600 hover:bg-blue-50",title:"Save meal plan structure to database",children:[o.jsx(p_,{className:"h-4 w-4 mr-1"}),re.saveMealPlan||"Save Plan"]}),o.jsxs(Te,{type:"button",variant:"outline",size:"sm",onClick:rr,className:"text-green-600 border-green-600 hover:bg-green-50",children:[o.jsx(fc,{className:"h-4 w-4 mr-1"}),re.addMeal||"Add Meal"]})]})]}),o.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[o.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b",children:o.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-medium text-gray-600",children:[o.jsx("div",{className:"col-span-3",children:re.mealName||"Meal Name"}),o.jsx("div",{className:"col-span-2",children:re.mealDescriptionShort||re.description||"Description"}),o.jsx("div",{className:"col-span-2",children:re.caloriesLabel||re.calories||"Calories"}),o.jsx("div",{className:"col-span-2",children:re.percentage||"Percentage"}),o.jsx("div",{className:"col-span-1",children:re.lock||"Lock"}),o.jsx("div",{className:"col-span-2",children:re.actions||"Actions"})]})}),bt.map(($,z)=>o.jsx("div",{className:"px-4 py-3 border-b last:border-b-0 bg-white",children:o.jsxs("div",{className:"grid grid-cols-12 gap-2 items-center",children:[o.jsx("div",{className:"col-span-3",children:o.jsx(Ut,{value:$.meal,onChange:se=>vt(z,"meal",se.target.value),className:"text-sm",placeholder:re.mealName||"Meal name"})}),o.jsx("div",{className:"col-span-2",children:o.jsx(Ut,{value:$.description,onChange:se=>vt(z,"description",se.target.value),className:"text-sm",placeholder:re.mealDescriptionShort||re.descriptionPlaceholder||"Optional description"})}),o.jsx("div",{className:"col-span-2",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ut,{type:"number",value:qr[z]!==void 0?qr[z]:$.calories,onChange:se=>Sn(z,se.target.value),onKeyDown:se=>{se.key==="Enter"?(se.preventDefault(),Jn(z)):se.key==="Escape"&&(se.preventDefault(),yn(z))},onBlur:()=>{qr[z]!==void 0&&Jn(z)},className:`text-sm ${Yn[z]?"border-red-500":""}`,placeholder:"0"}),Yn[z]&&o.jsx("div",{className:"absolute -bottom-6 left-0 text-xs text-red-500",children:Yn[z]})]})}),o.jsx("div",{className:"col-span-2",children:o.jsxs("div",{className:"text-sm text-gray-600",children:[$.calories_pct.toFixed(1),"%"]})}),o.jsx("div",{className:"col-span-1",children:o.jsx(Te,{type:"button",variant:$.locked?"default":"outline",size:"sm",onClick:()=>vt(z,"locked",!$.locked),className:`w-full ${$.locked?"bg-blue-600 hover:bg-blue-700":"text-blue-600 border-blue-600 hover:bg-blue-50"}`,title:$.locked?"Unlock meal":"Lock meal",children:"🔒"})}),o.jsx("div",{className:"col-span-2",children:o.jsxs("div",{className:"flex gap-1",children:[o.jsx(Te,{type:"button",variant:"outline",size:"sm",onClick:()=>Er(z,"up"),disabled:z===0,className:"text-gray-600 hover:bg-gray-50",title:"Move up",children:o.jsx(f_,{className:"h-3 w-3"})}),o.jsx(Te,{type:"button",variant:"outline",size:"sm",onClick:()=>Er(z,"down"),disabled:z===bt.length-1,className:"text-gray-600 hover:bg-gray-50",title:"Move down",children:o.jsx(u_,{className:"h-3 w-3"})}),o.jsx(Te,{type:"button",variant:"outline",size:"sm",onClick:()=>ur(z),disabled:bt.length<=1,className:"text-red-600 border-red-600 hover:bg-red-50",title:"Remove meal",children:o.jsx(ma,{className:"h-3 w-3"})})]})})]})},z))]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[re.totalMeals||"Total Meals",": "]}),o.jsx("span",{className:"font-medium",children:bt.length}),o.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",bt.filter($=>$.locked).length," ",re.locked||"locked",")"]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[re.totalCalories||"Total Calories",": "]}),o.jsxs("span",{className:"font-medium",children:[bt.reduce(($,z)=>$+(z.calories||0),0)," / ",(K==null?void 0:K.calories)||0]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[re.lockedCalories||"Locked Calories",": "]}),o.jsx("span",{className:"font-medium text-blue-600",children:bt.filter($=>$.locked).reduce(($,z)=>$+(z.calories||0),0)})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[re.unlockedCalories||"Unlocked Calories",": "]}),o.jsx("span",{className:"font-medium text-green-600",children:bt.filter($=>!$.locked).reduce(($,z)=>$+(z.calories||0),0)})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[re.availableBudget||"Available Budget",": "]}),o.jsxs("span",{className:"font-medium text-purple-600",children:[Math.max(0,((K==null?void 0:K.calories)||0)-bt.filter($=>$.locked).reduce(($,z)=>$+(z.calories||0),0))," kcal"]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[re.maxPerMeal||"Max per Meal",": "]}),o.jsxs("span",{className:"font-medium text-orange-600",children:[Math.max(0,((K==null?void 0:K.calories)||0)-bt.filter($=>$.locked).reduce(($,z)=>$+(z.calories||0),0))," kcal"]})]}),o.jsxs("div",{children:[o.jsxs("span",{className:"text-gray-600",children:[re.totalPercentage||"Total Percentage",": "]}),o.jsxs("span",{className:`font-medium ${Math.abs(bt.reduce(($,z)=>$+z.calories_pct,0)-100)<.1?"text-green-600":"text-red-600"}`,children:[bt.reduce(($,z)=>$+z.calories_pct,0).toFixed(1),"%"]})]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:re.mealPlanLockNote||"Note: 🔒 Locked meals maintain their calories. When you edit a meal, that meal keeps its exact value and other unlocked meals scale to fit the remaining budget."}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:re.scalingFormula||"Formula: Scaling Factor = (Daily Target - Locked Calories - Edited Meal) ÷ Other Unlocked Total"})]})]})})]}),q&&o.jsxs(At,{className:"border-purple-200 bg-purple-50/30 mb-6",children:[o.jsxs(Sr,{children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2 text-purple-800",children:[o.jsx("span",{children:"💡"}),o.jsx(Nr,{children:re.recommendations||"Recommendations"})]}),o.jsxs(Te,{type:"button",variant:"outline",size:"sm",onClick:Qt,className:"text-purple-600 border-purple-600 hover:bg-purple-50",children:[o.jsx(fc,{className:"h-4 w-4 mr-1"}),re.addRecommendation||"Add Recommendation"]})]}),o.jsx(zr,{className:"text-purple-600",children:re.recommendationsDescription||"Add personalized recommendations for this meal plan"})]}),o.jsx(Et,{children:Wr.length>0?o.jsx("div",{className:"space-y-3",children:Wr.map(($,z)=>o.jsxs("div",{className:"bg-white rounded-lg p-4 border border-purple-200 shadow-sm",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(mr,{variant:"outline",className:`${$.priority==="high"?"bg-red-50 border-red-200 text-red-700":$.priority==="medium"?"bg-yellow-50 border-yellow-200 text-yellow-700":"bg-green-50 border-green-200 text-green-700"}`,children:[$.priority==="high"?"🔴":$.priority==="medium"?"🟡":"🟢"," ",$.priority]}),o.jsx(mr,{variant:"outline",className:"bg-purple-50 border-purple-200 text-purple-700",children:$.category})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Te,{type:"button",variant:"outline",size:"sm",onClick:()=>Wt($),className:"text-blue-600 border-blue-600 hover:bg-blue-50",children:"✏️"}),o.jsx(Te,{type:"button",variant:"outline",size:"sm",onClick:()=>{window.confirm(re.confirmDeleteRecommendation||"Are you sure you want to delete this recommendation?")&&Ht($.id)},className:"text-red-600 border-red-600 hover:bg-red-50",children:"🗑️"})]})]}),o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:$.title}),o.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:$.content})]},$.id))}):o.jsxs("div",{className:"text-center py-8 text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-2",children:"💡"}),o.jsx("p",{className:"text-sm",children:re.noRecommendations||"No recommendations added yet"}),o.jsx("p",{className:"text-xs mt-1",children:re.addRecommendationsPrompt||'Click "Add Recommendation" to get started'})]})})]}),q&&o.jsxs(At,{className:"border-blue-200 bg-blue-50/30",children:[o.jsxs(Sr,{children:[o.jsxs(Nr,{className:"flex items-center gap-2 text-blue-800",children:[o.jsx("span",{children:"🎯"}),re.nutritionTargets||"Client Nutritional Targets"]}),o.jsx(zr,{className:"text-blue-600",children:re.fromDatabase?`${re.fromDatabase} ${q.full_name}`:`from database ${q.full_name}`})]}),o.jsx(Et,{children:Me?o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[o.jsx(wi,{className:"animate-spin h-4 w-4"}),re.loadingClientTargets||"Loading client targets..."]}):K?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:re.calories||"Calories"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[K.calories,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:re.calories||"kcal"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:re.protein||"Protein"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[K.macros.protein,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:"g"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:re.fat||"Fat"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[K.macros.fat,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:"g"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:re.carbs||"Carbs"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[K.macros.carbs,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:"g"})]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-blue-200",children:[K.region&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:re.region||"Region"}),o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("span",{children:"🌍"}),o.jsx("span",{className:"capitalize text-blue-700 font-medium text-sm",children:K.region})]})]}),K.age&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:re.age||"Age"}),o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("span",{children:"👤"}),o.jsxs("span",{className:"text-blue-700 font-medium text-sm",children:[K.age," ",re.years||"years"]})]})]}),K.gender&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:re.gender||"Gender"}),o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("span",{children:"⚧"}),o.jsx("span",{className:"capitalize text-blue-700 font-medium text-sm",children:K.gender})]})]}),K.weight_kg&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:re.weight||"Weight"}),o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("span",{children:"⚖️"}),o.jsxs("span",{className:"text-blue-700 font-medium text-sm",children:[K.weight_kg," kg"]})]})]}),K.height_cm&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:re.height||"Height"}),o.jsxs("div",{className:"flex items-center justify-center gap-1",children:[o.jsx("span",{children:"📏"}),o.jsxs("span",{className:"text-blue-700 font-medium text-sm",children:[K.height_cm," cm"]})]})]})]}),o.jsxs("div",{className:"space-y-3 pt-4 border-t border-blue-200",children:[K.client_preference&&K.client_preference.length>0&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-green-200",children:[o.jsxs("p",{className:"text-sm text-green-700 font-medium mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"❤️"}),re.clientPreferences||"Client Preferences"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:K.client_preference.map(($,z)=>o.jsx(mr,{variant:"outline",className:"bg-green-50 border-green-200 text-green-700 text-sm",children:$},z))})]}),(K.allergies.length>0||K.limitations.length>0)&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[K.allergies.length>0&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-red-200",children:[o.jsxs("p",{className:"text-sm text-red-700 font-medium mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"⚠️"}),re.dietaryAllergies||"Food Allergies"]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:K.allergies.map(($,z)=>o.jsx(mr,{variant:"outline",className:"bg-red-50 border-red-200 text-red-700 text-xs",children:$},z))})]}),K.limitations.length>0&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-orange-200",children:[o.jsxs("p",{className:"text-sm text-orange-700 font-medium mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"🚫"}),re.dietaryRestrictions||"Dietary Restrictions"]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:K.limitations.map(($,z)=>o.jsx(mr,{variant:"outline",className:"bg-orange-50 border-orange-200 text-orange-700 text-xs",children:$},z))})]})]})]}),b&&b.totals&&o.jsxs("div",{className:"pt-4 border-t border-blue-200",children:[o.jsxs("h4",{className:"text-lg font-semibold text-blue-800 mb-4 flex items-center gap-2",children:[o.jsx("span",{children:"📊"}),re.targetVsGenerated||"Target vs Generated Menu Comparison"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:re.calories||"Calories"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-blue-600",children:[re.target||"Target",":"]}),o.jsx("span",{className:"font-bold text-blue-700",children:K.calories})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[re.generated||"Generated",":"]}),o.jsx("span",{className:"font-bold text-green-700",children:b.totals.calories})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-100",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[re.difference||"Difference",":"]}),o.jsx("span",{className:`text-sm font-medium ${Math.abs(b.totals.calories-K.calories)<=K.calories*.05?"text-green-600":"text-red-600"}`,children:`${b.totals.calories-K.calories>0?"+":""}${((b.totals.calories-K.calories)/K.calories*100).toFixed(1)}%`})]})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsxs("p",{className:"text-sm text-gray-600 font-medium mb-2",children:[re.protein||"Protein"," (g)"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-blue-600",children:[re.target||"Target",":"]}),o.jsx("span",{className:"font-bold text-blue-700",children:K.macros.protein})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[re.generated||"Generated",":"]}),o.jsx("span",{className:"font-bold text-green-700",children:b.totals.protein})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-100",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[re.difference||"Difference",":"]}),o.jsx("span",{className:`text-sm font-medium ${Math.abs(b.totals.protein-K.macros.protein)<=K.macros.protein*.05?"text-green-600":"text-red-600"}`,children:`${b.totals.protein-K.macros.protein>0?"+":""}${((b.totals.protein-K.macros.protein)/K.macros.protein*100).toFixed(1)}%`})]})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsxs("p",{className:"text-sm text-gray-600 font-medium mb-2",children:[re.fat||"Fat"," (g)"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-blue-600",children:[re.target||"Target",":"]}),o.jsx("span",{className:"font-bold text-blue-700",children:K.macros.fat})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[re.generated||"Generated",":"]}),o.jsx("span",{className:"font-bold text-green-700",children:b.totals.fat})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-100",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[re.difference||"Difference",":"]}),o.jsx("span",{className:`text-sm font-medium ${Math.abs(b.totals.fat-K.macros.fat)<=K.macros.fat*.05?"text-green-600":"text-red-600"}`,children:`${b.totals.fat-K.macros.fat>0?"+":""}${((b.totals.fat-K.macros.fat)/K.macros.fat*100).toFixed(1)}%`})]})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsxs("p",{className:"text-sm text-gray-600 font-medium mb-2",children:[re.carbs||"Carbs"," (g)"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-blue-600",children:[re.target||"Target",":"]}),o.jsx("span",{className:"font-bold text-blue-700",children:K.macros.carbs})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[re.generated||"Generated",":"]}),o.jsx("span",{className:"font-bold text-green-700",children:b.totals.carbs})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-100",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[re.difference||"Difference",":"]}),o.jsx("span",{className:`text-sm font-medium ${Math.abs(b.totals.carbs-K.macros.carbs)<=K.macros.carbs*.05?"text-green-600":"text-red-600"}`,children:`${b.totals.carbs-K.macros.carbs>0?"+":""}${((b.totals.carbs-K.macros.carbs)/K.macros.carbs*100).toFixed(1)}%`})]})]})]})]}),o.jsx("div",{className:"mt-6 p-4 rounded-lg bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-base font-medium text-gray-700",children:[re.menuAccuracy||"Menu Accuracy",":"]}),o.jsx("div",{className:"flex items-center gap-3",children:(()=>{const $=Math.abs((b.totals.calories-K.calories)/K.calories*100),z=Math.abs((b.totals.protein-K.macros.protein)/K.macros.protein*100),se=Math.abs((b.totals.fat-K.macros.fat)/K.macros.fat*100),ue=Math.abs((b.totals.carbs-K.macros.carbs)/K.macros.carbs*100),he=($+z+se+ue)/4,ge=Math.max(0,Math.min(100,100-he*1.5)),fe=[$<=5,z<=5,se<=5,ue<=5].filter(Boolean).length,we=[$<=10,z<=10,se<=10,ue<=10].filter(Boolean).length;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`px-4 py-2 rounded-full text-base font-medium ${ge>=80?"bg-green-100 text-green-700 border border-green-200":ge>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-red-100 text-red-700 border border-red-200"}`,children:[Math.round(ge),"% ",re.accurate||"Accurate"]}),o.jsxs("span",{className:"text-sm text-gray-500",children:["(",fe,"/4 ",re.within5Percent||"within ±5%",", ",we,"/4 within ±10%)"]})]})})()})]})})]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-blue-600",children:re.noTargetDataFound||"No target data found for this client."}),A&&o.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx("p",{className:"text-red-700 text-sm font-medium",children:"Error Details:"}),o.jsx("p",{className:"text-red-600 text-sm",children:A})]})]})})]}),b&&b.meals&&b.meals.length>0&&o.jsxs(o.Fragment,{children:[B&&o.jsx(At,{className:"bg-blue-50/30 border-blue-200",children:o.jsx(Et,{className:"pt-6",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(wi,{className:"animate-spin h-5 w-5 text-blue-600"}),o.jsx("span",{className:"text-blue-700",children:re.addingProductCodes||"Adding product codes to ingredients..."})]})})}),b.totals&&o.jsxs(At,{className:"bg-green-50/30",children:[o.jsx(Sr,{children:o.jsxs(Nr,{className:"flex items-center gap-2 text-green-800",children:[o.jsx(SD,{className:"h-5 w-5"}),re.dailyTotals||"Daily Totals"]})}),o.jsx(Et,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("p",{className:"text-sm text-green-600 font-medium",children:re.calories||"Calories"}),o.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[b.totals.calories,o.jsx("span",{className:"text-sm font-normal text-green-600 ml-1",children:re.calories||"kcal"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium",children:re.protein||"Protein"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[b.totals.protein,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:"g"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("p",{className:"text-sm text-amber-600 font-medium",children:re.fat||"Fat"}),o.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:[b.totals.fat,o.jsx("span",{className:"text-sm font-normal text-amber-600 ml-1",children:"g"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:re.carbs||"Carbs"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[b.totals.carbs,o.jsx("span",{className:"text-sm font-normal text-orange-600 ml-1",children:"g"})]})]})]})})]}),b.recommendations&&b.recommendations.length>0&&o.jsxs(At,{className:"bg-purple-50/30 border-purple-200",children:[o.jsxs(Sr,{children:[o.jsxs(Nr,{className:"flex items-center gap-2 text-purple-800",children:[o.jsx("span",{children:"💡"}),re.recommendations||"Recommendations"]}),o.jsxs(zr,{className:"text-purple-600",children:[re.personalizedRecommendations||"Personalized recommendations"," for ",q==null?void 0:q.full_name]})]}),o.jsx(Et,{children:o.jsx("div",{className:"space-y-4",children:b.recommendations.map(($,z)=>o.jsx("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-purple-200",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-purple-600 font-semibold text-sm",children:$.recommendation_key==="generalComments"?"💬":$.recommendation_key==="supplements"?"💊":$.recommendation_key==="hydration"?"💧":$.recommendation_key==="sleep"?"😴":"📝"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-medium text-purple-800 mb-1",children:$.recommendation_key==="generalComments"?re.generalComments||"General Comments":$.recommendation_key==="supplements"?re.supplements||"Supplements":$.recommendation_key==="hydration"?re.hydration||"Hydration":$.recommendation_key==="sleep"?re.sleep||"Sleep":$.recommendation_key.charAt(0).toUpperCase()+$.recommendation_key.slice(1)}),o.jsx("p",{className:"text-purple-700 text-sm leading-relaxed",children:$.recommendation_value})]})]})},z))})})]}),o.jsx("div",{className:"space-y-6",children:b.meals.map(($,z)=>o.jsxs(At,{className:"overflow-hidden",children:[o.jsx(Sr,{className:"border-b bg-gray-50",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs(Nr,{className:"flex items-center gap-2",children:[o.jsx(vj,{className:"h-5 w-5 text-green-600"}),$.meal]})})}),o.jsx(Et,{className:"pt-6",children:o.jsxs("div",{className:"space-y-6",children:[$.main&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(mr,{variant:"outline",className:"bg-green-100 border-green-200",children:re.mainOption||"Main Option"}),o.jsx(Te,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 border-red-300 ml-auto",onClick:()=>{window.confirm(re.confirmDeleteMainOption||"Are you sure you want to delete the main option? This action cannot be undone.")&&Cn(z,"main")},title:re.deleteMainOption||"Delete Main Option",children:"🗑️"})]}),Xe({...$.main,mealIndex:z},!1)]}),$.alternative&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(mr,{variant:"outline",className:"bg-blue-100 border-blue-200",children:re.alternative||"Alternative"}),o.jsx(Te,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 border-red-300 ml-auto",onClick:()=>{window.confirm(re.confirmDeleteAlternative||"Are you sure you want to delete the alternative option? This action cannot be undone.")&&Cn(z,"alternative")},title:re.deleteAlternative||"Delete Alternative",children:"🗑️"})]}),Xe({...$.alternative,mealIndex:z},!0)]}),$.alternatives&&$.alternatives.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"font-semibold text-blue-700",children:[re.otherAlternatives||"Other Alternatives",":"]}),o.jsxs(Te,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 border-red-300",onClick:()=>{window.confirm(re.confirmDeleteAllAlternatives||"Are you sure you want to delete all additional alternatives? This action cannot be undone.")&&Cn(z,"alternatives")},title:re.deleteAllAlternatives||"Delete All Additional Alternatives",children:["🗑️ ",re.deleteAll||"Delete All"]})]}),o.jsx("div",{className:"space-y-4",children:$.alternatives.map((se,ue)=>o.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 relative",children:[o.jsx(Te,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50 border-red-300 absolute top-2 right-2",onClick:()=>{window.confirm(re.confirmDeleteAlternative||"Are you sure you want to delete this alternative? This action cannot be undone.")&&(x(he=>{const ge=JSON.parse(JSON.stringify(he));return ge.meals[z].alternatives.splice(ue,1),ge.meals[z].alternatives.length===0&&delete ge.meals[z].alternatives,ge.totals=wt(ge),ge}),S(he=>{if(!he)return he;const ge=JSON.parse(JSON.stringify(he));return ge.meals[z].alternatives.splice(ue,1),ge.meals[z].alternatives.length===0&&delete ge.meals[z].alternatives,ge.totals=wt(ge),ge}))},title:re.deleteAlternative||"Delete Alternative",children:"🗑️"}),Xe({...se,mealIndex:z,alternativeIndex:ue},!0)]},ue))})]}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(Te,{onClick:()=>Ue(z),disabled:Ct[z],className:"bg-blue-600 hover:bg-blue-700 text-white",children:[Ct[z]?o.jsx(wi,{className:"animate-spin h-4 w-4 mr-2"}):null,Ct[z]?re.generating||"Generating...":re.addAlternative||"Add Alternative"]})})]})})]},z))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(n4,{id:"removeBrands",checked:W,onCheckedChange:V}),o.jsx(St,{htmlFor:"removeBrands",className:"text-sm font-medium text-gray-700",children:re.removeBrandsFromPdf||"Remove brand names from PDF"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx(Te,{onClick:()=>Ze(b,"portrait"),variant:"outline",children:re.downloadPortraitPdf||"Download PDF (Portrait)"}),o.jsx(Te,{onClick:()=>Ze(b,"landscape"),className:"bg-blue-600 hover:bg-blue-700",children:re.downloadLandscapePdf||"Download PDF (Landscape)"})]})]}),b&&b.meals&&b.meals.length>0&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("div",{children:[o.jsxs("span",{className:"font-medium",children:[re.upcCache||"UPC Cache",":"]})," ",Ve.size," ",re.ingredientsStored||"ingredients stored",Ve.size>0&&o.jsx(Te,{variant:"outline",size:"sm",onClick:()=>{Fe(new Map),localStorage.removeItem("upc_cache"),alert(re.upcCacheCleared||"UPC cache cleared successfully!")},className:"ml-3 text-xs",children:re.clearCache||"Clear Cache"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full"}),o.jsx("span",{className:"text-xs text-green-600",children:re.menuAutoSaved||"Menu auto-saved locally"})]})]}),o.jsxs(Te,{onClick:()=>{if(console.log("🖱️ Save button clicked!"),!q){alert("Please select a client before saving the menu.");return}Oe()},disabled:k||!q,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400",children:[k?o.jsx(wi,{className:"animate-spin h-4 w-4 mr-2"}):o.jsx(p_,{className:"h-4 w-4 mr-2"}),k?re.saving||"Saving...":re.saveSchemaAndMenu||"Save Schema & Meal Plan"]})]}),b&&b.meals&&b.meals.length>0&&o.jsx("div",{className:"flex justify-end mb-2",children:o.jsx(Te,{variant:"outline",className:"bg-yellow-100 hover:bg-yellow-200 text-yellow-800 border-yellow-300 shadow-sm font-semibold",onClick:()=>t($=>!$),children:e?re.hideShoppingList||"Hide Shopping List":`🛒 ${re.showShoppingList||"Show Shopping List"}`})}),e&&r.length>0&&o.jsxs(At,{className:"mb-4 border-yellow-400 bg-gradient-to-br from-yellow-50 to-orange-100 shadow-xl",children:[o.jsxs(Sr,{className:"flex flex-row items-center justify-between pb-2",children:[o.jsxs("div",{children:[o.jsxs(Nr,{className:"text-orange-700 flex items-center gap-2 text-2xl font-extrabold tracking-tight",children:[o.jsx("span",{role:"img","aria-label":"cart",children:"🛒"})," Shopping List"]}),o.jsx(zr,{className:"text-orange-600 font-medium",children:"All ingredients needed for this menu, beautifully organized"})]}),o.jsx(Te,{variant:"outline",className:"border-orange-400 text-orange-700 hover:bg-orange-100 font-semibold",onClick:()=>window.print(),children:"🖨️ Print"})]}),o.jsx(Et,{children:o.jsx("div",{className:"overflow-x-auto rounded-lg border border-orange-200",children:o.jsxs("table",{className:"min-w-full divide-y divide-orange-200",children:[o.jsx("thead",{className:"bg-orange-100 sticky top-0 z-10",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-extrabold text-orange-700 uppercase tracking-wider",children:"Ingredient"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-extrabold text-orange-700 uppercase tracking-wider",children:"Household Measure"}),o.jsx("th",{className:"px-4 py-3 text-left text-xs font-extrabold text-orange-700 uppercase tracking-wider",children:"Preparations"})]})}),o.jsx("tbody",{children:r.map(($,z)=>o.jsxs("tr",{className:`transition-all ${z%2===0?"bg-yellow-50":"bg-orange-50"} hover:bg-orange-200/60`,children:[o.jsxs("td",{className:"px-4 py-3 font-semibold text-orange-900 flex items-center gap-2",children:[o.jsx("span",{className:"inline-block w-2 h-2 bg-orange-400 rounded-full"}),$.base]}),o.jsx("td",{className:"px-4 py-3 text-orange-800 font-bold",children:$.household_measure}),o.jsx("td",{className:"px-4 py-3",children:$.preparations.length>0?$.preparations.join(", "):o.jsx("span",{className:"text-xs text-orange-300",children:"—"})})]},z))})]})})})]}),o.jsx(GJ,{isOpen:F,onClose:br,onConfirm:Lr,ingredient:J,translations:re}),o.jsx(Bm,{open:vn,onOpenChange:ce,children:o.jsxs(Dd,{className:"sm:max-w-2xl",children:[o.jsxs(Id,{children:[o.jsxs($d,{className:"flex items-center gap-2 text-purple-600",children:[o.jsx("span",{className:"text-2xl",children:"💡"}),Se?re.editRecommendation||"Edit Recommendation":re.addRecommendation||"Add Recommendation"]}),o.jsx(Um,{className:"text-gray-600 pt-2",children:re.recommendationDialogDescription||"Add personalized recommendations for this meal plan"})]}),o.jsx(VJ,{recommendation:Se,onSave:It,onCancel:Nn,translations:re})]})}),o.jsx(Bm,{open:te,onOpenChange:Q,children:o.jsxs(Dd,{className:"sm:max-w-md",children:[o.jsxs(Id,{children:[o.jsxs($d,{className:"flex items-center gap-2 text-amber-600",children:[o.jsx("span",{className:"text-2xl",children:"⚠️"}),re.emptyMealPlanWarning||"Empty Meal Plan Warning"]}),o.jsx(Um,{className:"text-gray-600 pt-2",children:re.emptyMealPlanMessage||"You didn't fill any of the meals. Are you sure you want to generate with no structure?"})]}),o.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 my-4",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-amber-600 text-lg",children:"💡"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-amber-800 mb-1",children:re.whatThisMeans||"What this means:"}),o.jsx("p",{className:"text-sm text-amber-700",children:re.genericMealPlanExplanation||"The system will create a generic meal plan without your specific preferences for each meal type. For better results, consider filling in meal descriptions in the Meal Plan Structure section."})]})]})}),o.jsxs(Vj,{className:"flex gap-3 sm:gap-3",children:[o.jsx(Te,{variant:"outline",onClick:ke,className:"flex-1 border-gray-300 text-gray-700 hover:bg-gray-50",children:re.goBack||"Go Back"}),o.jsx(Te,{onClick:oe,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white",children:re.continueAnyway||"Continue Anyway"})]})]})})]})};async function tc(e,t="he"){try{const r=FJ(e,t),n=Wm(r);if(n)return console.log("📚 Using cached menu translation for",t),n;console.log("🌐 Fetching fresh menu translation for",t);const a=JSON.parse(JSON.stringify(e));a.meals&&a.meals.forEach(c=>{c.main&&c.main.ingredients&&c.main.ingredients.forEach(d=>{d["brand of pruduct"]&&(d.item=`${d.item} (${d["brand of pruduct"]})`)}),c.alternative&&c.alternative.ingredients&&c.alternative.ingredients.forEach(d=>{d["brand of pruduct"]&&(d.item=`${d.item} (${d["brand of pruduct"]})`)})});const i=await fetch("https://dietitian-be.azurewebsites.net/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({menu:a,targetLang:t})});if(!i.ok){const c=await i.json().catch(()=>({}));throw new Error(c.error||"Translation failed")}const s=await i.json();return rS(r,s),s}catch(r){console.error("Error translating menu:",r);try{const n=`${as}_${t}_fallback`,a=Wm(n);if(a)return console.log("🔄 Using fallback cached menu translation"),a}catch(n){console.warn("Failed to load fallback translation:",n)}return{menu:e,error:r.message}}}const YJ=({value:e,onChange:t,mealIndex:r,optionIndex:n})=>{const[a,i]=y.useState(!1),[s,c]=y.useState(e),d=y.useRef(null);y.useEffect(()=>{c(e)},[e]),y.useEffect(()=>{a&&d.current&&(d.current.focus(),d.current.select())},[a]);const f=()=>{t(s,r,n),i(!1)},h=m=>{m.key==="Enter"?f():m.key==="Escape"&&(c(e),i(!1))};return a?o.jsx("input",{ref:d,type:"text",value:s,onChange:m=>c(m.target.value),onBlur:f,onKeyDown:h,className:"font-medium text-gray-900 bg-white border border-gray-300 rounded px-2 py-1 w-full"}):o.jsx("h4",{onClick:()=>i(!0),className:"font-medium text-gray-900 cursor-pointer hover:bg-gray-100 px-2 py-1 rounded",title:"Click to edit meal name",children:e})},JJ=({value:e,onChange:t,mealIndex:r,optionIndex:n,ingredientIndex:a,translations:i})=>{const[s,c]=y.useState(!1),[d,f]=y.useState(e),[h,m]=y.useState(e),[g,w]=y.useState([]),[b,x]=y.useState(!1),[_,S]=y.useState(!1),N=y.useRef(null),P=y.useRef(null);y.useEffect(()=>{f(e),m(e)},[e]),y.useEffect(()=>()=>{P.current&&clearTimeout(P.current)},[]);const k=async U=>{if(U.length<2){w([]);return}S(!0);try{const O=await fetch(`https://sqlservice-erdve2fpeda4f5hg.eastus2-01.azurewebsites.net/api/suggestions?query=${encodeURIComponent(U)}`);if(O.ok){const B=await O.json();w(B.suggestions||B||[])}else console.error("Failed to fetch suggestions from external API:",O.status),w([])}catch(O){console.error("Error fetching suggestions:",O),w([])}finally{S(!1)}},C=U=>{const O=U.target.value;f(O),x(!0),P.current&&clearTimeout(P.current),P.current=setTimeout(()=>{k(O)},300)},A=U=>{U.key==="Escape"&&(f(h),c(!1),x(!1),w([]))},T=()=>{f(h),c(!1),x(!1),w([])},R=async U=>{try{let O;if(U.hebrew&&U.english){const B=await fetch(`https://sqlservice-erdve2fpeda4f5hg.eastus2-01.azurewebsites.net/api/ingredient-nutrition?name=${encodeURIComponent(U.english)}`);if(B.ok){const Z=await B.json();O={item:U.hebrew||U.english,household_measure:U.household_measure||"",calories:Z.Energy||0,protein:Z.Protein||0,fat:Z.Total_lipid__fat_||0,carbs:Z.Carbohydrate||0,"brand of pruduct":Z.brand||""}}else O={item:U.hebrew||U.english,household_measure:U.household_measure||"",calories:0,protein:0,fat:0,carbs:0,"brand of pruduct":""};f(U.hebrew||U.english)}else{const B={calories:Math.round(U.Energy||0),protein:Math.round(U.Protein||0),fat:Math.round(U.Fat||0),carbs:Math.round(U.Carbohydrate||0)};O={item:U.name,household_measure:U.household_measure||"",...B,"brand of pruduct":""},f(U.name)}t(O,r,n,a),x(!1),c(!1),w([])}catch(O){console.error("Error fetching nutrition data:",O)}},I=()=>{m(e),f(e),c(!0),w([]),x(!1)};return s?o.jsxs("div",{className:"relative",children:[o.jsx("input",{ref:N,type:"text",value:d,onChange:C,onKeyDown:A,onBlur:T,onFocus:()=>x(!0),className:"bg-white border border-gray-300 rounded px-2 py-1 text-sm min-w-[120px]",placeholder:"Search ingredient...",autoFocus:!0}),_&&o.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500"})}),b&&g.length>0&&o.jsx("div",{className:"absolute z-50 w-64 bg-white border border-gray-300 rounded-md shadow-lg mt-1",children:g.map((U,O)=>o.jsx("div",{className:"px-3 py-2 hover:bg-gray-100 cursor-pointer text-sm",onClick:()=>R(U),children:U.hebrew&&U.english?o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium",children:U.hebrew}),o.jsx("span",{className:"text-xs text-gray-500",children:U.english})]}):o.jsxs("div",{className:"flex flex-col",children:[o.jsx("div",{className:"font-medium",children:U.name}),o.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(U.Energy||0)," ",(i==null?void 0:i.calories)||"cal",", ",Math.round(U.Protein||0),"g ",(i==null?void 0:i.protein)||"protein"]})]})},O))})]}):o.jsx("span",{onClick:I,className:"cursor-pointer hover:bg-gray-100 px-1 rounded",title:"Click to edit ingredient",children:e})},XJ=()=>{const[e,t]=y.useState([]),[r,n]=y.useState(null),[a,i]=y.useState(null),[s,c]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState(null),[g,w]=y.useState(""),[b,x]=y.useState("all"),[_,S]=y.useState([]),[N,P]=y.useState(!1),[k,C]=y.useState(!1),[A,T]=y.useState(null),[R,I]=y.useState({status:"draft",active_from:"",active_until:""}),[U,O]=y.useState(!1),[B,Z]=y.useState(!1),[te,Q]=y.useState(null),[Y,ie]=y.useState({}),[W,V]=y.useState(!1),[F,L]=y.useState(null),[J,G]=y.useState(!1),de=ll(),{language:Ce,translations:q}=ya(),{selectedClient:ae}=ul(),Ae=ce=>{var Fe,Ze;console.log("Converting menu to edit format:",ce);let Se=null;if(ce.meal_plan&&ce.meal_plan.meals?Se=ce.meal_plan.meals:ce.meals&&Array.isArray(ce.meals)&&(Se=ce.meals),!Se||!Array.isArray(Se))return console.error("No valid meals structure found in:",ce),null;const Ye=Se.map((He,wt)=>{var Lr,Fr,ye,Ne,De,gt,rr,ur;const kt=He.main||He,Je=He.alternative,Ft=He.meal||kt.meal_name||kt.mealName||`Meal ${wt+1}`,pr={meal_title:kt.meal_title||kt.itemName||Ft,mealIndex:wt,nutrition:{calories:((Lr=kt.nutrition)==null?void 0:Lr.calories)||kt.mealCalories||0,protein:((Fr=kt.nutrition)==null?void 0:Fr.protein)||kt.mealProtein||0,fat:((ye=kt.nutrition)==null?void 0:ye.fat)||kt.mealFat||0,carbs:((Ne=kt.nutrition)==null?void 0:Ne.carbs)||kt.mealCarbs||0},ingredients:(kt.ingredients||[]).map(vt=>({item:vt.item||vt.ingredientName||vt.name||"",household_measure:vt.household_measure||vt.portionUser||vt.portion||"",calories:vt.calories||0,protein:vt.protein||0,fat:vt.fat||0,carbs:vt.carbs||0,"brand of pruduct":vt["brand of pruduct"]||vt.brand||""}))},br={meal:Ft,main:pr};return Je&&(br.alternative={meal_title:Je.meal_title||Je.itemName||`${Ft} Alternative`,mealIndex:wt,nutrition:{calories:((De=Je.nutrition)==null?void 0:De.calories)||Je.mealCalories||0,protein:((gt=Je.nutrition)==null?void 0:gt.protein)||Je.mealProtein||0,fat:((rr=Je.nutrition)==null?void 0:rr.fat)||Je.mealFat||0,carbs:((ur=Je.nutrition)==null?void 0:ur.carbs)||Je.mealCarbs||0},ingredients:(Je.ingredients||[]).map(vt=>({item:vt.item||vt.ingredientName||vt.name||"",household_measure:vt.household_measure||vt.portionUser||vt.portion||"",calories:vt.calories||0,protein:vt.protein||0,fat:vt.fat||0,carbs:vt.carbs||0,"brand of pruduct":vt["brand of pruduct"]||vt.brand||""}))}),br}),Ve=((Fe=ce.meal_plan)==null?void 0:Fe.totals)||ce.totals||{calories:0,protein:0,fat:0,carbs:0};return{meals:Ye,totals:Ve,note:((Ze=ce.meal_plan)==null?void 0:Ze.note)||ce.note||""}},K=async ce=>{var Se,Ye,Ve;if(!ce)return console.warn("No user code provided for fetchUserTargets"),null;G(!0),m(null);try{console.log("🔍 Testing database connectivity...");const{data:Fe,error:Ze}=await lt.from("chat_users").select("user_code").limit(1);if(console.log("🔍 Database connectivity test:",{testData:Fe,testError:Ze}),Ze)return console.error("❌ Database connectivity issue:",Ze),m("Database connection issue: "+Ze.message),null;console.log("🔍 Fetching user targets for:",ce);const{data:He,error:wt}=await lt.from("chat_users").select("dailyTotalCalories, macros, region, food_allergies, food_limitations, age, gender, weight_kg, height_cm, client_preference").eq("user_code",ce).single();if(console.log("📊 Database response:",{data:He,error:wt}),wt)return console.error("❌ Error fetching user targets:",wt),wt.code==="PGRST116"?(console.error("❌ No user found with code:",ce),m(`No user found with code: ${ce}. Please check if the user exists in the database.`)):m("Failed to load user targets: "+wt.message),null;if(!He)return console.error("❌ No data returned from database"),m("No data returned from database for user: "+ce),null;console.log("✅ Fetched user targets:",He);const kt=[];He.dailyTotalCalories||kt.push("dailyTotalCalories"),He.macros||kt.push("macros"),kt.length>0&&(console.warn("⚠️ Missing essential fields:",kt),console.log("Available data:",He));let Je=He.macros;if(typeof Je=="string")try{Je=JSON.parse(Je)}catch(br){console.warn("Failed to parse macros JSON:",br),Je={protein:"150g",fat:"80g",carbs:"250g"}}const Ft=br=>{if(Array.isArray(br))return br;if(typeof br=="string")try{return JSON.parse(br)}catch{return br.split(",").map(Fr=>Fr.trim()).filter(Boolean)}return[]},pr={calories:He.dailyTotalCalories||2e3,macros:{protein:parseFloat(((Se=Je==null?void 0:Je.protein)==null?void 0:Se.replace("g",""))||"150"),fat:parseFloat(((Ye=Je==null?void 0:Je.fat)==null?void 0:Ye.replace("g",""))||"80"),carbs:parseFloat(((Ve=Je==null?void 0:Je.carbs)==null?void 0:Ve.replace("g",""))||"250")},region:He.region||"israel",allergies:Ft(He.food_allergies),limitations:Ft(He.food_limitations),age:He.age,gender:He.gender,weight_kg:He.weight_kg,height_cm:He.height_cm,client_preference:Ft(He.client_preference)};return console.log("✅ Processed user targets:",pr),L(pr),m(null),pr}catch(Fe){return console.error("❌ Error in fetchUserTargets:",Fe),m("Failed to load client nutritional targets"),null}finally{G(!1)}},_e=ce=>{let Se=0,Ye=0,Ve=0,Fe=0;return ce.meals?(ce.meals.forEach(Ze=>{var He;(He=Ze.main)!=null&&He.nutrition&&(Se+=Ze.main.nutrition.calories||0,Ye+=Ze.main.nutrition.protein||0,Ve+=Ze.main.nutrition.fat||0,Fe+=Ze.main.nutrition.carbs||0)}),{calories:Math.round(Se),protein:Math.round(Ye),fat:Math.round(Ve),carbs:Math.round(Fe)}):{calories:0,protein:0,fat:0,carbs:0}},Me=async()=>{c(!0),m(null);try{await Hr();let ce=[];try{ce=await $s.filter({record_type:"meal_plan"},"-created_at")}catch(Ye){console.error("Error loading menus:",Ye),ce=(await $s.list()).filter(Fe=>Fe.record_type==="meal_plan")}t(ce);const Se=[...new Set(ce.map(Ye=>Ye.user_code).filter(Boolean))];S(Se)}catch(ce){console.error("Error loading menus:",ce),m("Failed to load menus. Please check your connection and try again.")}finally{c(!1)}};y.useEffect(()=>{Me()},[]);const pe=e.filter(ce=>{var Ve,Fe;if(ae)return ce.user_code===ae.user_code;const Se=((Ve=ce.meal_plan_name)==null?void 0:Ve.toLowerCase().includes(g.toLowerCase()))||((Fe=ce.user_code)==null?void 0:Fe.toLowerCase().includes(g.toLowerCase())),Ye=b==="all"||ce.user_code===b;return Se&&Ye}),Qe=ce=>{switch(ce){case"active":return"bg-green-100 text-green-800 border-green-200";case"published":return"bg-blue-100 text-blue-800 border-blue-200";case"draft":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"expired":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},ze=ce=>{console.log("Selected menu:",ce),n(ce);const Se=Ae(ce);Se?(i(Se),P(!0),ce.user_code&&K(ce.user_code)):m("Failed to load menu data")},re=()=>{n(null),i(null),P(!1),m(null)},Ct=(ce,Se,Ye)=>{i(Ve=>{const Fe=JSON.parse(JSON.stringify(Ve)),Ze=Ye==="main"?Fe.meals[Se].main:Fe.meals[Se].alternative;return Ze.meal_title=ce,Fe.meals[Se].meal=ce,Fe.totals=_e(Fe),Fe})},Vt=(ce,Se,Ye,Ve)=>{i(Fe=>{const Ze=JSON.parse(JSON.stringify(Fe)),He=Ye==="main"?Ze.meals[Se].main:Ze.meals[Se].alternative;if(He.ingredients&&He.ingredients[Ve]&&(Object.assign(He.ingredients[Ve],ce),Ye==="main")){const wt=He.ingredients.reduce((kt,Je)=>({calories:kt.calories+(Je.calories||0),protein:kt.protein+(Je.protein||0),fat:kt.fat+(Je.fat||0),carbs:kt.carbs+(Je.carbs||0)}),{calories:0,protein:0,fat:0,carbs:0});He.nutrition=wt,Ze.totals=_e(Ze)}return Ze})},Pt=(ce,Se=null)=>{i(Ye=>{const Ve=JSON.parse(JSON.stringify(Ye)),Fe=Ve.meals[ce];if(Se!==null){const Ze=Fe.alternatives[Se],He=Fe.main;Fe.main=Ze,Fe.alternatives[Se]=He}else{const Ze=Fe.main,He=Fe.alternative;Fe.main=He,Fe.alternative=Ze}return Ve.totals=_e(Ve),Ve})},Gt=(ce,Se,Ye,Ve=null)=>{i(Fe=>{const Ze=JSON.parse(JSON.stringify(Fe)),He=Ze.meals[ce];let wt;Ve!==null?wt=He.alternatives[Ve]:wt=Se==="main"?He.main:He.alternative,wt.ingredients.splice(Ye,1);const kt=wt.ingredients.reduce((Je,Ft)=>(Je.calories+=Number(Ft.calories)||0,Je.protein+=Number(Ft.protein)||0,Je.fat+=Number(Ft.fat)||0,Je.carbs+=Number(Ft.carbs)||0,Je),{calories:0,protein:0,fat:0,carbs:0});return wt.nutrition={calories:Math.round(kt.calories),protein:Math.round(kt.protein),fat:Math.round(kt.fat),carbs:Math.round(kt.carbs)},Ze.totals=_e(Ze),Ze})};async function sn(ce,Se){const Ye=await fetch("https://dietitian-be.azurewebsites.net/api/generate-alternative-meal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({main:ce,alternative:Se,user_code:a.user_code})});if(!Ye.ok){const Ve=await Ye.json().catch(()=>({}));throw new Error(Ve.error||"Failed to generate alternative meal")}return await Ye.json()}const bt=async ce=>{ie(Se=>({...Se,[ce]:!0}));try{const Se=a.meals[ce];if(!Se||!Se.main||!Se.alternative)return;const Ye=await sn(Se.main,Se.alternative);let Ve=Ye;if(Ce==="he")try{console.log("🌐 Translating new alternative meal to Hebrew...");const Fe={meals:[{meal:Ye.meal||"Alternative",main:Ye,alternative:Ye}]};Ve=(await Kn(Fe,"he")).meals[0].main,console.log("✅ New alternative translated to Hebrew:",Ve)}catch(Fe){console.error("❌ Failed to translate new alternative:",Fe),Ve=Ye}i(Fe=>{const Ze={...Fe};return Ze.meals[ce].alternatives||(Ze.meals[ce].alternatives=[]),Ze.meals[ce].alternatives.push(Ve),{...Ze}})}catch(Se){alert(Se.message||"Failed to generate alternative meal")}finally{ie(Se=>({...Se,[ce]:!1}))}},er=async()=>{if(!a||!r){m("No menu to save");return}try{f(!0),m(null);const{data:{user:ce},error:Se}=await lt.auth.getUser();if(Se||!ce){m("You must be logged in to save menus");return}const Ye={id:r.id,meal_plan_name:a.meal_plan_name||"Updated Meal Plan",user_code:a.user_code,meal_plan:{note:a.note||"",meals:a.meals.map(Fe=>{const Ze={meal:Fe.meal,main:{meal_name:Fe.meal,meal_title:Fe.main.meal_title,nutrition:{calories:Math.round(Fe.main.nutrition.calories||0),protein:Math.round(Fe.main.nutrition.protein||0),fat:Math.round(Fe.main.nutrition.fat||0),carbs:Math.round(Fe.main.nutrition.carbs||0)},ingredients:Fe.main.ingredients.map(He=>({item:He.item,household_measure:He.household_measure,calories:Math.round(He.calories||0),protein:Math.round(He.protein||0),fat:Math.round(He.fat||0),carbs:Math.round(He.carbs||0),"brand of pruduct":He["brand of pruduct"]||"",UPC:He.UPC||null}))}};return Fe.alternative&&(Ze.alternative={meal_name:Fe.meal,meal_title:Fe.alternative.meal_title,nutrition:{calories:Math.round(Fe.alternative.nutrition.calories||0),protein:Math.round(Fe.alternative.nutrition.protein||0),fat:Math.round(Fe.alternative.nutrition.fat||0),carbs:Math.round(Fe.alternative.nutrition.carbs||0)},ingredients:Fe.alternative.ingredients.map(He=>({item:He.item,household_measure:He.household_measure,calories:Math.round(He.calories||0),protein:Math.round(He.protein||0),fat:Math.round(He.fat||0),carbs:Math.round(He.carbs||0),"brand of pruduct":He["brand of pruduct"]||"",UPC:He.UPC||null}))}),Ze}),totals:{calories:Math.round(a.totals.calories||0),protein:Math.round(a.totals.protein||0),fat:Math.round(a.totals.fat||0),carbs:Math.round(a.totals.carbs||0)}},daily_total_calories:Math.round(a.totals.calories||0),macros_target:{protein:Math.round(a.totals.protein||0),fat:Math.round(a.totals.fat||0),carbs:Math.round(a.totals.carbs||0)},status:"draft",dietitian_id:ce.id},Ve=await $s.update(r.id,Ye);console.log("✅ Menu updated successfully:",Ve),alert("Menu updated successfully!"),re(),Me()}catch(ce){console.error("Error saving menu:",ce),m("Failed to save menu: "+ce.message)}finally{f(!1)}},xr=ce=>{T(ce),I({status:ce.status||"draft",active_from:ce.active_from?new Date(ce.active_from).toISOString().split("T")[0]:"",active_until:ce.active_until?new Date(ce.active_until).toISOString().split("T")[0]:""}),C(!0)},qt=async()=>{if(A)try{O(!0),m(null);const{data:{user:ce},error:Se}=await lt.auth.getUser();if(Se||!ce){m("You must be logged in to update menu status");return}const Ye={status:R.status,user_code:A.user_code,...R.active_from&&{active_from:R.active_from},...R.active_until&&{active_until:R.active_until}};(R.status==="draft"||R.status==="expired")&&(Ye.active_from=null,Ye.active_until=null);const Ve=await $s.update(A.id,Ye);if(console.log("✅ Menu status updated successfully:",Ve),R.status==="active")try{const Fe=A.meal_plan;if(Fe){const{data:Ze,error:He}=await Bq.from("meal_plans").insert({user_code:A.user_code,meal_plan:Fe});He?(console.error("Error adding to second table:",He),console.warn("Failed to add meal plan to second table, but status was updated successfully")):console.log("✅ Meal plan added to second table successfully:",Ze)}else console.warn("No meal plan data found in selected menu")}catch(Fe){console.error("Error adding to second table:",Fe),console.warn("Failed to add meal plan to second table, but status was updated successfully")}alert("Menu status updated successfully!"),C(!1),T(null),Me()}catch(ce){console.error("Error updating menu status:",ce),m("Failed to update menu status: "+ce.message)}finally{O(!1)}},qr=ce=>{if(!ce)return"N/A";try{return new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Invalid Date"}};async function Kn(ce,Se="he"){const Ye=await fetch("https://dietitian-be.azurewebsites.net/api/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({menu:ce,targetLang:Se})});if(!Ye.ok){const Ve=await Ye.json().catch(()=>({}));throw new Error(Ve.error||"Translation failed")}return await Ye.json()}async function Yn(ce){try{let Se="Client";if(r!=null&&r.user_code)try{const{data:He,error:wt}=await lt.from("chat_users").select("full_name").eq("user_code",r.user_code).single();!wt&&(He!=null&&He.full_name)&&(Se=He.full_name)}catch(He){console.warn("Could not fetch user name for PDF:",He)}const Ye=Gr(ce,Se),Ve=new Blob([Ye],{type:"text/html"}),Fe=URL.createObjectURL(Ve),Ze=window.open(Fe,"_blank");Ze.onload=()=>{setTimeout(()=>{Ze.print(),setTimeout(()=>{Ze.close(),URL.revokeObjectURL(Fe)},1e3)},500)}}catch(Se){console.error("Error generating PDF:",Se),alert("Failed to generate PDF. Please try again.")}}function Gr(ce,Se="Client"){var kt;const Ve=new Date().toLocaleDateString("he-IL",{year:"numeric",month:"long",day:"numeric"});ce.totals||_e(ce);const Fe=Je=>Je?/[\u0590-\u05FF]/.test(Je):!1,Ze=(kt=ce.meals)==null?void 0:kt.some(Je=>{var Ft,pr,br,Lr,Fr,ye;return Fe(Je.meal)||Fe((Ft=Je.main)==null?void 0:Ft.meal_title)||Fe((pr=Je.alternative)==null?void 0:pr.meal_title)||((Lr=(br=Je.main)==null?void 0:br.ingredients)==null?void 0:Lr.some(Ne=>Fe(Ne.item)))||((ye=(Fr=Je.alternative)==null?void 0:Fr.ingredients)==null?void 0:ye.some(Ne=>Fe(Ne.item)))});return`
<!DOCTYPE html>
<html lang="${Ze?"he":"en"}" dir="${Ze?"rtl":"ltr"}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BetterChoice - תפריט אישי</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Hebrew:wght@400;700&family=Inter:wght@400;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans Hebrew', 'Inter', sans-serif;
            line-height: 1.6;
            color: #333;
            background: white;
            margin: 0;
            padding: 0;
        }
        
        .page {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            background: #e8f5e8;
            padding: 20px;
            text-align: center;
        }
        
        .logo {
            width: 50px;
            height: 50px;
            background: #4CAF50;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }
        
        .main-title {
            font-size: 28px;
            font-weight: 700;
            color: #333;
            margin-bottom: 8px;
        }
        
        .user-name {
            font-size: 20px;
            font-weight: 600;
            color: #4CAF50;
            margin-bottom: 8px;
        }
        
        .date {
            font-size: 16px;
            font-weight: 500;
            color: #666;
            margin-bottom: 8px;
        }
        
        .content {
            flex: 1;
            padding: 20px;
        }
        
        .meal-section {
            margin-bottom: 20px;
            page-break-inside: avoid;
        }
        
        .meal-title {
            font-size: 18px;
            font-weight: 700;
            color: #666;
            text-align: right;
            margin-bottom: 12px;
            padding-bottom: 4px;
            border-bottom: 2px dashed #ddd;
        }
        
        .meal-subtitle {
            font-size: 14px;
            font-weight: 600;
            color: #4CAF50;
            text-align: right;
            margin-bottom: 8px;
        }
        
        .meal-options {
            margin-right: 20px;
        }
        
        .meal-option {
            margin-bottom: 6px;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .option-number {
            font-weight: 600;
            color: #4CAF50;
            margin-left: 8px;
        }
        
        .option-text {
            color: #333;
        }
        
        .highlighted {
            text-decoration: underline;
            text-decoration-color: #ff4444;
            text-decoration-thickness: 2px;
        }
        
        .bold-note {
            font-weight: 700;
            color: #333;
        }
        
        .footer {
            background: #e8f5e8;
            padding: 15px;
            text-align: right;
        }
        
        .contact-info {
            color: white;
            font-size: 14px;
            line-height: 1.8;
        }
        
        .contact-info div {
            margin-bottom: 5px;
        }
        
        @media print {
            /* Disable browser headers and footers */
            @page {
                margin: 0;
                size: A4;
            }
            
            body {
                font-size: 12px;
                margin: 0;
                padding: 0;
            }
            
            .header {
                padding: 20px;
            }
            
            .logo {
                width: 50px;
                height: 50px;
                font-size: 20px;
                margin-bottom: 15px;
            }
            
            .main-title {
                font-size: 28px;
                margin-bottom: 8px;
            }
            
            .user-name {
                font-size: 20px;
                margin-bottom: 8px;
            }
            
            .date {
                font-size: 16px;
                margin-bottom: 8px;
            }
            
            .content {
                padding: 20px;
            }
            
            .meal-title {
                font-size: 18px;
                margin-bottom: 12px;
            }
            
            .meal-subtitle {
                font-size: 14px;
                margin-bottom: 8px;
            }
            
            .meal-option {
                font-size: 14px;
                margin-bottom: 6px;
            }
            
            .footer {
                padding: 15px;
            }
            
            .contact-info {
                font-size: 12px;
            }
            
            /* Keep meal sections together but allow natural flow */
            .meal-section {
                page-break-inside: avoid;
            }
        }
        
        /* RTL Support */
        [dir="rtl"] {
            text-align: right;
        }
        
        [dir="rtl"] .meal-options {
            margin-right: 0;
            margin-left: 20px;
        }
        
        [dir="rtl"] .option-number {
            margin-left: 0;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div class="page">
        <div class="header">
            <div class="logo">BC</div>
            <div class="main-title">תפריט אישי</div>
            <div class="user-name">${Se}</div>
            <div class="date">${Ve}</div>
            </div>
        
        <div class="content">
            ${ce.meals?ce.meals.map((Je,Ft)=>{const pr=Je.meal||`Meal ${Ft+1}`,br=pr.toLowerCase().includes("snack")||pr.toLowerCase().includes("ביניים");return`
                    <div class="meal-section">
                        <h2 class="meal-title">${pr}</h2>
                        ${br?'<div class="meal-subtitle">לבחירתך מתי</div>':""}
                        
                        <div class="meal-options">
                            ${(()=>{let Lr=1,Fr=[];if(Je.main&&Je.main.ingredients&&Je.main.ingredients.length>0){const ye=Je.main.ingredients.map(Ne=>{let De=Ne.item||"Ingredient";return De=De.replace(/\b(וגן|קוביה|בישבת|טורטיות|סולוג|מולך|אלשבע|בולים)\b/g,'<span class="highlighted">$1</span>'),Ne.household_measure&&(De+=` (${Ne.household_measure})`),De}).join(", ");Fr.push(`<div class="meal-option"><span class="option-number">${Lr}.</span><span class="option-text">${ye}</span></div>`),Lr++}if(Je.alternative&&Je.alternative.ingredients&&Je.alternative.ingredients.length>0){const ye=Je.alternative.ingredients.map(Ne=>{let De=Ne.item||"Ingredient";return De=De.replace(/\b(וגן|קוביה|בישבת|טורטיות|סולוג|מולך|אלשבע|בולים)\b/g,'<span class="highlighted">$1</span>'),Ne.household_measure&&(De+=` (${Ne.household_measure})`),De}).join(", ");Fr.push(`<div class="meal-option"><span class="option-number">${Lr}.</span><span class="option-text">${ye}</span></div>`),Lr++}return Je.alternatives&&Je.alternatives.length>0&&Je.alternatives.forEach(ye=>{if(ye.ingredients&&ye.ingredients.length>0){const Ne=ye.ingredients.map(De=>{let gt=De.item||"Ingredient";return gt=gt.replace(/\b(וגן|קוביה|בישבת|טורטיות|סולוג|מולך|אלשבע|בולים)\b/g,'<span class="highlighted">$1</span>'),De.household_measure&&(gt+=` (${De.household_measure})`),gt}).join(", ");Fr.push(`<div class="meal-option"><span class="option-number">${Lr}.</span><span class="option-text">${Ne}</span></div>`),Lr++}}),(pr.toLowerCase().includes("lunch")||pr.toLowerCase().includes("צהרים"))&&Fr.push('<div class="meal-option"><span class="bold-note">**אם רוצה אז להוסיף לך חלבון וירקות**</span></div>'),Fr.join("")})()}
                        </div>
                                        </div>
                `}).join(""):""}
                </div>
    
    <div class="footer">
            <div class="contact-info">
                <div>כתובת: משכית 10, הרצליה</div>
                <div>לקביעת תור: 054-3066442</div>
                <div>א"ל: galbecker106@gmail.com</div>
            </div>
        </div>
    </div>
</body>
</html>`}const Wr=async ce=>{if(!(!a||W)){if(ce==="en"){const Se=e.find(Ye=>Ye.id===a.id);if(Se){const Ye=Ae(Se);Ye&&i(Ye)}return}V(!0),m(null);try{const Se=await Kn(a,ce);i(Se)}catch(Se){console.error("Translation failed:",Se),m("Failed to translate menu.")}finally{V(!1)}}};y.useEffect(()=>(ni.on("translateMenu",Wr),()=>{ni.off&&ni.off("translateMenu",Wr)}),[a,W]);const Hr=async()=>{try{Z(!0),Q(null),m(null);const ce=new Date().toISOString(),{data:Se,error:Ye}=await lt.from("meal_plans_and_schemas").select("id, meal_plan_name, active_until").eq("status","active").not("active_until","is",null).lt("active_until",ce);if(Ye){console.error("Error checking for expired menus:",Ye),m("Failed to check for expired menus: "+Ye.message);return}if(Se&&Se.length>0){console.log(`Found ${Se.length} expired menus:`,Se);let Ve=0,Fe=0;for(const Ze of Se){const He={status:"expired",active_until:null,updated_at:new Date().toISOString()},{error:wt}=await lt.from("meal_plans_and_schemas").update(He).eq("id",Ze.id);wt?(console.error(`Error updating expired menu ${Ze.id}:`,wt),Fe++):(console.log(`✅ Updated expired menu: ${Ze.meal_plan_name}`),Ve++)}Q({found:Se.length,updated:Ve,errors:Fe,menus:Se.map(Ze=>Ze.meal_plan_name)}),Ve>0&&Me()}else Q({found:0,updated:0,errors:0,menus:[]})}catch(ce){console.error("Error in checkAndUpdateExpiredMenus:",ce),m("Failed to check expired menus: "+ce.message)}finally{Z(!1)}},vn=(ce,Se=!1)=>{var Ye,Ve,Fe,Ze,He,wt,kt,Je;return ce?o.jsxs("div",{className:`p-4 rounded-lg ${Se?"bg-blue-50":"bg-green-50"}`,children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsx(YJ,{value:ce.meal_title,onChange:Ct,mealIndex:ce.mealIndex,optionIndex:Se?"alternative":"main"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(mr,{variant:"outline",className:`${Se?"bg-blue-100 border-blue-200":"bg-green-100 border-green-200"}`,children:typeof((Ye=ce.nutrition)==null?void 0:Ye.calories)=="number"?ce.nutrition.calories+" "+(q.calories||"kcal"):(Ve=ce.nutrition)==null?void 0:Ve.calories}),Se&&o.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>Pt(ce.mealIndex,ce.alternativeIndex),className:"text-xs bg-green-50 hover:bg-green-100 border-green-200 text-green-700",title:q.makeMain||"Make this the main option",children:["⭐ ",q.makeMain||"Make Main"]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:q.protein||"Protein"}),o.jsx("p",{className:"font-medium",children:typeof((Fe=ce.nutrition)==null?void 0:Fe.protein)=="number"?ce.nutrition.protein.toFixed(1)+"g":(Ze=ce.nutrition)==null?void 0:Ze.protein})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:q.fat||"Fat"}),o.jsx("p",{className:"font-medium",children:typeof((He=ce.nutrition)==null?void 0:He.fat)=="number"?ce.nutrition.fat.toFixed(1)+"g":(wt=ce.nutrition)==null?void 0:wt.fat})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:q.carbs||"Carbs"}),o.jsx("p",{className:"font-medium",children:typeof((kt=ce.nutrition)==null?void 0:kt.carbs)=="number"?ce.nutrition.carbs.toFixed(1)+"g":(Je=ce.nutrition)==null?void 0:Je.carbs})]})]}),ce.ingredients&&ce.ingredients.length>0&&o.jsxs("div",{children:[o.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:[q.ingredients||"Ingredients",":"]}),o.jsx("ul",{className:"space-y-1",children:ce.ingredients.map((Ft,pr)=>o.jsxs("li",{className:"flex items-start gap-2 text-sm group",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 mt-2"}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[o.jsx(JJ,{value:Ft.item,onChange:Vt,mealIndex:ce.mealIndex,optionIndex:Se?"alternative":"main",ingredientIndex:pr,translations:q}),o.jsx("span",{className:"text-gray-600",children:Ft.household_measure}),(Ft.calories||Ft.protein)&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-orange-600 font-medium",children:[Math.round(Ft.calories||0)," ",q.calories||"cal"]}),o.jsxs("span",{className:"text-blue-600 font-medium",children:[Math.round(Ft.protein||0),"g ",q.protein||"protein"]})]})]})}),o.jsx("button",{onClick:()=>Gt(ce.mealIndex,Se?"alternative":"main",pr,ce.alternativeIndex),className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded",title:q.deleteIngredient||"Delete ingredient",children:o.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},pr))})]})]}):null};return N&&a?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:re,children:o.jsx(d_,{className:"h-4 w-4"})}),o.jsxs("div",{children:[o.jsxs("h1",{className:"text-2xl font-bold",children:[q.editMenu||"Edit Menu",": ",a.meal_plan_name||q.loadedMenu||"Loaded Menu"]}),a.user_code&&o.jsxs("p",{className:"text-sm text-gray-500",children:[q.clientCode||"User Code",": ",a.user_code]})]})]}),h&&o.jsxs(ei,{variant:"destructive",children:[o.jsx(Fs,{children:"Error"}),o.jsx(ti,{children:h})]}),W&&o.jsxs(ei,{children:[o.jsx(wi,{className:"animate-spin h-4 w-4 mr-2"}),o.jsx(Fs,{children:"Translating Menu"}),o.jsx(ti,{children:"Please wait while the menu is being translated..."})]}),a.totals&&o.jsxs(At,{className:"bg-green-50/30",children:[o.jsx(Sr,{children:o.jsxs(Nr,{className:"flex items-center gap-2 text-green-800",children:[o.jsx(SD,{className:"h-5 w-5"}),q.dailyTotals||"Daily Totals"]})}),o.jsx(Et,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("p",{className:"text-sm text-green-600 font-medium",children:q.calories||"Calories"}),o.jsxs("p",{className:"text-2xl font-bold text-green-700",children:[a.totals.calories,o.jsx("span",{className:"text-sm font-normal text-green-600 ml-1",children:q.calories||"kcal"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium",children:q.protein||"Protein"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[a.totals.protein,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:"g"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("p",{className:"text-sm text-amber-600 font-medium",children:q.fat||"Fat"}),o.jsxs("p",{className:"text-2xl font-bold text-amber-700",children:[a.totals.fat,o.jsx("span",{className:"text-sm font-normal text-amber-600 ml-1",children:"g"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:q.carbs||"Carbs"}),o.jsxs("p",{className:"text-2xl font-bold text-orange-700",children:[a.totals.carbs,o.jsx("span",{className:"text-sm font-normal text-orange-600 ml-1",children:"g"})]})]})]})})]}),r&&r.user_code&&o.jsxs(At,{className:"border-blue-200 bg-blue-50/30",children:[o.jsxs(Sr,{children:[o.jsxs(Nr,{className:"flex items-center gap-2 text-blue-800",children:[o.jsx("span",{children:"🎯"}),q.nutritionTargets||"Client Nutritional Targets"]}),o.jsx(zr,{className:"text-blue-600",children:q.fromDatabase?`${q.fromDatabase} ${r.user_code}`:`from database ${r.user_code}`})]}),o.jsx(Et,{children:J?o.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[o.jsx(wi,{className:"animate-spin h-4 w-4"}),q.loadingClientTargets||"Loading client targets..."]}):F?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:q.calories||"Calories"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[F.calories,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:q.calories||"kcal"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:q.protein||"Protein"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[F.macros.protein,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:"g"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:q.fat||"Fat"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[F.macros.fat,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:"g"})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-blue-200 text-center",children:[o.jsx("p",{className:"text-sm text-blue-600 font-medium mb-2",children:q.carbs||"Carbs"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-700",children:[F.macros.carbs,o.jsx("span",{className:"text-sm font-normal text-blue-600 ml-1",children:"g"})]})]})]}),(F.age||F.gender||F.weight_kg||F.height_cm)&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[F.age&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:q.age||"Age"}),o.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[F.age," ",q.yearsOld||"years"]})]}),F.gender&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:q.gender||"Gender"}),o.jsx("p",{className:"text-lg font-semibold text-gray-800",children:F.gender})]}),F.weight_kg&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:q.weight||"Weight"}),o.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[F.weight_kg," kg"]})]}),F.height_cm&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-gray-200",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-1",children:q.height||"Height"}),o.jsxs("p",{className:"text-lg font-semibold text-gray-800",children:[F.height_cm," cm"]})]})]}),(F.allergies.length>0||F.limitations.length>0)&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[F.allergies.length>0&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-red-200",children:[o.jsxs("p",{className:"text-sm text-red-700 font-medium mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"⚠️"}),q.dietaryAllergies||"Food Allergies"]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:F.allergies.map((ce,Se)=>o.jsx(mr,{variant:"outline",className:"bg-red-50 border-red-200 text-red-700 text-xs",children:ce},Se))})]}),F.limitations.length>0&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-orange-200",children:[o.jsxs("p",{className:"text-sm text-orange-700 font-medium mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"🚫"}),q.dietaryRestrictions||"Dietary Restrictions"]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:F.limitations.map((ce,Se)=>o.jsx(mr,{variant:"outline",className:"bg-orange-50 border-orange-200 text-orange-700 text-xs",children:ce},Se))})]})]}),F.client_preference&&F.client_preference.length>0&&o.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-sm border border-green-200",children:[o.jsxs("p",{className:"text-sm text-green-700 font-medium mb-2 flex items-center gap-2",children:[o.jsx("span",{children:"❤️"}),q.clientPreferences||"Client Preferences"]}),o.jsx("div",{className:"flex flex-wrap gap-1",children:F.client_preference.map((ce,Se)=>o.jsx(mr,{variant:"outline",className:"bg-green-50 border-green-200 text-green-700 text-xs",children:ce},Se))})]}),a&&a.totals&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[o.jsx("span",{children:"📊"}),q.targetVsGenerated||"Target vs Generated Menu Comparison"]}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsx("p",{className:"text-sm text-gray-600 font-medium mb-2",children:q.calories||"Calories"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-blue-600",children:[q.target||"Target",":"]}),o.jsx("span",{className:"font-bold text-blue-700",children:F.calories})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[q.generated||"Generated",":"]}),o.jsx("span",{className:"font-bold text-green-700",children:a.totals.calories})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-100",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[q.difference||"Difference",":"]}),o.jsx("span",{className:`text-sm font-medium ${Math.abs(a.totals.calories-F.calories)<=F.calories*.05?"text-green-600":"text-red-600"}`,children:`${a.totals.calories-F.calories>0?"+":""}${((a.totals.calories-F.calories)/F.calories*100).toFixed(1)}%`})]})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsxs("p",{className:"text-sm text-gray-600 font-medium mb-2",children:[q.protein||"Protein"," (g)"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-blue-600",children:[q.target||"Target",":"]}),o.jsx("span",{className:"font-bold text-blue-700",children:F.macros.protein})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[q.generated||"Generated",":"]}),o.jsx("span",{className:"font-bold text-green-700",children:a.totals.protein})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-100",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[q.difference||"Difference",":"]}),o.jsx("span",{className:`text-sm font-medium ${Math.abs(a.totals.protein-F.macros.protein)<=F.macros.protein*.05?"text-green-600":"text-red-600"}`,children:`${a.totals.protein-F.macros.protein>0?"+":""}${((a.totals.protein-F.macros.protein)/F.macros.protein*100).toFixed(1)}%`})]})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsxs("p",{className:"text-sm text-gray-600 font-medium mb-2",children:[q.fat||"Fat"," (g)"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-blue-600",children:[q.target||"Target",":"]}),o.jsx("span",{className:"font-bold text-blue-700",children:F.macros.fat})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[q.generated||"Generated",":"]}),o.jsx("span",{className:"font-bold text-green-700",children:a.totals.fat})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-100",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[q.difference||"Difference",":"]}),o.jsx("span",{className:`text-sm font-medium ${Math.abs(a.totals.fat-F.macros.fat)<=F.macros.fat*.05?"text-green-600":"text-red-600"}`,children:`${a.totals.fat-F.macros.fat>0?"+":""}${((a.totals.fat-F.macros.fat)/F.macros.fat*100).toFixed(1)}%`})]})]})]}),o.jsxs("div",{className:"p-4 bg-white rounded-lg border border-blue-200",children:[o.jsxs("p",{className:"text-sm text-gray-600 font-medium mb-2",children:[q.carbs||"Carbs"," (g)"]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-blue-600",children:[q.target||"Target",":"]}),o.jsx("span",{className:"font-bold text-blue-700",children:F.macros.carbs})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm text-green-600",children:[q.generated||"Generated",":"]}),o.jsx("span",{className:"font-bold text-green-700",children:a.totals.carbs})]}),o.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-gray-100",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[q.difference||"Difference",":"]}),o.jsx("span",{className:`text-sm font-medium ${Math.abs(a.totals.carbs-F.macros.carbs)<=F.macros.carbs*.05?"text-green-600":"text-red-600"}`,children:`${a.totals.carbs-F.macros.carbs>0?"+":""}${((a.totals.carbs-F.macros.carbs)/F.macros.carbs*100).toFixed(1)}%`})]})]})]})]}),o.jsx("div",{className:"mt-6 p-4 rounded-lg bg-gradient-to-r from-blue-50 to-green-50 border border-blue-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-base font-medium text-gray-700",children:[q.menuAccuracy||"Menu Accuracy",":"]}),o.jsx("div",{className:"flex items-center gap-3",children:(()=>{const ce=Math.abs((a.totals.calories-F.calories)/F.calories*100),Se=Math.abs((a.totals.protein-F.macros.protein)/F.macros.protein*100),Ye=Math.abs((a.totals.fat-F.macros.fat)/F.macros.fat*100),Ve=Math.abs((a.totals.carbs-F.macros.carbs)/F.macros.carbs*100),Fe=(ce+Se+Ye+Ve)/4,Ze=Math.max(0,Math.min(100,100-Fe*1.5)),He=[ce<=5,Se<=5,Ye<=5,Ve<=5].filter(Boolean).length,wt=[ce<=10,Se<=10,Ye<=10,Ve<=10].filter(Boolean).length;return o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`px-4 py-2 rounded-full text-base font-medium ${Ze>=80?"bg-green-100 text-green-700 border border-green-200":Ze>=60?"bg-yellow-100 text-yellow-700 border border-yellow-200":"bg-red-100 text-red-700 border border-red-200"}`,children:[Math.round(Ze),"% ",q.accurate||"Accurate"]}),o.jsxs("span",{className:"text-sm text-gray-500",children:["(",He,"/4 ",q.within5Percent||"within ±5%",", ",wt,"/4 within ±10%)"]})]})})()})]})})]})]}):o.jsxs("div",{className:"space-y-3",children:[o.jsx("p",{className:"text-blue-600",children:q.noTargetDataFound||"No target data found for this client."}),h&&o.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[o.jsx("p",{className:"text-red-700 text-sm font-medium",children:"Error Details:"}),o.jsx("p",{className:"text-red-600 text-sm",children:h})]})]})})]}),o.jsx("div",{className:"space-y-6",children:a.meals.map((ce,Se)=>o.jsxs(At,{className:"overflow-hidden",children:[o.jsx(Sr,{className:"border-b bg-gray-50",children:o.jsx("div",{className:"flex justify-between items-center",children:o.jsxs(Nr,{className:"flex items-center gap-2",children:[o.jsx(vj,{className:"h-5 w-5 text-green-600"}),ce.meal]})})}),o.jsx(Et,{className:"pt-6",children:o.jsxs("div",{className:"space-y-6",children:[ce.main&&o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center gap-2 mb-4",children:o.jsx(mr,{variant:"outline",className:"bg-green-100 border-green-200",children:q.mainOption||"Main Option"})}),vn({...ce.main,mealIndex:Se},!1)]}),ce.alternative&&o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center gap-2 mb-4",children:o.jsx(mr,{variant:"outline",className:"bg-blue-100 border-blue-200",children:q.alternativeOption||"Alternative Option"})}),vn({...ce.alternative,mealIndex:Se},!0)]}),ce.alternatives&&ce.alternatives.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsxs("div",{className:"font-semibold mb-2 text-blue-700",children:[q.otherAlternatives||"Other Alternatives",":"]}),o.jsx("div",{className:"space-y-4",children:ce.alternatives.map((Ye,Ve)=>o.jsx("div",{className:"bg-blue-50 rounded-lg p-3",children:vn({...Ye,mealIndex:Se,alternativeIndex:Ve},!0)},Ve))})]}),o.jsx("div",{className:"mt-4 flex justify-end",children:o.jsxs(Te,{onClick:()=>bt(Se),disabled:Y[Se],className:"bg-blue-600 hover:bg-blue-700 text-white",children:[Y[Se]?o.jsx(wi,{className:"animate-spin h-4 w-4 mr-2"}):null,Y[Se]?q.generating||"Generating...":q.addAlternative||"Add Alternative"]})})]})})]},Se))}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsxs(Te,{onClick:()=>Yn(a),variant:"outline",className:"border-blue-300 text-blue-700 hover:bg-blue-50",children:[o.jsx(gj,{className:"h-4 w-4 mr-2"}),q.downloadAsPdf||"Download as PDF"]}),o.jsxs(Te,{onClick:er,disabled:d,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400",children:[d?o.jsx(wi,{className:"animate-spin h-4 w-4 mr-2"}):o.jsx(p_,{className:"h-4 w-4 mr-2"}),d?q.saving||"Saving...":q.saveChanges||"Save Changes"]})]})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(Te,{variant:"outline",size:"icon",onClick:()=>de(-1),children:o.jsx(d_,{className:"h-4 w-4"})}),o.jsx("h1",{className:"text-2xl font-bold",children:q.loadMenu||"Load & Edit Menu"})]}),h&&o.jsxs(ei,{variant:"destructive",children:[o.jsx(Fs,{children:"Error"}),o.jsx(ti,{children:h})]}),te&&o.jsxs(ei,{variant:te.found>0?"default":"secondary",children:[o.jsx(Fs,{children:te.found>0?"Expired Meal plans Found":"No Expired Meal plans"}),o.jsx(ti,{children:te.found>0?o.jsxs("div",{className:"space-y-2",children:[o.jsxs("p",{children:["Found ",te.found," expired Meal plan(s)."]}),o.jsxs("p",{children:["Successfully updated ",te.updated," Meal plan(s) to expired status."]}),te.errors>0&&o.jsxs("p",{className:"text-red-600",children:["Failed to update ",te.errors," Meal plan(s)."]}),te.menus.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"font-medium",children:"Updated Meal plans:"}),o.jsx("ul",{className:"list-disc list-inside text-sm",children:te.menus.map((ce,Se)=>o.jsx("li",{children:ce},Se))})]})]}):o.jsx("p",{children:"No expired Meal Plans found. All active menus are still within their active period."})})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[o.jsx(wc,{className:"w-5 h-5 text-gray-400"}),ae?o.jsxs("div",{className:"flex-1 p-3 bg-green-50 border border-green-200 rounded-md",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[o.jsx("span",{children:"✓"}),o.jsxs("span",{className:"font-medium",children:[q.selectedClient||"Selected Client",": ",ae.full_name]}),o.jsxs("span",{className:"text-green-600",children:["(",ae.user_code,")"]})]}),o.jsx("div",{className:"text-xs text-green-600 mt-1",children:q.filteredBySelectedClient||"Filtered by selected client"})]}):o.jsx(Ut,{placeholder:q.searchMenus||"Search by name or client code...",value:g,onChange:ce=>w(ce.target.value),className:"flex-1"})]}),o.jsxs("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[o.jsx(AD,{className:"w-5 h-5 text-gray-400"}),ae?o.jsx("div",{className:"w-full sm:w-[180px] p-3 bg-blue-50 border border-blue-200 rounded-md",children:o.jsx("div",{className:"text-xs text-blue-700",children:q.automaticFiltering||"Automatic filtering by selected client"})}):o.jsxs(qn,{value:b,onValueChange:x,children:[o.jsx(Mn,{className:"w-full sm:w-[180px]",children:o.jsx(Wn,{placeholder:q.filterByClient||"Filter by client"})}),o.jsxs(Rn,{children:[o.jsx(pt,{value:"all",children:q.allClients||"All Clients"}),_.map(ce=>o.jsx(pt,{value:ce,children:ce},ce))]})]})]}),o.jsxs(Te,{variant:"outline",onClick:Hr,disabled:B,className:"border-orange-300 text-orange-700 hover:bg-orange-50",children:[B?o.jsx(wi,{className:"animate-spin h-4 w-4 mr-2"}):o.jsx("span",{className:"text-sm mr-2",children:"⏰"}),B?q.checking||"Checking...":q.checkExpiredMenus||"Check Expired Menus"]})]}),s?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-600"})}):o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 xl:grid-cols-3",children:[pe.map(ce=>{var Se,Ye,Ve;return o.jsxs(At,{className:`cursor-pointer hover:shadow-md transition-all ${ce.status==="active"?"border-green-200":ce.status==="published"?"border-blue-200":"border-yellow-200"}`,onClick:()=>ze(ce),children:[o.jsxs(Sr,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[o.jsxs("div",{className:"space-y-1",children:[o.jsx(Nr,{className:"text-lg font-medium",children:ce.meal_plan_name||q.untitledMenu||"Untitled Menu"}),o.jsx(zr,{children:o.jsxs("span",{children:[q.clientCode||"User Code",": ",ce.user_code||q.notAvailable||"N/A"]})})]}),o.jsx(mr,{variant:"secondary",className:Qe(ce.status),children:ce.status==="published"?q.published||"Published":ce.status==="active"?q.active||"Active":ce.status==="expired"?q.expired||"Expired":q.draft||"Draft"})]}),o.jsxs(Et,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:q.targetCalories||"Total Calories"}),o.jsxs("p",{className:"font-medium",children:[ce.daily_total_calories||0," ",q.calories||"kcal"]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:q.protein||"Protein"}),o.jsx("p",{className:"font-medium",children:((Se=ce.macros_target)==null?void 0:Se.protein)||"0g"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:q.carbs||"Carbs"}),o.jsx("p",{className:"font-medium",children:((Ye=ce.macros_target)==null?void 0:Ye.carbs)||"0g"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500",children:q.fat||"Fat"}),o.jsx("p",{className:"font-medium",children:((Ve=ce.macros_target)==null?void 0:Ve.fat)||"0g"})]})]}),o.jsxs("div",{className:"pt-2 border-t space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[q.created||"Created",":"]}),o.jsx("span",{className:"text-xs font-medium",children:qr(ce.created_at)})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[q.updated||"Updated",":"]}),o.jsx("span",{className:"text-xs font-medium",children:qr(ce.updated_at)})]}),ce.active_from&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[q.activeFrom||"Active From",":"]}),o.jsx("span",{className:"text-xs font-medium text-green-600",children:qr(ce.active_from)})]}),ce.active_until&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("span",{className:"text-xs text-gray-500",children:[q.activeUntil||"Active Until",":"]}),o.jsx("span",{className:"text-xs font-medium text-orange-600",children:qr(ce.active_until)})]})]}),o.jsxs("div",{className:"pt-2 space-y-2",children:[o.jsxs(Te,{className:"w-full bg-green-600 hover:bg-green-700",onClick:Fe=>{Fe.stopPropagation(),ze(ce)},children:[o.jsx(OD,{className:"h-4 w-4 mr-2"}),q.loadAndEditMenu||"Load & Edit Menu"]}),o.jsxs(Te,{variant:"outline",className:"w-full border-blue-300 text-blue-700 hover:bg-blue-50",onClick:Fe=>{Fe.stopPropagation(),xr(ce)},children:[o.jsx("span",{className:"text-sm",children:"⚙️"}),q.manageStatus||"Manage Status"]})]})]})]},ce.id)}),pe.length===0&&!s&&o.jsx("div",{className:"col-span-full",children:o.jsx(At,{children:o.jsxs(Et,{className:"flex flex-col items-center justify-center py-10",children:[o.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:q.noMenusFound||"No menus found"}),o.jsx("p",{className:"mt-1 text-sm text-gray-500",children:q.noMenusMatchCriteria||"No menus match your search criteria"})]})})})]}),k&&A&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:q.manageMenuStatus||"Manage Menu Status"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:q.menuName||"Menu Name"}),o.jsx("p",{className:"text-sm text-gray-600 bg-gray-50 p-2 rounded",children:A.meal_plan_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:q.status||"Status"}),o.jsxs(qn,{value:R.status,onValueChange:ce=>I(Se=>({...Se,status:ce})),children:[o.jsx(Mn,{children:o.jsx(Wn,{})}),o.jsxs(Rn,{children:[o.jsx(pt,{value:"draft",children:q.draft||"Draft"}),o.jsx(pt,{value:"active",children:q.active||"Active"}),o.jsx(pt,{value:"published",children:q.published||"Published"}),o.jsx(pt,{value:"expired",children:q.expired||"Expired"})]})]})]}),R.status==="active"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:q.activeFrom||"Active From"}),o.jsx(Ut,{type:"date",value:R.active_from,onChange:ce=>I(Se=>({...Se,active_from:ce.target.value})),className:"w-full"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[q.activeUntil||"Active Until"," (",q.optional||"Optional",")"]}),o.jsx(Ut,{type:"date",value:R.active_until,onChange:ce=>I(Se=>({...Se,active_until:ce.target.value})),className:"w-full"})]})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx(Te,{variant:"outline",onClick:()=>{C(!1),T(null)},className:"flex-1",children:q.cancel||"Cancel"}),o.jsxs(Te,{onClick:qt,disabled:U,className:"flex-1 bg-blue-600 hover:bg-blue-700",children:[U?o.jsx(wi,{className:"animate-spin h-4 w-4 mr-2"}):o.jsx("span",{className:"text-sm",children:"💾"}),U?q.updating||"Updating...":q.updateStatus||"Update Status"]})]})]})]})})]})},Ld="recipe_translations",i4=30,o4=(e,t)=>{try{const r=JSON.stringify({recipes:e.map(n=>({group:n.group,recipes:n.recipes.map(a=>({id:a.id,title:a.title,instructions:a.instructions,ingredients:a.ingredients,tips:a.tips}))}))});return`${Ld}_${t}_${btoa(r).slice(0,50)}`}catch(r){return console.warn("Failed to create cache key:",r),`${Ld}_${t}_${Date.now()}`}},D_=e=>{try{const t=localStorage.getItem(e);if(!t)return null;const r=JSON.parse(t),n=Date.now(),a=i4*24*60*60*1e3;return r._cachedAt&&n-r._cachedAt>a?(localStorage.removeItem(e),null):r.data}catch(t){return console.warn("Failed to read cache:",t),localStorage.removeItem(e),null}},I_=(e,t)=>{try{return Array.isArray(e)?e.map((r,n)=>{if(!r||!r.group||!Array.isArray(r.recipes))return console.warn("Invalid group structure in cached data, using original"),t[n]||r;const a=t[n];return a?{...a,group:r.group,recipes:r.recipes}:r}):(console.warn("Cached data is not an array, returning original recipes"),t)}catch(r){return console.error("Error validating cached data:",r),t}},$_=(e,t)=>{try{const r={data:t,_cachedAt:Date.now(),_version:"1.0"};localStorage.setItem(e,JSON.stringify(r)),console.log("💾 Cached recipe translation:",e)}catch(r){console.warn("Failed to cache translation:",r)}},QJ=()=>{try{const e=Date.now(),t=i4*24*60*60*1e3;let r=0;for(let n=0;n<localStorage.length;n++){const a=localStorage.key(n);if(a&&a.startsWith(Ld))try{const i=localStorage.getItem(a);if(i){const s=JSON.parse(i);s._cachedAt&&e-s._cachedAt>t&&(localStorage.removeItem(a),r++)}}catch{localStorage.removeItem(a),r++}}return r>0&&console.log(`🧹 Cleaned ${r} expired cache entries`),r}catch(e){return console.error("Failed to clean expired cache:",e),0}},L_=()=>{try{const e=[];for(let t=0;t<localStorage.length;t++){const r=localStorage.key(t);if(r&&r.startsWith(Ld))try{const n=localStorage.getItem(r);n&&JSON.parse(n)}catch{e.push(r)}}return e.forEach(t=>localStorage.removeItem(t)),e.length>0&&console.log(`🧹 Removed ${e.length} corrupted cache entries`),e.length}catch(e){return console.error("Failed to clear corrupted cache:",e),0}};QJ();L_();const Es=[{group:"Salads",icon:mW,color:"success",recipes:[{id:1,title:"Quinoa-Chickpea Salad",time:"15 min",difficulty:"Easy",servings:2,tags:["Healthy","Quick","Vegetarian"],instructions:["Rinse and drain chickpeas.","Mix quinoa, chickpeas, spinach, cucumber, and tomatoes in a bowl.","Whisk dressing ingredients and toss with salad."],tips:"Add fresh herbs for extra flavor.",image:"/images/quinoa-salad.jpg",ingredients:["1 cup cooked quinoa","½ cup canned chickpeas (drained)","Handful baby spinach, chopped","¼ cup diced cucumber, ¼ cup cherry tomatoes","Dressing: 1 tbsp olive oil, 1 tbsp lemon juice, 1 tsp Dijon mustard, salt/pepper"],macros:{calories:"420 kcal",protein:"15 g",fat:"14 g",carbs:"55 g"}},{id:2,title:"Greek Feta Salad",time:"10 min",difficulty:"Easy",servings:1,tags:["Quick","Mediterranean","Low-carb"],instructions:["Chop all vegetables and place in a bowl.","Add feta and olives.","Drizzle with olive oil, lemon juice, and oregano. Toss gently."],tips:"Use Kalamata olives for authentic flavor.",image:"/images/greek-salad.jpg",ingredients:["1 cup chopped romaine","½ cup cherry tomatoes","¼ cup diced cucumber","2 tbsp crumbled feta","5 olives, sliced","Dressing: 1 tbsp olive oil, lemon juice, oregano"],macros:{calories:"210 kcal",protein:"6 g",fat:"15 g",carbs:"14 g"}},{id:3,title:"Lentil-Apple Salad",time:"20 min",difficulty:"Easy",servings:2,tags:["Healthy","Fiber-rich","Vegan"],instructions:["Cook lentils until tender, drain and cool.","Dice apple and celery.","Mix all ingredients and toss with vinaigrette."],tips:"Great for meal prep!",image:"/images/lentil-apple-salad.jpg",ingredients:["1 cup cooked lentils","1 small apple, diced","1 stalk celery, diced","2 tbsp chopped walnuts","Dressing: 1 tbsp olive oil, 1 tsp vinegar, salt/pepper"],macros:{calories:"320 kcal",protein:"13 g",fat:"8 g",carbs:"48 g"}}]},{group:"Warm Dishes",icon:NW,color:"warning",recipes:[{id:4,title:"Salmon & Veggie Power Bowl",time:"30 min",difficulty:"Medium",servings:1,tags:["High-protein","Omega-3","Balanced"],instructions:["Grill salmon until cooked through.","Steam broccoli and roast sweet potato.","Assemble bowl and drizzle with tahini."],tips:"Swap salmon for tofu for a vegan version.",image:"/images/salmon-bowl.jpg",ingredients:["150 g grilled salmon filet","1 cup steamed broccoli","½ cup roasted sweet potato cubes","1 tbsp tahini drizzle"],macros:{calories:"480 kcal",protein:"32 g",fat:"24 g",carbs:"36 g"}},{id:5,title:"Vegetarian Chili",time:"40 min",difficulty:"Medium",servings:4,tags:["Comfort Food","High-fiber","Make-ahead"],instructions:["Sauté bell pepper and corn.","Add beans, tomatoes, and spices.","Simmer for 30 minutes."],tips:"Serve with brown rice or quinoa.",image:"/images/veggie-chili.jpg",ingredients:["1 cup cooked beans","½ cup corn","½ cup diced tomatoes","¼ cup bell pepper","Spices: cumin, chili powder, garlic"],macros:{calories:"320 kcal",protein:"13 g",fat:"5 g",carbs:"60 g"}},{id:6,title:"Sweet Potato & Black Bean Bake",time:"35 min",difficulty:"Easy",servings:3,tags:["Comfort Food","Vegetarian","Meal Prep"],instructions:["Layer sliced sweet potato and black beans in a baking dish.","Top with salsa and bake at 200°C for 25 minutes.","Sprinkle with cheese and bake 5 more minutes."],tips:"Add jalapeños for a spicy kick.",image:"/images/sweetpotato-bake.jpg",ingredients:["1 medium sweet potato, sliced","½ cup black beans","½ cup salsa","¼ cup shredded cheese"],macros:{calories:"370 kcal",protein:"14 g",fat:"9 g",carbs:"60 g"}}]},{group:"Appetizers",icon:gW,color:"info",recipes:[{id:7,title:"Avocado-Egg Toast",time:"10 min",difficulty:"Easy",servings:1,tags:["Quick","Protein-rich","Trendy"],instructions:["Toast bread.","Mash avocado and spread on toast.","Top with poached eggs and seasonings."],tips:"Add microgreens for extra nutrition.",image:"/images/avocado-toast.jpg",ingredients:["2 slices whole-grain sourdough","1 ripe avocado","2 eggs (poached or soft-boiled)","Pinch chili flakes, sea salt, cracked pepper"],macros:{calories:"350 kcal",protein:"14 g",fat:"20 g",carbs:"30 g"}},{id:8,title:"Eggplant Rolls",time:"25 min",difficulty:"Medium",servings:2,tags:["Mediterranean","Low-carb","Elegant"],instructions:["Grill eggplant slices.","Spread ricotta and pesto, roll up.","Season and serve."],tips:"Serve warm or cold.",image:"/images/eggplant-rolls.jpg",ingredients:["2 slices grilled eggplant","2 tbsp ricotta cheese","1 tbsp pesto","Pinch black pepper"],macros:{calories:"120 kcal",protein:"5 g",fat:"8 g",carbs:"7 g"}},{id:9,title:"Stuffed Mini Peppers",time:"20 min",difficulty:"Easy",servings:2,tags:["Colorful","Appetizer","Party Food"],instructions:["Halve and deseed mini peppers.","Mix cottage cheese and herbs, fill peppers.","Bake at 180°C for 10 minutes."],tips:"Try with goat cheese for a twist.",image:"/images/stuffed-peppers.jpg",ingredients:["4 mini sweet peppers","¼ cup cottage cheese","1 tbsp chopped herbs","Salt, pepper"],macros:{calories:"110 kcal",protein:"8 g",fat:"3 g",carbs:"14 g"}}]},{group:"More",icon:Is,color:"primary",recipes:[{id:10,title:"Protein Pancakes",time:"20 min",difficulty:"Easy",servings:2,tags:["High-protein","Breakfast","Fitness"],instructions:["Blend all ingredients until smooth.","Cook pancakes on a nonstick skillet until golden.","Serve with fruit or yogurt."],tips:"Add cinnamon for extra flavor.",image:"/images/protein-pancakes.jpg",ingredients:["2 eggs","½ cup rolled oats","½ banana","1 scoop protein powder","1 tsp baking powder"],macros:{calories:"310 kcal",protein:"22 g",fat:"8 g",carbs:"38 g"}},{id:11,title:"Mini Veggie Frittatas",time:"25 min",difficulty:"Easy",servings:6,tags:["Make-ahead","Portable","Vegetarian"],instructions:["Whisk eggs and seasonings.","Add veggies and cheese.","Pour into muffin tin and bake at 180°C for 18-20 min."],tips:"Great for breakfast on the go.",image:"/images/mini-frittatas.jpg",ingredients:["2 eggs","¼ cup diced bell pepper","¼ cup spinach","2 tbsp feta cheese","Salt, pepper"],macros:{calories:"180 kcal",protein:"13 g",fat:"11 g",carbs:"6 g"}},{id:12,title:"Berry Yogurt Parfait",time:"5 min",difficulty:"Easy",servings:1,tags:["Quick","Healthy","Refreshing"],instructions:["Layer yogurt, berries, and granola in a glass.","Repeat layers and serve immediately."],tips:"Use Greek yogurt for more protein.",image:"/images/berry-parfait.jpg",ingredients:["1 cup Greek yogurt","½ cup mixed berries","¼ cup granola"],macros:{calories:"250 kcal",protein:"15 g",fat:"5 g",carbs:"38 g"}}]}],s4="/logo-placeholder.png",Yk=async(e,t="he")=>{try{const r=o4(e,t),n=D_(r);if(n)return console.log("📚 Using cached recipe translation for",t),I_(n,e);console.log("🌐 Fetching fresh recipe translation for",t);const a=await fetch("https://dietitian-be.azurewebsites.net/api/translate-recipes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recipes:e,targetLang:t})});if(!a.ok)throw new Error("Translation failed");const c=((await a.json()).recipes||e).map((d,f)=>({...e[f],group:d.group,recipes:d.recipes}));return $_(r,c),c}catch(r){console.error("Error translating recipes:",r);try{const n=`${Ld}_${t}_fallback`,a=D_(n);if(a)return console.log("🔄 Using fallback cached recipe translation"),I_(a,e)}catch(n){console.warn("Failed to load fallback translation:",n)}return e}};function ZJ({recipe:e,onClose:t,translations:r}){var a;if(!e)return null;const n=()=>{window.print()};return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:o.jsxs("div",{className:"relative bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl max-w-2xl w-full mx-4 animate-scale-in border border-border/40 overflow-hidden flex flex-col",style:{maxHeight:"90vh"},children:[o.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-success/10 to-info/10 px-8 py-6 border-b border-border/30",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[o.jsx("img",{src:e.image,alt:e.title,className:"w-16 h-16 object-cover rounded-xl border-2 border-primary/20 shadow-md",onError:i=>{i.target.onerror=null,i.target.src=s4}}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gradient-primary font-heading",children:e.title}),o.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mt-1",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Gp,{className:"w-4 h-4"}),e.time]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Xs,{className:"w-4 h-4"}),e.servings," ",r.serving||"serving",e.servings>1?r.pluralSuffix||"s":""]}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Ad,{className:"w-4 h-4"}),e.difficulty]})]})]})]}),o.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:(a=e.tags)==null?void 0:a.map(i=>o.jsx(mr,{variant:"secondary",className:"text-xs",children:i},i))})]}),o.jsx(Te,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",onClick:t,children:o.jsx(ma,{className:"w-5 h-5"})})]})}),o.jsxs("div",{className:"overflow-y-auto px-8 py-6 flex-1 space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 rounded-xl p-4 border border-primary/20 text-center",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground/70 uppercase tracking-wider",children:r.calories||"Calories"}),o.jsx("p",{className:"text-lg font-bold text-primary mt-1",children:e.macros.calories})]}),o.jsxs("div",{className:"bg-gradient-to-br from-success/5 to-success/10 rounded-xl p-4 border border-success/20 text-center",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground/70 uppercase tracking-wider",children:r.protein||"Protein"}),o.jsx("p",{className:"text-lg font-bold text-success mt-1",children:e.macros.protein})]}),o.jsxs("div",{className:"bg-gradient-to-br from-warning/5 to-warning/10 rounded-xl p-4 border border-warning/20 text-center",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground/70 uppercase tracking-wider",children:r.fat||"Fat"}),o.jsx("p",{className:"text-lg font-bold text-warning mt-1",children:e.macros.fat})]}),o.jsxs("div",{className:"bg-gradient-to-br from-info/5 to-info/10 rounded-xl p-4 border border-info/20 text-center",children:[o.jsx("p",{className:"text-xs font-semibold text-muted-foreground/70 uppercase tracking-wider",children:r.carbs||"Carbs"}),o.jsx("p",{className:"text-lg font-bold text-info mt-1",children:e.macros.carbs})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-foreground mb-3 flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-success to-success-lighter flex items-center justify-center",children:o.jsx(y7,{className:"w-4 h-4 text-white"})}),r.ingredients||"Ingredients"]}),o.jsx("div",{className:"bg-muted/30 rounded-xl p-4 border border-border/40",children:o.jsx("ul",{className:"space-y-2",children:e.ingredients.map((i,s)=>o.jsxs("li",{className:"flex items-start gap-3 text-sm",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full mt-2 flex-shrink-0"}),o.jsx("span",{children:i})]},s))})})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-foreground mb-3 flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary to-primary-lighter flex items-center justify-center",children:o.jsx(yj,{className:"w-4 h-4 text-white"})}),r.howToMakeIt||"Instructions"]}),o.jsx("div",{className:"space-y-3",children:e.instructions.map((i,s)=>o.jsxs("div",{className:"flex gap-4 p-4 bg-muted/20 rounded-xl border border-border/30",children:[o.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-primary to-primary-lighter rounded-full flex items-center justify-center text-white font-bold text-sm",children:s+1}),o.jsx("p",{className:"text-sm leading-relaxed pt-1",children:i})]},s))})]}),e.tips&&o.jsx("div",{className:"bg-gradient-to-r from-warning/10 to-warning/5 rounded-xl p-4 border border-warning/30",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-warning to-warning-lighter flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(TD,{className:"w-3 h-3 text-white"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-warning mb-1",children:r.tip||"Pro Tip"}),o.jsx("p",{className:"text-sm text-foreground/80",children:e.tips})]})]})})]}),o.jsx("div",{className:"bg-muted/30 px-8 py-4 border-t border-border/30",children:o.jsxs(Te,{onClick:n,variant:"outline",className:"w-full",children:[o.jsx(uW,{className:"w-4 h-4 mr-2"}),r.printRecipe||"Print Recipe"]})})]})})}function eX({recipe:e,group:t,onClick:r}){var i;const{translations:n}=ya(),a={success:"from-success/5 to-success/10 border-success/30",warning:"from-warning/5 to-warning/10 border-warning/30",info:"from-info/5 to-info/10 border-info/30",primary:"from-primary/5 to-primary/10 border-primary/30"};return o.jsxs(At,{className:`cursor-pointer transition-all duration-300 hover:scale-[1.02] hover:-translate-y-1 interactive group shadow-premium hover:shadow-glow-${t.color}`,onClick:()=>r(e),children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("img",{src:e.image,alt:e.title,className:"w-full h-48 object-cover transition-transform duration-500 group-hover:scale-110",onError:s=>{s.target.onerror=null,s.target.src=s4}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsx("div",{className:"absolute top-3 left-3",children:o.jsxs(mr,{className:`bg-gradient-to-r ${a[t.color]} border`,children:[o.jsx(Gp,{className:"w-3 h-3 mr-1"}),e.time]})}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsxs(mr,{variant:"secondary",className:"bg-white/90 backdrop-blur-sm",children:[o.jsx(Xs,{className:"w-3 h-3 mr-1"}),e.servings]})})]}),o.jsxs(Et,{className:"p-5",children:[o.jsx("h3",{className:"text-lg font-bold text-foreground mb-2 font-heading group-hover:text-primary transition-colors duration-300",children:e.title}),o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(mr,{variant:"outline",className:"text-xs",children:e.difficulty}),(i=e.tags)==null?void 0:i.slice(0,2).map(s=>o.jsx(mr,{variant:"secondary",className:"text-xs",children:s},s))]}),o.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs text-muted-foreground",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-semibold text-primary",children:e.macros.calories.split(" ")[0]}),o.jsx("p",{children:n.calories||"kcal"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-semibold text-success",children:e.macros.protein}),o.jsx("p",{children:n.protein||"protein"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-semibold text-warning",children:e.macros.fat}),o.jsx("p",{children:n.fat||"fat"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"font-semibold text-info",children:e.macros.carbs}),o.jsx("p",{children:n.carbs||"carbs"})]})]})]})]})}function tX(){const{language:e,translations:t}=ya(),[r,n]=y.useState(null),[a,i]=y.useState(Es),[s,c]=y.useState(!1),d=f=>({Salads:t.salads||"Salads","Warm Dishes":t.warmDishes||"Warm Dishes",Appetizers:t.appetizers||"Appetizers",More:t.more||"More"})[f]||f;return y.useEffect(()=>{(async()=>{if(e==="he"){c(!0);try{const h=o4(Es,"he"),m=D_(h);if(m)try{const g=I_(m,Es);i(g),console.log("✅ Loaded cached recipe translations for Hebrew.")}catch{console.warn("Cached data validation failed, clearing cache and fetching fresh translation"),localStorage.removeItem(h),L_();const w=await Yk(Es,"he");i(w),$_(h,w)}else{const g=await Yk(Es,"he");i(g),$_(h,g),console.log("✅ Translated and cached recipe translations for Hebrew.")}}catch(h){console.error("Translation failed:",h),L_(),i(Es)}finally{c(!1)}}else i(Es)})()},[e]),o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 bg-mesh",children:[o.jsxs("section",{className:"relative py-20 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid opacity-20"}),o.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-br from-primary/20 to-success/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-10 right-10 w-72 h-72 bg-gradient-to-br from-warning/20 to-info/20 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 container mx-auto px-6 text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-6 animate-float-gentle",children:o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary-lighter rounded-2xl flex items-center justify-center shadow-glow-primary",children:o.jsx(vj,{className:"w-10 h-10 text-white"})})}),o.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold text-gradient-primary font-heading mb-4 animate-slide-up",children:t.healthyDeliciousRecipes||"Healthy & Delicious Recipes"}),o.jsx("p",{className:"text-xl text-muted-foreground/80 max-w-2xl mx-auto animate-slide-up",style:{animationDelay:"0.1s"},children:t.professionalRecipesDescription||"Professional nutrition recipes curated by experts for optimal health and taste"}),o.jsxs("div",{className:"flex items-center justify-center gap-6 mt-8 animate-slide-up",style:{animationDelay:"0.2s"},children:[o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-success/10 border border-success/30 rounded-xl",children:[o.jsx("div",{className:"w-2 h-2 bg-success rounded-full"}),o.jsx("span",{className:"text-sm font-medium text-success",children:t.recipesCount||"120+ Recipes"})]}),o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-primary/10 border border-primary/30 rounded-xl",children:[o.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),o.jsx("span",{className:"text-sm font-medium text-primary",children:t.expertApproved||"Expert Approved"})]})]})]})]}),o.jsxs("section",{className:"container mx-auto px-6 pb-20",children:[s&&o.jsx("div",{className:"text-center py-8",children:o.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-white/80 backdrop-blur-sm rounded-xl border border-border/40",children:[o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary"}),o.jsx("span",{className:"text-sm font-medium text-foreground",children:t.translatingRecipes||"Translating recipes..."})]})}),o.jsx("div",{className:"space-y-16",children:Array.isArray(a)&&a.length>0?a.map(f=>!f||!f.group||!Array.isArray(f.recipes)?(console.warn("Invalid group structure:",f),null):o.jsxs("div",{className:"animate-slide-up",children:[o.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[o.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br from-${f.color||"primary"} to-${f.color||"primary"}-lighter flex items-center justify-center text-white shadow-glow-${f.color||"primary"}`,children:ee.isValidElement(f.icon)?f.icon:typeof f.icon=="function"?ee.createElement(f.icon,{className:"w-6 h-6"}):o.jsx(Is,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-gradient-primary font-heading",children:d(f.group)}),o.jsxs("p",{className:"text-muted-foreground/70",children:[f.recipes.length," ",t.professionalRecipe||"professional recipe",f.recipes.length!==1?t.pluralSuffix||"s":""]})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.recipes.map(h=>!h||!h.id?(console.warn("Invalid recipe structure:",h),null):o.jsx(eX,{recipe:h,group:f,onClick:n},h.id))})]},f.group)):o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-muted-foreground",children:"No recipes available"})})})]}),r&&o.jsx(ZJ,{recipe:r,onClose:()=>n(null),translations:t})]})}var Zy,Jk;function oa(){if(Jk)return Zy;Jk=1;var e=Array.isArray;return Zy=e,Zy}var e0,Xk;function l4(){if(Xk)return e0;Xk=1;var e=typeof qh=="object"&&qh&&qh.Object===Object&&qh;return e0=e,e0}var t0,Qk;function Ri(){if(Qk)return t0;Qk=1;var e=l4(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return t0=r,t0}var r0,Zk;function Df(){if(Zk)return r0;Zk=1;var e=Ri(),t=e.Symbol;return r0=t,r0}var n0,eA;function rX(){if(eA)return n0;eA=1;var e=Df(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(s){var c=r.call(s,a),d=s[a];try{s[a]=void 0;var f=!0}catch{}var h=n.call(s);return f&&(c?s[a]=d:delete s[a]),h}return n0=i,n0}var a0,tA;function nX(){if(tA)return a0;tA=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return a0=r,a0}var i0,rA;function po(){if(rA)return i0;rA=1;var e=Df(),t=rX(),r=nX(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function s(c){return c==null?c===void 0?a:n:i&&i in Object(c)?t(c):r(c)}return i0=s,i0}var o0,nA;function go(){if(nA)return o0;nA=1;function e(t){return t!=null&&typeof t=="object"}return o0=e,o0}var s0,aA;function lu(){if(aA)return s0;aA=1;var e=po(),t=go(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return s0=n,s0}var l0,iA;function nS(){if(iA)return l0;iA=1;var e=oa(),t=lu(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(e(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return l0=a,l0}var c0,oA;function cs(){if(oA)return c0;oA=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return c0=e,c0}var u0,sA;function aS(){if(sA)return u0;sA=1;var e=po(),t=cs(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(c){if(!t(c))return!1;var d=e(c);return d==n||d==a||d==r||d==i}return u0=s,u0}var d0,lA;function aX(){if(lA)return d0;lA=1;var e=Ri(),t=e["__core-js_shared__"];return d0=t,d0}var f0,cA;function iX(){if(cA)return f0;cA=1;var e=aX(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return f0=r,f0}var h0,uA;function c4(){if(uA)return h0;uA=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return h0=r,h0}var m0,dA;function oX(){if(dA)return m0;dA=1;var e=aS(),t=iX(),r=cs(),n=c4(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,f=c.hasOwnProperty,h=RegExp("^"+d.call(f).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||t(g))return!1;var w=e(g)?h:i;return w.test(n(g))}return m0=m,m0}var p0,fA;function sX(){if(fA)return p0;fA=1;function e(t,r){return t==null?void 0:t[r]}return p0=e,p0}var g0,hA;function hl(){if(hA)return g0;hA=1;var e=oX(),t=sX();function r(n,a){var i=t(n,a);return e(i)?i:void 0}return g0=r,g0}var v0,mA;function yg(){if(mA)return v0;mA=1;var e=hl(),t=e(Object,"create");return v0=t,v0}var y0,pA;function lX(){if(pA)return y0;pA=1;var e=yg();function t(){this.__data__=e?e(null):{},this.size=0}return y0=t,y0}var x0,gA;function cX(){if(gA)return x0;gA=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return x0=e,x0}var b0,vA;function uX(){if(vA)return b0;vA=1;var e=yg(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(e){var c=s[i];return c===t?void 0:c}return n.call(s,i)?s[i]:void 0}return b0=a,b0}var w0,yA;function dX(){if(yA)return w0;yA=1;var e=yg(),t=Object.prototype,r=t.hasOwnProperty;function n(a){var i=this.__data__;return e?i[a]!==void 0:r.call(i,a)}return w0=n,w0}var _0,xA;function fX(){if(xA)return _0;xA=1;var e=yg(),t="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&a===void 0?t:a,this}return _0=r,_0}var j0,bA;function hX(){if(bA)return j0;bA=1;var e=lX(),t=cX(),r=uX(),n=dX(),a=fX();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,j0=i,j0}var S0,wA;function mX(){if(wA)return S0;wA=1;function e(){this.__data__=[],this.size=0}return S0=e,S0}var N0,_A;function iS(){if(_A)return N0;_A=1;function e(t,r){return t===r||t!==t&&r!==r}return N0=e,N0}var C0,jA;function xg(){if(jA)return C0;jA=1;var e=iS();function t(r,n){for(var a=r.length;a--;)if(e(r[a][0],n))return a;return-1}return C0=t,C0}var P0,SA;function pX(){if(SA)return P0;SA=1;var e=xg(),t=Array.prototype,r=t.splice;function n(a){var i=this.__data__,s=e(i,a);if(s<0)return!1;var c=i.length-1;return s==c?i.pop():r.call(i,s,1),--this.size,!0}return P0=n,P0}var k0,NA;function gX(){if(NA)return k0;NA=1;var e=xg();function t(r){var n=this.__data__,a=e(n,r);return a<0?void 0:n[a][1]}return k0=t,k0}var A0,CA;function vX(){if(CA)return A0;CA=1;var e=xg();function t(r){return e(this.__data__,r)>-1}return A0=t,A0}var E0,PA;function yX(){if(PA)return E0;PA=1;var e=xg();function t(r,n){var a=this.__data__,i=e(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return E0=t,E0}var O0,kA;function bg(){if(kA)return O0;kA=1;var e=mX(),t=pX(),r=gX(),n=vX(),a=yX();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,O0=i,O0}var T0,AA;function oS(){if(AA)return T0;AA=1;var e=hl(),t=Ri(),r=e(t,"Map");return T0=r,T0}var M0,EA;function xX(){if(EA)return M0;EA=1;var e=hX(),t=bg(),r=oS();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return M0=n,M0}var R0,OA;function bX(){if(OA)return R0;OA=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return R0=e,R0}var D0,TA;function wg(){if(TA)return D0;TA=1;var e=bX();function t(r,n){var a=r.__data__;return e(n)?a[typeof n=="string"?"string":"hash"]:a.map}return D0=t,D0}var I0,MA;function wX(){if(MA)return I0;MA=1;var e=wg();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return I0=t,I0}var $0,RA;function _X(){if(RA)return $0;RA=1;var e=wg();function t(r){return e(this,r).get(r)}return $0=t,$0}var L0,DA;function jX(){if(DA)return L0;DA=1;var e=wg();function t(r){return e(this,r).has(r)}return L0=t,L0}var F0,IA;function SX(){if(IA)return F0;IA=1;var e=wg();function t(r,n){var a=e(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return F0=t,F0}var B0,$A;function sS(){if($A)return B0;$A=1;var e=xX(),t=wX(),r=_X(),n=jX(),a=SX();function i(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,B0=i,B0}var U0,LA;function u4(){if(LA)return U0;LA=1;var e=sS(),t="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(t);var i=function(){var s=arguments,c=a?a.apply(this,s):s[0],d=i.cache;if(d.has(c))return d.get(c);var f=n.apply(this,s);return i.cache=d.set(c,f)||d,f};return i.cache=new(r.Cache||e),i}return r.Cache=e,U0=r,U0}var z0,FA;function NX(){if(FA)return z0;FA=1;var e=u4(),t=500;function r(n){var a=e(n,function(s){return i.size===t&&i.clear(),s}),i=a.cache;return a}return z0=r,z0}var q0,BA;function CX(){if(BA)return q0;BA=1;var e=NX(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(t,function(s,c,d,f){i.push(d?f.replace(r,"$1"):c||s)}),i});return q0=n,q0}var W0,UA;function lS(){if(UA)return W0;UA=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=Array(a);++n<a;)i[n]=r(t[n],n,t);return i}return W0=e,W0}var H0,zA;function PX(){if(zA)return H0;zA=1;var e=Df(),t=lS(),r=oa(),n=lu(),a=e?e.prototype:void 0,i=a?a.toString:void 0;function s(c){if(typeof c=="string")return c;if(r(c))return t(c,s)+"";if(n(c))return i?i.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return H0=s,H0}var V0,qA;function d4(){if(qA)return V0;qA=1;var e=PX();function t(r){return r==null?"":e(r)}return V0=t,V0}var G0,WA;function f4(){if(WA)return G0;WA=1;var e=oa(),t=nS(),r=CX(),n=d4();function a(i,s){return e(i)?i:t(i,s)?[i]:r(n(i))}return G0=a,G0}var K0,HA;function _g(){if(HA)return K0;HA=1;var e=lu();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return K0=t,K0}var Y0,VA;function cS(){if(VA)return Y0;VA=1;var e=f4(),t=_g();function r(n,a){a=e(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[t(a[i++])];return i&&i==s?n:void 0}return Y0=r,Y0}var J0,GA;function h4(){if(GA)return J0;GA=1;var e=cS();function t(r,n,a){var i=r==null?void 0:e(r,n);return i===void 0?a:i}return J0=t,J0}var kX=h4();const Oa=cr(kX);var X0,KA;function AX(){if(KA)return X0;KA=1;function e(t){return t==null}return X0=e,X0}var EX=AX();const zt=cr(EX);var Q0,YA;function OX(){if(YA)return Q0;YA=1;var e=po(),t=oa(),r=go(),n="[object String]";function a(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return Q0=a,Q0}var TX=OX();const rl=cr(TX);var MX=aS();const Mt=cr(MX);var RX=cs();const cu=cr(RX);var Z0={exports:{}},sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JA;function DX(){if(JA)return sr;JA=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function x(_){if(typeof _=="object"&&_!==null){var S=_.$$typeof;switch(S){case e:switch(_=_.type,_){case r:case a:case n:case f:case h:return _;default:switch(_=_&&_.$$typeof,_){case c:case s:case d:case g:case m:case i:return _;default:return S}}case t:return S}}}return sr.ContextConsumer=s,sr.ContextProvider=i,sr.Element=e,sr.ForwardRef=d,sr.Fragment=r,sr.Lazy=g,sr.Memo=m,sr.Portal=t,sr.Profiler=a,sr.StrictMode=n,sr.Suspense=f,sr.SuspenseList=h,sr.isAsyncMode=function(){return!1},sr.isConcurrentMode=function(){return!1},sr.isContextConsumer=function(_){return x(_)===s},sr.isContextProvider=function(_){return x(_)===i},sr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},sr.isForwardRef=function(_){return x(_)===d},sr.isFragment=function(_){return x(_)===r},sr.isLazy=function(_){return x(_)===g},sr.isMemo=function(_){return x(_)===m},sr.isPortal=function(_){return x(_)===t},sr.isProfiler=function(_){return x(_)===a},sr.isStrictMode=function(_){return x(_)===n},sr.isSuspense=function(_){return x(_)===f},sr.isSuspenseList=function(_){return x(_)===h},sr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===a||_===n||_===f||_===h||_===w||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===m||_.$$typeof===i||_.$$typeof===s||_.$$typeof===d||_.$$typeof===b||_.getModuleId!==void 0)},sr.typeOf=x,sr}var XA;function IX(){return XA||(XA=1,Z0.exports=DX()),Z0.exports}var $X=IX(),ex,QA;function m4(){if(QA)return ex;QA=1;var e=po(),t=go(),r="[object Number]";function n(a){return typeof a=="number"||t(a)&&e(a)==r}return ex=n,ex}var tx,ZA;function LX(){if(ZA)return tx;ZA=1;var e=m4();function t(r){return e(r)&&r!=+r}return tx=t,tx}var FX=LX();const uu=cr(FX);var BX=m4();const UX=cr(BX);var ri=function(t){return t===0?0:t>0?1:-1},Bs=function(t){return rl(t)&&t.indexOf("%")===t.length-1},We=function(t){return UX(t)&&!uu(t)},an=function(t){return We(t)||rl(t)},zX=0,du=function(t){var r=++zX;return"".concat(t||"").concat(r)},nl=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&!rl(t))return n;var i;if(Bs(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return uu(i)&&(i=n),a&&i>r&&(i=r),i},Jo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},qX=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},_n=function(t,r){return We(t)&&We(r)?function(n){return t+n*(r-t)}:function(){return r}};function Hm(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Oa(n,t))===r})}var WX=function(t,r){return We(t)&&We(r)?t-r:rl(t)&&rl(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function pc(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function F_(e){"@babel/helpers - typeof";return F_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F_(e)}var HX=["viewBox","children"],VX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eE=["points","pathLength"],rx={svg:HX,polygon:eE,polyline:eE},uS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!cu(n))return null;var a={};return Object.keys(n).forEach(function(i){uS.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},GX=function(t,r,n){return function(a){return t(r,n,a),null}},Gm=function(t,r,n){if(!cu(t)||F_(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];uS.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=GX(s,r,n))}),a},KX=["children"],YX=["children"];function tE(e,t){if(e==null)return{};var r=JX(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JX(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B_(e){"@babel/helpers - typeof";return B_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B_(e)}var rE={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},to=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},nE=null,nx=null,dS=function e(t){if(t===nE&&Array.isArray(nx))return nx;var r=[];return y.Children.forEach(t,function(n){zt(n)||($X.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),nx=r,nE=t,r};function Ta(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return to(a)}):n=[to(t)],dS(e).forEach(function(a){var i=Oa(a,"type.displayName")||Oa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ha(e,t){var r=Ta(e,t);return r&&r[0]}var aE=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!We(n)||n<=0||!We(a)||a<=0)},XX=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QX=function(t){return t&&t.type&&rl(t.type)&&XX.indexOf(t.type)>=0},p4=function(t){return t&&B_(t)==="object"&&"clipDot"in t},ZX=function(t,r,n,a){var i,s=(i=rx==null?void 0:rx[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Mt(t)&&(a&&s.includes(r)||VX.includes(r))||n&&uS.includes(r)},Dt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(y.isValidElement(t)&&(a=t.props),!cu(a))return null;var i={};return Object.keys(a).forEach(function(s){var c;ZX((c=a)===null||c===void 0?void 0:c[s],s,r,n)&&(i[s]=a[s])}),i},U_=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return iE(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!iE(i,s))return!1}return!0},iE=function(t,r){if(zt(t)&&zt(r))return!0;if(!zt(t)&&!zt(r)){var n=t.props||{},a=n.children,i=tE(n,KX),s=r.props||{},c=s.children,d=tE(s,YX);return a&&c?pc(i,d)&&U_(a,c):!a&&!c?pc(i,d):!1}return!1},oE=function(t,r){var n=[],a={};return dS(t).forEach(function(i,s){if(QX(i))n.push(i);else if(i){var c=to(i.type),d=r[c]||{},f=d.handler,h=d.once;if(f&&(!h||!a[c])){var m=f(i,c,s);n.push(m),a[c]=!0}}}),n},eQ=function(t){var r=t&&t.type;return r&&rE[r]?rE[r]:null},tQ=function(t,r){return dS(r).indexOf(t)},rQ=["children","width","height","viewBox","className","style","title","desc"];function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z_.apply(this,arguments)}function nQ(e,t){if(e==null)return{};var r=aQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q_(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,c=e.title,d=e.desc,f=nQ(e,rQ),h=a||{width:r,height:n,x:0,y:0},m=Yt("recharts-surface",i);return ee.createElement("svg",z_({},Dt(f,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),ee.createElement("title",null,c),ee.createElement("desc",null,d),t)}var iQ=["children","className"];function W_(){return W_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W_.apply(this,arguments)}function oQ(e,t){if(e==null)return{};var r=sQ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Cr=ee.forwardRef(function(e,t){var r=e.children,n=e.className,a=oQ(e,iQ),i=Yt("recharts-layer",n);return ee.createElement("g",W_({className:i},Dt(a,!0),{ref:t}),r)}),ro=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},ax,sE;function lQ(){if(sE)return ax;sE=1;function e(t,r,n){var a=-1,i=t.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=t[a+r];return s}return ax=e,ax}var ix,lE;function cQ(){if(lE)return ix;lE=1;var e=lQ();function t(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:e(r,n,a)}return ix=t,ix}var ox,cE;function g4(){if(cE)return ox;cE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",c=RegExp("["+s+e+a+i+"]");function d(f){return c.test(f)}return ox=d,ox}var sx,uE;function uQ(){if(uE)return sx;uE=1;function e(t){return t.split("")}return sx=e,sx}var lx,dE;function dQ(){if(dE)return lx;dE=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=t+r+n,i="\\ufe0e\\ufe0f",s="["+e+"]",c="["+a+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+c+"|"+d+")",h="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",b=f+"?",x="["+i+"]?",_="(?:"+w+"(?:"+[h,m,g].join("|")+")"+x+b+")*",S=x+b+_,N="(?:"+[h+c+"?",c,m,g,s].join("|")+")",P=RegExp(d+"(?="+d+")|"+N+S,"g");function k(C){return C.match(P)||[]}return lx=k,lx}var cx,fE;function fQ(){if(fE)return cx;fE=1;var e=uQ(),t=g4(),r=dQ();function n(a){return t(a)?r(a):e(a)}return cx=n,cx}var ux,hE;function hQ(){if(hE)return ux;hE=1;var e=cQ(),t=g4(),r=fQ(),n=d4();function a(i){return function(s){s=n(s);var c=t(s)?r(s):void 0,d=c?c[0]:s.charAt(0),f=c?e(c,1).join(""):s.slice(1);return d[i]()+f}}return ux=a,ux}var dx,mE;function mQ(){if(mE)return dx;mE=1;var e=hQ(),t=e("toUpperCase");return dx=t,dx}var pQ=mQ();const jg=cr(pQ);function jr(e){return function(){return e}}const v4=Math.cos,Km=Math.sin,hi=Math.sqrt,Ym=Math.PI,Sg=2*Ym,H_=Math.PI,V_=2*H_,Ms=1e-6,gQ=V_-Ms;function y4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vQ(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return y4;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class yQ{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?y4:vQ(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,c=this._y1,d=n-t,f=a-r,h=s-t,m=c-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>Ms)if(!(Math.abs(m*d-f*h)>Ms)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let w=n-s,b=a-c,x=d*d+f*f,_=w*w+b*b,S=Math.sqrt(x),N=Math.sqrt(g),P=i*Math.tan((H_-Math.acos((x+g-_)/(2*S*N)))/2),k=P/N,C=P/S;Math.abs(k-1)>Ms&&this._append`L${t+k*h},${r+k*m}`,this._append`A${i},${i},0,0,${+(m*w>h*b)},${this._x1=t+C*d},${this._y1=r+C*f}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,h=r+d,m=1^s,g=s?a-i:i-a;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>Ms||Math.abs(this._y1-h)>Ms)&&this._append`L${f},${h}`,n&&(g<0&&(g=g%V_+V_),g>gQ?this._append`A${n},${n},0,1,${m},${t-c},${r-d}A${n},${n},0,1,${m},${this._x1=f},${this._y1=h}`:g>Ms&&this._append`A${n},${n},0,${+(g>=H_)},${m},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function fS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new yQ(t)}function hS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function x4(e){this._context=e}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ng(e){return new x4(e)}function b4(e){return e[0]}function w4(e){return e[1]}function _4(e,t){var r=jr(!0),n=null,a=Ng,i=null,s=fS(c);e=typeof e=="function"?e:e===void 0?b4:jr(e),t=typeof t=="function"?t:t===void 0?w4:jr(t);function c(d){var f,h=(d=hS(d)).length,m,g=!1,w;for(n==null&&(i=a(w=s())),f=0;f<=h;++f)!(f<h&&r(m=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,d),+t(m,f,d));if(w)return i=null,w+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:jr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:jr(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:jr(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function lm(e,t,r){var n=null,a=jr(!0),i=null,s=Ng,c=null,d=fS(f);e=typeof e=="function"?e:e===void 0?b4:jr(+e),t=typeof t=="function"?t:jr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?w4:jr(+r);function f(m){var g,w,b,x=(m=hS(m)).length,_,S=!1,N,P=new Array(x),k=new Array(x);for(i==null&&(c=s(N=d())),g=0;g<=x;++g){if(!(g<x&&a(_=m[g],g,m))===S)if(S=!S)w=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=g-1;b>=w;--b)c.point(P[b],k[b]);c.lineEnd(),c.areaEnd()}S&&(P[g]=+e(_,g,m),k[g]=+t(_,g,m),c.point(n?+n(_,g,m):P[g],r?+r(_,g,m):k[g]))}if(N)return c=null,N+""||null}function h(){return _4().defined(a).curve(s).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:jr(+m),n=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:jr(+m),f):e},f.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:jr(+m),f):n},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:jr(+m),r=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:jr(+m),f):t},f.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:jr(+m),f):r},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(r)},f.lineX1=function(){return h().x(n).y(t)},f.defined=function(m){return arguments.length?(a=typeof m=="function"?m:jr(!!m),f):a},f.curve=function(m){return arguments.length?(s=m,i!=null&&(c=s(i)),f):s},f.context=function(m){return arguments.length?(m==null?i=c=null:c=s(i=m),f):i},f}class j4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xQ(e){return new j4(e,!0)}function bQ(e){return new j4(e,!1)}const mS={draw(e,t){const r=hi(t/Ym);e.moveTo(r,0),e.arc(0,0,r,0,Sg)}},wQ={draw(e,t){const r=hi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},S4=hi(1/3),_Q=S4*2,jQ={draw(e,t){const r=hi(t/_Q),n=r*S4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},SQ={draw(e,t){const r=hi(t),n=-r/2;e.rect(n,n,r,r)}},NQ=.8908130915292852,N4=Km(Ym/10)/Km(7*Ym/10),CQ=Km(Sg/10)*N4,PQ=-v4(Sg/10)*N4,kQ={draw(e,t){const r=hi(t*NQ),n=CQ*r,a=PQ*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Sg*i/5,c=v4(s),d=Km(s);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},fx=hi(3),AQ={draw(e,t){const r=-hi(t/(fx*3));e.moveTo(0,r*2),e.lineTo(-fx*r,-r),e.lineTo(fx*r,-r),e.closePath()}},Ca=-.5,Pa=hi(3)/2,G_=1/hi(12),EQ=(G_/2+1)*3,OQ={draw(e,t){const r=hi(t/EQ),n=r/2,a=r*G_,i=n,s=r*G_+r,c=-i,d=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(c,d),e.lineTo(Ca*n-Pa*a,Pa*n+Ca*a),e.lineTo(Ca*i-Pa*s,Pa*i+Ca*s),e.lineTo(Ca*c-Pa*d,Pa*c+Ca*d),e.lineTo(Ca*n+Pa*a,Ca*a-Pa*n),e.lineTo(Ca*i+Pa*s,Ca*s-Pa*i),e.lineTo(Ca*c+Pa*d,Ca*d-Pa*c),e.closePath()}};function TQ(e,t){let r=null,n=fS(a);e=typeof e=="function"?e:jr(e||mS),t=typeof t=="function"?t:jr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:jr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:jr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Jm(){}function Xm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function C4(e){this._context=e}C4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MQ(e){return new C4(e)}function P4(e){this._context=e}P4.prototype={areaStart:Jm,areaEnd:Jm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RQ(e){return new P4(e)}function k4(e){this._context=e}k4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Xm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DQ(e){return new k4(e)}function A4(e){this._context=e}A4.prototype={areaStart:Jm,areaEnd:Jm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IQ(e){return new A4(e)}function pE(e){return e<0?-1:1}function gE(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),c=(i*a+s*n)/(n+a);return(pE(i)+pE(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(c))||0}function vE(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hx(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,s-c*r,i,s)}function Qm(e){this._context=e}Qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hx(this,this._t0,vE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hx(this,vE(this,r=gE(this,e,t)),r);break;default:hx(this,this._t0,r=gE(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function E4(e){this._context=new O4(e)}(E4.prototype=Object.create(Qm.prototype)).point=function(e,t){Qm.prototype.point.call(this,t,e)};function O4(e){this._context=e}O4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function $Q(e){return new Qm(e)}function LQ(e){return new E4(e)}function T4(e){this._context=e}T4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=yE(e),a=yE(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function yE(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function FQ(e){return new T4(e)}function Cg(e,t){this._context=e,this._t=t}Cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function BQ(e){return new Cg(e,.5)}function UQ(e){return new Cg(e,0)}function zQ(e){return new Cg(e,1)}function Nc(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,c=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function K_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function qQ(e,t){return e[t]}function WQ(e){const t=[];return t.key=e,t}function HQ(){var e=jr([]),t=K_,r=Nc,n=qQ;function a(i){var s=Array.from(e.apply(this,arguments),WQ),c,d=s.length,f=-1,h;for(const m of i)for(c=0,++f;c<d;++c)(s[c][f]=[0,+n(m,s[c].key,f,i)]).data=m;for(c=0,h=hS(t(s));c<d;++c)s[h[c]].index=c;return r(s,h),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:jr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:jr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?K_:typeof i=="function"?i:jr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Nc,a):r},a}function VQ(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Nc(e,t)}}function GQ(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,c=0;s<a;++s)c+=e[s][r][1]||0;n[r][1]+=n[r][0]=-c/2}Nc(e,t)}}function KQ(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var c=0,d=0,f=0;c<s;++c){for(var h=e[t[c]],m=h[n][1]||0,g=h[n-1][1]||0,w=(m-g)/2,b=0;b<c;++b){var x=e[t[b]],_=x[n][1]||0,S=x[n-1][1]||0;w+=_-S}d+=m,f+=w*m}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Nc(e,t)}}function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}var YQ=["type","size","sizeType"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y_.apply(this,arguments)}function xE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(r),!0).forEach(function(n){JQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JQ(e,t,r){return t=XQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XQ(e){var t=QQ(e,"string");return Fd(t)=="symbol"?t:t+""}function QQ(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZQ(e,t){if(e==null)return{};var r=eZ(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var M4={symbolCircle:mS,symbolCross:wQ,symbolDiamond:jQ,symbolSquare:SQ,symbolStar:kQ,symbolTriangle:AQ,symbolWye:OQ},tZ=Math.PI/180,rZ=function(t){var r="symbol".concat(jg(t));return M4[r]||mS},nZ=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*tZ;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},aZ=function(t,r){M4["symbol".concat(jg(t))]=r},pS=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,c=s===void 0?"area":s,d=ZQ(t,YQ),f=bE(bE({},d),{},{type:n,size:i,sizeType:c}),h=function(){var _=rZ(n),S=TQ().type(_).size(nZ(i,c,n));return S()},m=f.className,g=f.cx,w=f.cy,b=Dt(f,!0);return g===+g&&w===+w&&i===+i?ee.createElement("path",Y_({},b,{className:Yt("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(w,")"),d:h()})):null};pS.registerSymbol=aZ;function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J_.apply(this,arguments)}function wE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iZ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wE(Object(r),!0).forEach(function(n){Bd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D4(n.key),n)}}function lZ(e,t,r){return t&&sZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cZ(e,t,r){return t=Zm(t),uZ(e,R4()?Reflect.construct(t,r||[],Zm(e).constructor):t.apply(e,r))}function uZ(e,t){if(t&&(Cc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dZ(e)}function dZ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R4=function(){return!!e})()}function Zm(e){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zm(e)}function fZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X_(e,t)}function X_(e,t){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},X_(e,t)}function Bd(e,t,r){return t=D4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D4(e){var t=hZ(e,"string");return Cc(t)=="symbol"?t:t+""}function hZ(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Va=32,gS=function(e){function t(){return oZ(this,t),cZ(this,t,arguments)}return fZ(t,e),lZ(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Va/2,s=Va/6,c=Va/3,d=n.inactive?a:n.color;if(n.type==="plainline")return ee.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Va,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return ee.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(c,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*c,",").concat(i,`
            H`).concat(Va,"M").concat(2*c,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(c,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return ee.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Va/8,"h").concat(Va,"v").concat(Va*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(ee.isValidElement(n.legendIcon)){var f=iZ({},n);return delete f.legendIcon,ee.cloneElement(n.legendIcon,f)}return ee.createElement(pS,{fill:d,cx:i,cy:i,size:Va,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,c=a.layout,d=a.formatter,f=a.inactiveColor,h={x:0,y:0,width:Va,height:Va},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(w,b){var x=w.formatter||d,_=Yt(Bd(Bd({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",w.inactive));if(w.type==="none")return null;var S=Mt(w.value)?null:w.value;ro(!Mt(w.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=w.inactive?f:w.color;return ee.createElement("li",J_({className:_,style:m,key:"legend-item-".concat(b)},Gm(n.props,w,b)),ee.createElement(q_,{width:s,height:s,viewBox:h,style:g},n.renderIcon(w)),ee.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},x?x(S,w,b):S))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var c={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return ee.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])}(y.PureComponent);Bd(gS,"displayName","Legend");Bd(gS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var mx,_E;function mZ(){if(_E)return mx;_E=1;var e=bg();function t(){this.__data__=new e,this.size=0}return mx=t,mx}var px,jE;function pZ(){if(jE)return px;jE=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return px=e,px}var gx,SE;function gZ(){if(SE)return gx;SE=1;function e(t){return this.__data__.get(t)}return gx=e,gx}var vx,NE;function vZ(){if(NE)return vx;NE=1;function e(t){return this.__data__.has(t)}return vx=e,vx}var yx,CE;function yZ(){if(CE)return yx;CE=1;var e=bg(),t=oS(),r=sS(),n=200;function a(i,s){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!t||d.length<n-1)return d.push([i,s]),this.size=++c.size,this;c=this.__data__=new r(d)}return c.set(i,s),this.size=c.size,this}return yx=a,yx}var xx,PE;function I4(){if(PE)return xx;PE=1;var e=bg(),t=mZ(),r=pZ(),n=gZ(),a=vZ(),i=yZ();function s(c){var d=this.__data__=new e(c);this.size=d.size}return s.prototype.clear=t,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,xx=s,xx}var bx,kE;function xZ(){if(kE)return bx;kE=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return bx=t,bx}var wx,AE;function bZ(){if(AE)return wx;AE=1;function e(t){return this.__data__.has(t)}return wx=e,wx}var _x,EE;function $4(){if(EE)return _x;EE=1;var e=sS(),t=xZ(),r=bZ();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new e;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,_x=n,_x}var jx,OE;function L4(){if(OE)return jx;OE=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(t[n],n,t))return!0;return!1}return jx=e,jx}var Sx,TE;function F4(){if(TE)return Sx;TE=1;function e(t,r){return t.has(r)}return Sx=e,Sx}var Nx,ME;function B4(){if(ME)return Nx;ME=1;var e=$4(),t=L4(),r=F4(),n=1,a=2;function i(s,c,d,f,h,m){var g=d&n,w=s.length,b=c.length;if(w!=b&&!(g&&b>w))return!1;var x=m.get(s),_=m.get(c);if(x&&_)return x==c&&_==s;var S=-1,N=!0,P=d&a?new e:void 0;for(m.set(s,c),m.set(c,s);++S<w;){var k=s[S],C=c[S];if(f)var A=g?f(C,k,S,c,s,m):f(k,C,S,s,c,m);if(A!==void 0){if(A)continue;N=!1;break}if(P){if(!t(c,function(T,R){if(!r(P,R)&&(k===T||h(k,T,d,f,m)))return P.push(R)})){N=!1;break}}else if(!(k===C||h(k,C,d,f,m))){N=!1;break}}return m.delete(s),m.delete(c),N}return Nx=i,Nx}var Cx,RE;function wZ(){if(RE)return Cx;RE=1;var e=Ri(),t=e.Uint8Array;return Cx=t,Cx}var Px,DE;function _Z(){if(DE)return Px;DE=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a,i){n[++r]=[i,a]}),n}return Px=e,Px}var kx,IE;function vS(){if(IE)return kx;IE=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}return kx=e,kx}var Ax,$E;function jZ(){if($E)return Ax;$E=1;var e=Df(),t=wZ(),r=iS(),n=B4(),a=_Z(),i=vS(),s=1,c=2,d="[object Boolean]",f="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",w="[object RegExp]",b="[object Set]",x="[object String]",_="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",P=e?e.prototype:void 0,k=P?P.valueOf:void 0;function C(A,T,R,I,U,O,B){switch(R){case N:if(A.byteLength!=T.byteLength||A.byteOffset!=T.byteOffset)return!1;A=A.buffer,T=T.buffer;case S:return!(A.byteLength!=T.byteLength||!O(new t(A),new t(T)));case d:case f:case g:return r(+A,+T);case h:return A.name==T.name&&A.message==T.message;case w:case x:return A==T+"";case m:var Z=a;case b:var te=I&s;if(Z||(Z=i),A.size!=T.size&&!te)return!1;var Q=B.get(A);if(Q)return Q==T;I|=c,B.set(A,T);var Y=n(Z(A),Z(T),I,U,O,B);return B.delete(A),Y;case _:if(k)return k.call(A)==k.call(T)}return!1}return Ax=C,Ax}var Ex,LE;function U4(){if(LE)return Ex;LE=1;function e(t,r){for(var n=-1,a=r.length,i=t.length;++n<a;)t[i+n]=r[n];return t}return Ex=e,Ex}var Ox,FE;function SZ(){if(FE)return Ox;FE=1;var e=U4(),t=oa();function r(n,a,i){var s=a(n);return t(n)?s:e(s,i(n))}return Ox=r,Ox}var Tx,BE;function NZ(){if(BE)return Tx;BE=1;function e(t,r){for(var n=-1,a=t==null?0:t.length,i=0,s=[];++n<a;){var c=t[n];r(c,n,t)&&(s[i++]=c)}return s}return Tx=e,Tx}var Mx,UE;function CZ(){if(UE)return Mx;UE=1;function e(){return[]}return Mx=e,Mx}var Rx,zE;function PZ(){if(zE)return Rx;zE=1;var e=NZ(),t=CZ(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),e(a(s),function(c){return n.call(s,c)}))}:t;return Rx=i,Rx}var Dx,qE;function kZ(){if(qE)return Dx;qE=1;function e(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}return Dx=e,Dx}var Ix,WE;function AZ(){if(WE)return Ix;WE=1;var e=po(),t=go(),r="[object Arguments]";function n(a){return t(a)&&e(a)==r}return Ix=n,Ix}var $x,HE;function yS(){if(HE)return $x;HE=1;var e=AZ(),t=go(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(s){return t(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return $x=i,$x}var hd={exports:{}},Lx,VE;function EZ(){if(VE)return Lx;VE=1;function e(){return!1}return Lx=e,Lx}hd.exports;var GE;function z4(){return GE||(GE=1,function(e,t){var r=Ri(),n=EZ(),a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,c=s?r.Buffer:void 0,d=c?c.isBuffer:void 0,f=d||n;e.exports=f}(hd,hd.exports)),hd.exports}var Fx,KE;function xS(){if(KE)return Fx;KE=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??e,!!a&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<a}return Fx=r,Fx}var Bx,YE;function bS(){if(YE)return Bx;YE=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Bx=t,Bx}var Ux,JE;function OZ(){if(JE)return Ux;JE=1;var e=po(),t=bS(),r=go(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",c="[object Error]",d="[object Function]",f="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",w="[object Set]",b="[object String]",x="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",P="[object Float64Array]",k="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",I="[object Uint16Array]",U="[object Uint32Array]",O={};O[N]=O[P]=O[k]=O[C]=O[A]=O[T]=O[R]=O[I]=O[U]=!0,O[n]=O[a]=O[_]=O[i]=O[S]=O[s]=O[c]=O[d]=O[f]=O[h]=O[m]=O[g]=O[w]=O[b]=O[x]=!1;function B(Z){return r(Z)&&t(Z.length)&&!!O[e(Z)]}return Ux=B,Ux}var zx,XE;function q4(){if(XE)return zx;XE=1;function e(t){return function(r){return t(r)}}return zx=e,zx}var md={exports:{}};md.exports;var QE;function TZ(){return QE||(QE=1,function(e,t){var r=l4(),n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,c=function(){try{var d=a&&a.require&&a.require("util").types;return d||s&&s.binding&&s.binding("util")}catch{}}();e.exports=c}(md,md.exports)),md.exports}var qx,ZE;function W4(){if(ZE)return qx;ZE=1;var e=OZ(),t=q4(),r=TZ(),n=r&&r.isTypedArray,a=n?t(n):e;return qx=a,qx}var Wx,e2;function MZ(){if(e2)return Wx;e2=1;var e=kZ(),t=yS(),r=oa(),n=z4(),a=xS(),i=W4(),s=Object.prototype,c=s.hasOwnProperty;function d(f,h){var m=r(f),g=!m&&t(f),w=!m&&!g&&n(f),b=!m&&!g&&!w&&i(f),x=m||g||w||b,_=x?e(f.length,String):[],S=_.length;for(var N in f)(h||c.call(f,N))&&!(x&&(N=="length"||w&&(N=="offset"||N=="parent")||b&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||a(N,S)))&&_.push(N);return _}return Wx=d,Wx}var Hx,t2;function RZ(){if(t2)return Hx;t2=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||e;return r===a}return Hx=t,Hx}var Vx,r2;function H4(){if(r2)return Vx;r2=1;function e(t,r){return function(n){return t(r(n))}}return Vx=e,Vx}var Gx,n2;function DZ(){if(n2)return Gx;n2=1;var e=H4(),t=e(Object.keys,Object);return Gx=t,Gx}var Kx,a2;function IZ(){if(a2)return Kx;a2=1;var e=RZ(),t=DZ(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!e(i))return t(i);var s=[];for(var c in Object(i))n.call(i,c)&&c!="constructor"&&s.push(c);return s}return Kx=a,Kx}var Yx,i2;function If(){if(i2)return Yx;i2=1;var e=aS(),t=bS();function r(n){return n!=null&&t(n.length)&&!e(n)}return Yx=r,Yx}var Jx,o2;function Pg(){if(o2)return Jx;o2=1;var e=MZ(),t=IZ(),r=If();function n(a){return r(a)?e(a):t(a)}return Jx=n,Jx}var Xx,s2;function $Z(){if(s2)return Xx;s2=1;var e=SZ(),t=PZ(),r=Pg();function n(a){return e(a,r,t)}return Xx=n,Xx}var Qx,l2;function LZ(){if(l2)return Qx;l2=1;var e=$Z(),t=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,c,d,f,h){var m=c&t,g=e(i),w=g.length,b=e(s),x=b.length;if(w!=x&&!m)return!1;for(var _=w;_--;){var S=g[_];if(!(m?S in s:n.call(s,S)))return!1}var N=h.get(i),P=h.get(s);if(N&&P)return N==s&&P==i;var k=!0;h.set(i,s),h.set(s,i);for(var C=m;++_<w;){S=g[_];var A=i[S],T=s[S];if(d)var R=m?d(T,A,S,s,i,h):d(A,T,S,i,s,h);if(!(R===void 0?A===T||f(A,T,c,d,h):R)){k=!1;break}C||(C=S=="constructor")}if(k&&!C){var I=i.constructor,U=s.constructor;I!=U&&"constructor"in i&&"constructor"in s&&!(typeof I=="function"&&I instanceof I&&typeof U=="function"&&U instanceof U)&&(k=!1)}return h.delete(i),h.delete(s),k}return Qx=a,Qx}var Zx,c2;function FZ(){if(c2)return Zx;c2=1;var e=hl(),t=Ri(),r=e(t,"DataView");return Zx=r,Zx}var eb,u2;function BZ(){if(u2)return eb;u2=1;var e=hl(),t=Ri(),r=e(t,"Promise");return eb=r,eb}var tb,d2;function V4(){if(d2)return tb;d2=1;var e=hl(),t=Ri(),r=e(t,"Set");return tb=r,tb}var rb,f2;function UZ(){if(f2)return rb;f2=1;var e=hl(),t=Ri(),r=e(t,"WeakMap");return rb=r,rb}var nb,h2;function zZ(){if(h2)return nb;h2=1;var e=FZ(),t=oS(),r=BZ(),n=V4(),a=UZ(),i=po(),s=c4(),c="[object Map]",d="[object Object]",f="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",w=s(e),b=s(t),x=s(r),_=s(n),S=s(a),N=i;return(e&&N(new e(new ArrayBuffer(1)))!=g||t&&N(new t)!=c||r&&N(r.resolve())!=f||n&&N(new n)!=h||a&&N(new a)!=m)&&(N=function(P){var k=i(P),C=k==d?P.constructor:void 0,A=C?s(C):"";if(A)switch(A){case w:return g;case b:return c;case x:return f;case _:return h;case S:return m}return k}),nb=N,nb}var ab,m2;function qZ(){if(m2)return ab;m2=1;var e=I4(),t=B4(),r=jZ(),n=LZ(),a=zZ(),i=oa(),s=z4(),c=W4(),d=1,f="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,w=g.hasOwnProperty;function b(x,_,S,N,P,k){var C=i(x),A=i(_),T=C?h:a(x),R=A?h:a(_);T=T==f?m:T,R=R==f?m:R;var I=T==m,U=R==m,O=T==R;if(O&&s(x)){if(!s(_))return!1;C=!0,I=!1}if(O&&!I)return k||(k=new e),C||c(x)?t(x,_,S,N,P,k):r(x,_,T,S,N,P,k);if(!(S&d)){var B=I&&w.call(x,"__wrapped__"),Z=U&&w.call(_,"__wrapped__");if(B||Z){var te=B?x.value():x,Q=Z?_.value():_;return k||(k=new e),P(te,Q,S,N,k)}}return O?(k||(k=new e),n(x,_,S,N,P,k)):!1}return ab=b,ab}var ib,p2;function wS(){if(p2)return ib;p2=1;var e=qZ(),t=go();function r(n,a,i,s,c){return n===a?!0:n==null||a==null||!t(n)&&!t(a)?n!==n&&a!==a:e(n,a,i,s,r,c)}return ib=r,ib}var ob,g2;function WZ(){if(g2)return ob;g2=1;var e=I4(),t=wS(),r=1,n=2;function a(i,s,c,d){var f=c.length,h=f,m=!d;if(i==null)return!h;for(i=Object(i);f--;){var g=c[f];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++f<h;){g=c[f];var w=g[0],b=i[w],x=g[1];if(m&&g[2]){if(b===void 0&&!(w in i))return!1}else{var _=new e;if(d)var S=d(b,x,w,i,s,_);if(!(S===void 0?t(x,b,r|n,d,_):S))return!1}}return!0}return ob=a,ob}var sb,v2;function G4(){if(v2)return sb;v2=1;var e=cs();function t(r){return r===r&&!e(r)}return sb=t,sb}var lb,y2;function HZ(){if(y2)return lb;y2=1;var e=G4(),t=Pg();function r(n){for(var a=t(n),i=a.length;i--;){var s=a[i],c=n[s];a[i]=[s,c,e(c)]}return a}return lb=r,lb}var cb,x2;function K4(){if(x2)return cb;x2=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return cb=e,cb}var ub,b2;function VZ(){if(b2)return ub;b2=1;var e=WZ(),t=HZ(),r=K4();function n(a){var i=t(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||e(s,a,i)}}return ub=n,ub}var db,w2;function GZ(){if(w2)return db;w2=1;function e(t,r){return t!=null&&r in Object(t)}return db=e,db}var fb,_2;function KZ(){if(_2)return fb;_2=1;var e=f4(),t=yS(),r=oa(),n=xS(),a=bS(),i=_g();function s(c,d,f){d=e(d,c);for(var h=-1,m=d.length,g=!1;++h<m;){var w=i(d[h]);if(!(g=c!=null&&f(c,w)))break;c=c[w]}return g||++h!=m?g:(m=c==null?0:c.length,!!m&&a(m)&&n(w,m)&&(r(c)||t(c)))}return fb=s,fb}var hb,j2;function YZ(){if(j2)return hb;j2=1;var e=GZ(),t=KZ();function r(n,a){return n!=null&&t(n,a,e)}return hb=r,hb}var mb,S2;function JZ(){if(S2)return mb;S2=1;var e=wS(),t=h4(),r=YZ(),n=nS(),a=G4(),i=K4(),s=_g(),c=1,d=2;function f(h,m){return n(h)&&a(m)?i(s(h),m):function(g){var w=t(g,h);return w===void 0&&w===m?r(g,h):e(m,w,c|d)}}return mb=f,mb}var pb,N2;function fu(){if(N2)return pb;N2=1;function e(t){return t}return pb=e,pb}var gb,C2;function XZ(){if(C2)return gb;C2=1;function e(t){return function(r){return r==null?void 0:r[t]}}return gb=e,gb}var vb,P2;function QZ(){if(P2)return vb;P2=1;var e=cS();function t(r){return function(n){return e(n,r)}}return vb=t,vb}var yb,k2;function ZZ(){if(k2)return yb;k2=1;var e=XZ(),t=QZ(),r=nS(),n=_g();function a(i){return r(i)?e(n(i)):t(i)}return yb=a,yb}var xb,A2;function us(){if(A2)return xb;A2=1;var e=VZ(),t=JZ(),r=fu(),n=oa(),a=ZZ();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?t(s[0],s[1]):e(s):a(s)}return xb=i,xb}var bb,E2;function Y4(){if(E2)return bb;E2=1;function e(t,r,n,a){for(var i=t.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(t[s],s,t))return s;return-1}return bb=e,bb}var wb,O2;function eee(){if(O2)return wb;O2=1;function e(t){return t!==t}return wb=e,wb}var _b,T2;function tee(){if(T2)return _b;T2=1;function e(t,r,n){for(var a=n-1,i=t.length;++a<i;)if(t[a]===r)return a;return-1}return _b=e,_b}var jb,M2;function ree(){if(M2)return jb;M2=1;var e=Y4(),t=eee(),r=tee();function n(a,i,s){return i===i?r(a,i,s):e(a,t,s)}return jb=n,jb}var Sb,R2;function nee(){if(R2)return Sb;R2=1;var e=ree();function t(r,n){var a=r==null?0:r.length;return!!a&&e(r,n,0)>-1}return Sb=t,Sb}var Nb,D2;function aee(){if(D2)return Nb;D2=1;function e(t,r,n){for(var a=-1,i=t==null?0:t.length;++a<i;)if(n(r,t[a]))return!0;return!1}return Nb=e,Nb}var Cb,I2;function iee(){if(I2)return Cb;I2=1;function e(){}return Cb=e,Cb}var Pb,$2;function oee(){if($2)return Pb;$2=1;var e=V4(),t=iee(),r=vS(),n=1/0,a=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return Pb=a,Pb}var kb,L2;function see(){if(L2)return kb;L2=1;var e=$4(),t=nee(),r=aee(),n=F4(),a=oee(),i=vS(),s=200;function c(d,f,h){var m=-1,g=t,w=d.length,b=!0,x=[],_=x;if(h)b=!1,g=r;else if(w>=s){var S=f?null:a(d);if(S)return i(S);b=!1,g=n,_=new e}else _=f?[]:x;e:for(;++m<w;){var N=d[m],P=f?f(N):N;if(N=h||N!==0?N:0,b&&P===P){for(var k=_.length;k--;)if(_[k]===P)continue e;f&&_.push(P),x.push(N)}else g(_,P,h)||(_!==x&&_.push(P),x.push(N))}return x}return kb=c,kb}var Ab,F2;function lee(){if(F2)return Ab;F2=1;var e=us(),t=see();function r(n,a){return n&&n.length?t(n,e(a,2)):[]}return Ab=r,Ab}var cee=lee();const B2=cr(cee);function J4(e,t,r){return t===!0?B2(e,r):Mt(t)?B2(e,t):e}function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}var uee=["ref"];function U2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U2(Object(r),!0).forEach(function(n){kg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z2(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Q4(n.key),n)}}function fee(e,t,r){return t&&z2(e.prototype,t),r&&z2(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hee(e,t,r){return t=ep(t),mee(e,X4()?Reflect.construct(t,r||[],ep(e).constructor):t.apply(e,r))}function mee(e,t){if(t&&(Pc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pee(e)}function pee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!e})()}function ep(e){return ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ep(e)}function gee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q_(e,t)}function Q_(e,t){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Q_(e,t)}function kg(e,t,r){return t=Q4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q4(e){var t=vee(e,"string");return Pc(t)=="symbol"?t:t+""}function vee(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function yee(e,t){if(e==null)return{};var r=xee(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bee(e){return e.value}function wee(e,t){if(ee.isValidElement(e))return ee.cloneElement(e,t);if(typeof e=="function")return ee.createElement(e,t);t.ref;var r=yee(t,uee);return ee.createElement(gS,r)}var q2=1,Ma=function(e){function t(){var r;dee(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=hee(this,t,[].concat(a)),kg(r,"lastBoundingBox",{width:-1,height:-1}),r}return gee(t,e),fee(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>q2||Math.abs(a.height-this.lastBoundingBox.height)>q2)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,c=a.verticalAlign,d=a.margin,f=a.chartWidth,h=a.chartHeight,m,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var w=this.getBBoxSnapshot();m={left:((f||0)-w.width)/2}}else m=s==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(c==="middle"){var b=this.getBBoxSnapshot();g={top:((h||0)-b.height)/2}}else g=c==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Vi(Vi({},m),g)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,c=a.height,d=a.wrapperStyle,f=a.payloadUniqBy,h=a.payload,m=Vi(Vi({position:"absolute",width:s||"auto",height:c||"auto"},this.getDefaultPosition(d)),d);return ee.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(w){n.wrapperNode=w}},wee(i,Vi(Vi({},this.props),{},{payload:J4(h,f,bee)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Vi(Vi({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&We(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(y.PureComponent);kg(Ma,"displayName","Legend");kg(Ma,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Eb,W2;function _ee(){if(W2)return Eb;W2=1;var e=Df(),t=yS(),r=oa(),n=e?e.isConcatSpreadable:void 0;function a(i){return r(i)||t(i)||!!(n&&i&&i[n])}return Eb=a,Eb}var Ob,H2;function Z4(){if(H2)return Ob;H2=1;var e=U4(),t=_ee();function r(n,a,i,s,c){var d=-1,f=n.length;for(i||(i=t),c||(c=[]);++d<f;){var h=n[d];a>0&&i(h)?a>1?r(h,a-1,i,s,c):e(c,h):s||(c[c.length]=h)}return c}return Ob=r,Ob}var Tb,V2;function jee(){if(V2)return Tb;V2=1;function e(t){return function(r,n,a){for(var i=-1,s=Object(r),c=a(r),d=c.length;d--;){var f=c[t?d:++i];if(n(s[f],f,s)===!1)break}return r}}return Tb=e,Tb}var Mb,G2;function See(){if(G2)return Mb;G2=1;var e=jee(),t=e();return Mb=t,Mb}var Rb,K2;function e3(){if(K2)return Rb;K2=1;var e=See(),t=Pg();function r(n,a){return n&&e(n,a,t)}return Rb=r,Rb}var Db,Y2;function Nee(){if(Y2)return Db;Y2=1;var e=If();function t(r,n){return function(a,i){if(a==null)return a;if(!e(a))return r(a,i);for(var s=a.length,c=n?s:-1,d=Object(a);(n?c--:++c<s)&&i(d[c],c,d)!==!1;);return a}}return Db=t,Db}var Ib,J2;function _S(){if(J2)return Ib;J2=1;var e=e3(),t=Nee(),r=t(e);return Ib=r,Ib}var $b,X2;function t3(){if(X2)return $b;X2=1;var e=_S(),t=If();function r(n,a){var i=-1,s=t(n)?Array(n.length):[];return e(n,function(c,d,f){s[++i]=a(c,d,f)}),s}return $b=r,$b}var Lb,Q2;function Cee(){if(Q2)return Lb;Q2=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return Lb=e,Lb}var Fb,Z2;function Pee(){if(Z2)return Fb;Z2=1;var e=lu();function t(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,c=e(r),d=n!==void 0,f=n===null,h=n===n,m=e(n);if(!f&&!m&&!c&&r>n||c&&d&&h&&!f&&!m||i&&d&&h||!a&&h||!s)return 1;if(!i&&!c&&!m&&r<n||m&&a&&s&&!i&&!c||f&&a&&s||!d&&s||!h)return-1}return 0}return Fb=t,Fb}var Bb,eO;function kee(){if(eO)return Bb;eO=1;var e=Pee();function t(r,n,a){for(var i=-1,s=r.criteria,c=n.criteria,d=s.length,f=a.length;++i<d;){var h=e(s[i],c[i]);if(h){if(i>=f)return h;var m=a[i];return h*(m=="desc"?-1:1)}}return r.index-n.index}return Bb=t,Bb}var Ub,tO;function Aee(){if(tO)return Ub;tO=1;var e=lS(),t=cS(),r=us(),n=t3(),a=Cee(),i=q4(),s=kee(),c=fu(),d=oa();function f(h,m,g){m.length?m=e(m,function(x){return d(x)?function(_){return t(_,x.length===1?x[0]:x)}:x}):m=[c];var w=-1;m=e(m,i(r));var b=n(h,function(x,_,S){var N=e(m,function(P){return P(x)});return{criteria:N,index:++w,value:x}});return a(b,function(x,_){return s(x,_,g)})}return Ub=f,Ub}var zb,rO;function Eee(){if(rO)return zb;rO=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return zb=e,zb}var qb,nO;function Oee(){if(nO)return qb;nO=1;var e=Eee(),t=Math.max;function r(n,a,i){return a=t(a===void 0?n.length-1:a,0),function(){for(var s=arguments,c=-1,d=t(s.length-a,0),f=Array(d);++c<d;)f[c]=s[a+c];c=-1;for(var h=Array(a+1);++c<a;)h[c]=s[c];return h[a]=i(f),e(n,this,h)}}return qb=r,qb}var Wb,aO;function Tee(){if(aO)return Wb;aO=1;function e(t){return function(){return t}}return Wb=e,Wb}var Hb,iO;function r3(){if(iO)return Hb;iO=1;var e=hl(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return Hb=t,Hb}var Vb,oO;function Mee(){if(oO)return Vb;oO=1;var e=Tee(),t=r3(),r=fu(),n=t?function(a,i){return t(a,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return Vb=n,Vb}var Gb,sO;function Ree(){if(sO)return Gb;sO=1;var e=800,t=16,r=Date.now;function n(a){var i=0,s=0;return function(){var c=r(),d=t-(c-s);if(s=c,d>0){if(++i>=e)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return Gb=n,Gb}var Kb,lO;function Dee(){if(lO)return Kb;lO=1;var e=Mee(),t=Ree(),r=t(e);return Kb=r,Kb}var Yb,cO;function Iee(){if(cO)return Yb;cO=1;var e=fu(),t=Oee(),r=Dee();function n(a,i){return r(t(a,i,e),a+"")}return Yb=n,Yb}var Jb,uO;function Ag(){if(uO)return Jb;uO=1;var e=iS(),t=If(),r=xS(),n=cs();function a(i,s,c){if(!n(c))return!1;var d=typeof s;return(d=="number"?t(c)&&r(s,c.length):d=="string"&&s in c)?e(c[s],i):!1}return Jb=a,Jb}var Xb,dO;function $ee(){if(dO)return Xb;dO=1;var e=Z4(),t=Aee(),r=Iee(),n=Ag(),a=r(function(i,s){if(i==null)return[];var c=s.length;return c>1&&n(i,s[0],s[1])?s=[]:c>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(i,e(s,1),[])});return Xb=a,Xb}var Lee=$ee();const jS=cr(Lee);function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Z_.apply(this,arguments)}function Fee(e,t){return qee(e)||zee(e,t)||Uee(e,t)||Bee()}function Bee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uee(e,t){if(e){if(typeof e=="string")return fO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fO(e,t)}}function fO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function qee(e){if(Array.isArray(e))return e}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wee(e,t,r){return t=Hee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hee(e){var t=Vee(e,"string");return Ud(t)=="symbol"?t:t+""}function Vee(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gee(e){return Array.isArray(e)&&an(e[0])&&an(e[1])?e.join(" ~ "):e}var Kee=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,c=s===void 0?{}:s,d=t.labelStyle,f=d===void 0?{}:d,h=t.payload,m=t.formatter,g=t.itemSorter,w=t.wrapperClassName,b=t.labelClassName,x=t.label,_=t.labelFormatter,S=t.accessibilityLayer,N=S===void 0?!1:S,P=function(){if(h&&h.length){var B={padding:0,margin:0},Z=(g?jS(h,g):h).map(function(te,Q){if(te.type==="none")return null;var Y=Qb({display:"block",paddingTop:4,paddingBottom:4,color:te.color||"#000"},c),ie=te.formatter||m||Gee,W=te.value,V=te.name,F=W,L=V;if(ie&&F!=null&&L!=null){var J=ie(W,V,te,Q,h);if(Array.isArray(J)){var G=Fee(J,2);F=G[0],L=G[1]}else F=J}return ee.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:Y},an(L)?ee.createElement("span",{className:"recharts-tooltip-item-name"},L):null,an(L)?ee.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ee.createElement("span",{className:"recharts-tooltip-item-value"},F),ee.createElement("span",{className:"recharts-tooltip-item-unit"},te.unit||""))});return ee.createElement("ul",{className:"recharts-tooltip-item-list",style:B},Z)}return null},k=Qb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=Qb({margin:0},f),A=!zt(x),T=A?x:"",R=Yt("recharts-default-tooltip",w),I=Yt("recharts-tooltip-label",b);A&&_&&h!==void 0&&h!==null&&(T=_(x,h));var U=N?{role:"status","aria-live":"assertive"}:{};return ee.createElement("div",Z_({className:R,style:k},U),ee.createElement("p",{className:I,style:C},ee.isValidElement(T)?T:"".concat(T)),P())};function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function cm(e,t,r){return t=Yee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yee(e){var t=Jee(e,"string");return zd(t)=="symbol"?t:t+""}function Jee(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zu="recharts-tooltip-wrapper",Xee={visibility:"hidden"};function Qee(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Yt(Zu,cm(cm(cm(cm({},"".concat(Zu,"-right"),We(r)&&t&&We(t.x)&&r>=t.x),"".concat(Zu,"-left"),We(r)&&t&&We(t.x)&&r<t.x),"".concat(Zu,"-bottom"),We(n)&&t&&We(t.y)&&n>=t.y),"".concat(Zu,"-top"),We(n)&&t&&We(t.y)&&n<t.y))}function mO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,c=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&We(i[n]))return i[n];var h=r[n]-c-a,m=r[n]+a;if(t[n])return s[n]?h:m;if(s[n]){var g=h,w=d[n];return g<w?Math.max(m,d[n]):Math.max(h,d[n])}var b=m+c,x=d[n]+f;return b>x?Math.max(h,d[n]):Math.max(m,d[n])}function Zee(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function ete(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox,f,h,m;return s.height>0&&s.width>0&&r?(h=mO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:d,viewBoxDimension:d.width}),m=mO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:d,viewBoxDimension:d.height}),f=Zee({translateX:h,translateY:m,useTranslate3d:c})):f=Xee,{cssProperties:f,cssClasses:Qee({translateX:h,translateY:m,coordinate:r})}}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){t1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a3(n.key),n)}}function nte(e,t,r){return t&&rte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ate(e,t,r){return t=tp(t),ite(e,n3()?Reflect.construct(t,r||[],tp(e).constructor):t.apply(e,r))}function ite(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ote(e)}function ote(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n3=function(){return!!e})()}function tp(e){return tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tp(e)}function ste(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e1(e,t)}function e1(e,t){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e1(e,t)}function t1(e,t,r){return t=a3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a3(e){var t=lte(e,"string");return kc(t)=="symbol"?t:t+""}function lte(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var vO=1,cte=function(e){function t(){var r;tte(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ate(this,t,[].concat(a)),t1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),t1(r,"handleKeyDown",function(s){if(s.key==="Escape"){var c,d,f,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&c!==void 0?c:0,y:(f=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),r}return ste(t,e),nte(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>vO||Math.abs(n.height-this.state.lastBoundingBox.height)>vO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.children,h=a.coordinate,m=a.hasPayload,g=a.isAnimationActive,w=a.offset,b=a.position,x=a.reverseDirection,_=a.useTranslate3d,S=a.viewBox,N=a.wrapperStyle,P=ete({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:w,position:b,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:S}),k=P.cssClasses,C=P.cssProperties,A=gO(gO({transition:g&&i?"transform ".concat(c,"ms ").concat(d):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},N);return ee.createElement("div",{tabIndex:-1,className:k,style:A,ref:function(R){n.wrapperNode=R}},f)}}])}(y.PureComponent),ute=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ml={isSsr:ute()};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function yO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yO(Object(r),!0).forEach(function(n){SS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fte(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o3(n.key),n)}}function hte(e,t,r){return t&&fte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mte(e,t,r){return t=rp(t),pte(e,i3()?Reflect.construct(t,r||[],rp(e).constructor):t.apply(e,r))}function pte(e,t){if(t&&(Ac(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gte(e)}function gte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i3=function(){return!!e})()}function rp(e){return rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rp(e)}function vte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r1(e,t)}function r1(e,t){return r1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r1(e,t)}function SS(e,t,r){return t=o3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o3(e){var t=yte(e,"string");return Ac(t)=="symbol"?t:t+""}function yte(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xte(e){return e.dataKey}function bte(e,t){return ee.isValidElement(e)?ee.cloneElement(e,t):typeof e=="function"?ee.createElement(e,t):ee.createElement(Kee,t)}var zn=function(e){function t(){return dte(this,t),mte(this,t,arguments)}return vte(t,e),hte(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,c=a.animationDuration,d=a.animationEasing,f=a.content,h=a.coordinate,m=a.filterNull,g=a.isAnimationActive,w=a.offset,b=a.payload,x=a.payloadUniqBy,_=a.position,S=a.reverseDirection,N=a.useTranslate3d,P=a.viewBox,k=a.wrapperStyle,C=b??[];m&&C.length&&(C=J4(b.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),x,xte));var A=C.length>0;return ee.createElement(cte,{allowEscapeViewBox:s,animationDuration:c,animationEasing:d,isAnimationActive:g,active:i,coordinate:h,hasPayload:A,offset:w,position:_,reverseDirection:S,useTranslate3d:N,viewBox:P,wrapperStyle:k},bte(f,xO(xO({},this.props),{},{payload:C})))}}])}(y.PureComponent);SS(zn,"displayName","Tooltip");SS(zn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ml.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Zb,bO;function wte(){if(bO)return Zb;bO=1;var e=Ri(),t=function(){return e.Date.now()};return Zb=t,Zb}var ew,wO;function _te(){if(wO)return ew;wO=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return ew=t,ew}var tw,_O;function jte(){if(_O)return tw;_O=1;var e=_te(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return tw=r,tw}var rw,jO;function s3(){if(jO)return rw;jO=1;var e=jte(),t=cs(),r=lu(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(t(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=t(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=i.test(f);return m||s.test(f)?c(f.slice(2),m?2:8):a.test(f)?n:+f}return rw=d,rw}var nw,SO;function Ste(){if(SO)return nw;SO=1;var e=cs(),t=wte(),r=s3(),n="Expected a function",a=Math.max,i=Math.min;function s(c,d,f){var h,m,g,w,b,x,_=0,S=!1,N=!1,P=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,e(f)&&(S=!!f.leading,N="maxWait"in f,g=N?a(r(f.maxWait)||0,d):g,P="trailing"in f?!!f.trailing:P);function k(Z){var te=h,Q=m;return h=m=void 0,_=Z,w=c.apply(Q,te),w}function C(Z){return _=Z,b=setTimeout(R,d),S?k(Z):w}function A(Z){var te=Z-x,Q=Z-_,Y=d-te;return N?i(Y,g-Q):Y}function T(Z){var te=Z-x,Q=Z-_;return x===void 0||te>=d||te<0||N&&Q>=g}function R(){var Z=t();if(T(Z))return I(Z);b=setTimeout(R,A(Z))}function I(Z){return b=void 0,P&&h?k(Z):(h=m=void 0,w)}function U(){b!==void 0&&clearTimeout(b),_=0,h=x=m=b=void 0}function O(){return b===void 0?w:I(t())}function B(){var Z=t(),te=T(Z);if(h=arguments,m=this,x=Z,te){if(b===void 0)return C(x);if(N)return clearTimeout(b),b=setTimeout(R,d),k(x)}return b===void 0&&(b=setTimeout(R,d)),w}return B.cancel=U,B.flush=O,B}return nw=s,nw}var aw,NO;function Nte(){if(NO)return aw;NO=1;var e=Ste(),t=cs(),r="Expected a function";function n(a,i,s){var c=!0,d=!0;if(typeof a!="function")throw new TypeError(r);return t(s)&&(c="leading"in s?!!s.leading:c,d="trailing"in s?!!s.trailing:d),e(a,i,{leading:c,maxWait:i,trailing:d})}return aw=n,aw}var Cte=Nte();const l3=cr(Cte);function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){Pte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pte(e,t,r){return t=kte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kte(e){var t=Ate(e,"string");return qd(t)=="symbol"?t:t+""}function Ate(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ete(e,t){return Rte(e)||Mte(e,t)||Tte(e,t)||Ote()}function Ote(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tte(e,t){if(e){if(typeof e=="string")return PO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(e,t)}}function PO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Rte(e){if(Array.isArray(e))return e}var gc=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,c=e.height,d=c===void 0?"100%":c,f=e.minWidth,h=f===void 0?0:f,m=e.minHeight,g=e.maxHeight,w=e.children,b=e.debounce,x=b===void 0?0:b,_=e.id,S=e.className,N=e.onResize,P=e.style,k=P===void 0?{}:P,C=y.useRef(null),A=y.useRef();A.current=N,y.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var T=y.useState({containerWidth:a.width,containerHeight:a.height}),R=Ete(T,2),I=R[0],U=R[1],O=y.useCallback(function(Z,te){U(function(Q){var Y=Math.round(Z),ie=Math.round(te);return Q.containerWidth===Y&&Q.containerHeight===ie?Q:{containerWidth:Y,containerHeight:ie}})},[]);y.useEffect(function(){var Z=function(V){var F,L=V[0].contentRect,J=L.width,G=L.height;O(J,G),(F=A.current)===null||F===void 0||F.call(A,J,G)};x>0&&(Z=l3(Z,x,{trailing:!0,leading:!1}));var te=new ResizeObserver(Z),Q=C.current.getBoundingClientRect(),Y=Q.width,ie=Q.height;return O(Y,ie),te.observe(C.current),function(){te.disconnect()}},[O,x]);var B=y.useMemo(function(){var Z=I.containerWidth,te=I.containerHeight;if(Z<0||te<0)return null;ro(Bs(s)||Bs(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,d),ro(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=Bs(s)?Z:s,Y=Bs(d)?te:d;r&&r>0&&(Q?Y=Q/r:Y&&(Q=Y*r),g&&Y>g&&(Y=g)),ro(Q>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,Y,s,d,h,m,r);var ie=!Array.isArray(w)&&to(w.type).endsWith("Chart");return ee.Children.map(w,function(W){return ee.isValidElement(W)?y.cloneElement(W,um({width:Q,height:Y},ie?{style:um({height:"100%",width:"100%",maxHeight:Y,maxWidth:Q},W.props.style)}:{})):W})},[r,w,d,g,m,h,I,s]);return ee.createElement("div",{id:_?"".concat(_):void 0,className:Yt("recharts-responsive-container",S),style:um(um({},k),{},{width:s,height:d,minWidth:h,minHeight:m,maxHeight:g}),ref:C},B)}),c3=function(t){return null};c3.displayName="Cell";function Wd(e){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wd(e)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){Dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dte(e,t,r){return t=Ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=$te(e,"string");return Wd(t)=="symbol"?t:t+""}function $te(e,t){if(Wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rc={widthCache:{},cacheCount:0},Lte=2e3,Fte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AO="recharts_measurement_span";function Bte(e){var t=n1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var _d=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ml.isSsr)return{width:0,height:0};var n=Bte(r),a=JSON.stringify({text:t,copyStyle:n});if(rc.widthCache[a])return rc.widthCache[a];try{var i=document.getElementById(AO);i||(i=document.createElement("span"),i.setAttribute("id",AO),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=n1(n1({},Fte),n);Object.assign(i.style,s),i.textContent="".concat(t);var c=i.getBoundingClientRect(),d={width:c.width,height:c.height};return rc.widthCache[a]=d,++rc.cacheCount>Lte&&(rc.cacheCount=0,rc.widthCache={}),d}catch{return{width:0,height:0}}},Ute=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Hd(e){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(e)}function np(e,t){return Hte(e)||Wte(e,t)||qte(e,t)||zte()}function zte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qte(e,t){if(e){if(typeof e=="string")return EO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(e,t)}}function EO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wte(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Hte(e){if(Array.isArray(e))return e}function Vte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Kte(n.key),n)}}function Gte(e,t,r){return t&&OO(e.prototype,t),r&&OO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kte(e){var t=Yte(e,"string");return Hd(t)=="symbol"?t:t+""}function Yte(e,t){if(Hd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var TO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,MO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jte=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Xte=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,u3={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qte=Object.keys(u3),lc="NaN";function Zte(e,t){return e*u3[t]}var dm=function(){function e(t,r){Vte(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Jte.test(r)&&(this.num=NaN,this.unit=""),Qte.includes(r)&&(this.num=Zte(t,r),this.unit="px")}return Gte(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=Xte.exec(r))!==null&&n!==void 0?n:[],i=np(a,3),s=i[1],c=i[2];return new e(parseFloat(s),c??"")}}])}();function d3(e){if(e.includes(lc))return lc;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=TO.exec(t))!==null&&r!==void 0?r:[],a=np(n,4),i=a[1],s=a[2],c=a[3],d=dm.parse(i??""),f=dm.parse(c??""),h=s==="*"?d.multiply(f):d.divide(f);if(h.isNaN())return lc;t=t.replace(TO,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=MO.exec(t))!==null&&m!==void 0?m:[],w=np(g,4),b=w[1],x=w[2],_=w[3],S=dm.parse(b??""),N=dm.parse(_??""),P=x==="+"?S.add(N):S.subtract(N);if(P.isNaN())return lc;t=t.replace(MO,P.toString())}return t}var RO=/\(([^()]*)\)/;function ere(e){for(var t=e;t.includes("(");){var r=RO.exec(t),n=np(r,2),a=n[1];t=t.replace(RO,d3(a))}return t}function tre(e){var t=e.replace(/\s+/g,"");return t=ere(t),t=d3(t),t}function rre(e){try{return tre(e)}catch{return lc}}function iw(e){var t=rre(e.slice(5,-1));return t===lc?"":t}var nre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],are=["dx","dy","angle","className","breakAll"];function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a1.apply(this,arguments)}function DO(e,t){if(e==null)return{};var r=ire(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ire(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IO(e,t){return cre(e)||lre(e,t)||sre(e,t)||ore()}function ore(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sre(e,t){if(e){if(typeof e=="string")return $O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $O(e,t)}}function $O(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function cre(e){if(Array.isArray(e))return e}var f3=/[ \f\n\r\t\v\u2028\u2029]+/,h3=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];zt(r)||(n?i=r.toString().split(""):i=r.toString().split(f3));var s=i.map(function(d){return{word:d,width:_d(d,a).width}}),c=n?0:_d(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},ure=function(t,r,n,a,i){var s=t.maxLines,c=t.children,d=t.style,f=t.breakAll,h=We(s),m=c,g=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(Y,ie){var W=ie.word,V=ie.width,F=Y[Y.length-1];if(F&&(a==null||i||F.width+V+n<Number(a)))F.words.push(W),F.width+=V+n;else{var L={words:[W],width:V};Y.push(L)}return Y},[])},w=g(r),b=function(Q){return Q.reduce(function(Y,ie){return Y.width>ie.width?Y:ie})};if(!h)return w;for(var x="…",_=function(Q){var Y=m.slice(0,Q),ie=h3({breakAll:f,style:d,children:Y+x}).wordsWithComputedWidth,W=g(ie),V=W.length>s||b(W).width>Number(a);return[V,W]},S=0,N=m.length-1,P=0,k;S<=N&&P<=m.length-1;){var C=Math.floor((S+N)/2),A=C-1,T=_(A),R=IO(T,2),I=R[0],U=R[1],O=_(C),B=IO(O,1),Z=B[0];if(!I&&!Z&&(S=C+1),I&&Z&&(N=C-1),!I&&Z){k=U;break}P++}return k||w},LO=function(t){var r=zt(t)?[]:t.toString().split(f3);return[{words:r}]},dre=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,c=t.maxLines;if((r||n)&&!ml.isSsr){var d,f,h=h3({breakAll:s,children:a,style:i});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;d=m,f=g}else return LO(a);return ure({breakAll:s,children:a,maxLines:c,style:i},d,f,r,n)}return LO(a)},FO="#808080",ap=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,c=s===void 0?"1em":s,d=t.capHeight,f=d===void 0?"0.71em":d,h=t.scaleToFit,m=h===void 0?!1:h,g=t.textAnchor,w=g===void 0?"start":g,b=t.verticalAnchor,x=b===void 0?"end":b,_=t.fill,S=_===void 0?FO:_,N=DO(t,nre),P=y.useMemo(function(){return dre({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:m,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,m,N.style,N.width]),k=N.dx,C=N.dy,A=N.angle,T=N.className,R=N.breakAll,I=DO(N,are);if(!an(n)||!an(i))return null;var U=n+(We(k)?k:0),O=i+(We(C)?C:0),B;switch(x){case"start":B=iw("calc(".concat(f,")"));break;case"middle":B=iw("calc(".concat((P.length-1)/2," * -").concat(c," + (").concat(f," / 2))"));break;default:B=iw("calc(".concat(P.length-1," * -").concat(c,")"));break}var Z=[];if(m){var te=P[0].width,Q=N.width;Z.push("scale(".concat((We(Q)?Q/te:1)/te,")"))}return A&&Z.push("rotate(".concat(A,", ").concat(U,", ").concat(O,")")),Z.length&&(I.transform=Z.join(" ")),ee.createElement("text",a1({},Dt(I,!0),{x:U,y:O,className:Yt("recharts-text",T),textAnchor:w,fill:S.includes("url")?FO:S}),P.map(function(Y,ie){var W=Y.words.join(R?"":" ");return ee.createElement("tspan",{x:U,dy:ie===0?B:c,key:"".concat(W,"-").concat(ie)},W)}))};function es(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fre(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NS(e){let t,r,n;e.length!==2?(t=es,r=(c,d)=>es(e(c),d),n=(c,d)=>e(c)-d):(t=e===es||e===fre?e:hre,r=e,n=e);function a(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;r(c[m],d)<0?f=m+1:h=m}while(f<h)}return f}function i(c,d,f=0,h=c.length){if(f<h){if(t(d,d)!==0)return h;do{const m=f+h>>>1;r(c[m],d)<=0?f=m+1:h=m}while(f<h)}return f}function s(c,d,f=0,h=c.length){const m=a(c,d,f,h-1);return m>f&&n(c[m-1],d)>-n(c[m],d)?m-1:m}return{left:a,center:s,right:i}}function hre(){return 0}function m3(e){return e===null?NaN:+e}function*mre(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const pre=NS(es),$f=pre.right;NS(m3).center;class BO extends Map{constructor(t,r=yre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(UO(this,t))}has(t){return super.has(UO(this,t))}set(t,r){return super.set(gre(this,t),r)}delete(t){return super.delete(vre(this,t))}}function UO({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function gre({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function vre({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function yre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function xre(e=es){if(e===es)return p3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function p3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const bre=Math.sqrt(50),wre=Math.sqrt(10),_re=Math.sqrt(2);function ip(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=bre?10:i>=wre?5:i>=_re?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/s,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*s,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?ip(e,t,r*2):[c,d,f]}function i1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?ip(t,e,r):ip(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(s<0)for(let f=0;f<c;++f)d[f]=(i-f)/-s;else for(let f=0;f<c;++f)d[f]=(i-f)*s;else if(s<0)for(let f=0;f<c;++f)d[f]=(a+f)/-s;else for(let f=0;f<c;++f)d[f]=(a+f)*s;return d}function o1(e,t,r){return t=+t,e=+e,r=+r,ip(e,t,r)[2]}function s1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?o1(t,e,r):o1(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function zO(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function qO(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function g3(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?p3:xre(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,h=Math.log(d),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(d-m)/d)*(f-d/2<0?-1:1),w=Math.max(r,Math.floor(t-f*m/d+g)),b=Math.min(n,Math.floor(t+(d-f)*m/d+g));g3(e,t,w,b,a)}const i=e[t];let s=r,c=n;for(ed(e,r,t),a(e[n],i)>0&&ed(e,r,n);s<c;){for(ed(e,s,c),++s,--c;a(e[s],i)<0;)++s;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?ed(e,r,c):(++c,ed(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function ed(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jre(e,t,r){if(e=Float64Array.from(mre(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return qO(e);if(t>=1)return zO(e);var n,a=(n-1)*t,i=Math.floor(a),s=zO(g3(e,i).subarray(0,i+1)),c=qO(e.subarray(i+1));return s+(c-s)*(a-i)}}function Sre(e,t,r=m3){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return s+(c-s)*(a-i)}}function Nre(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function vo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const l1=Symbol("implicit");function CS(){var e=new BO,t=[],r=[],n=l1;function a(i){let s=e.get(i);if(s===void 0){if(n!==l1)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new BO;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return CS(t,r).unknown(n)},Ia.apply(a,arguments),a}function Vd(){var e=CS().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,c=!1,d=0,f=0,h=.5;delete e.unknown;function m(){var g=t().length,w=a<n,b=w?a:n,x=w?n:a;i=(x-b)/Math.max(1,g-d+f*2),c&&(i=Math.floor(i)),b+=(x-b-i*(g-d))*h,s=i*(1-d),c&&(b=Math.round(b),s=Math.round(s));var _=Nre(g).map(function(S){return b+i*S});return r(w?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},e.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,c=!0,m()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(g){return arguments.length?(c=!!g,m()):c},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},e.copy=function(){return Vd(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(h)},Ia.apply(m(),arguments)}function v3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return v3(t())},e}function jd(){return v3(Vd.apply(null,arguments).paddingInner(1))}function PS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function y3(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lf(){}var Gd=.7,op=1/Gd,vc="\\s*([+-]?\\d+)\\s*",Kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cre=/^#([0-9a-f]{3,8})$/,Pre=new RegExp(`^rgb\\(${vc},${vc},${vc}\\)$`),kre=new RegExp(`^rgb\\(${Pi},${Pi},${Pi}\\)$`),Are=new RegExp(`^rgba\\(${vc},${vc},${vc},${Kd}\\)$`),Ere=new RegExp(`^rgba\\(${Pi},${Pi},${Pi},${Kd}\\)$`),Ore=new RegExp(`^hsl\\(${Kd},${Pi},${Pi}\\)$`),Tre=new RegExp(`^hsla\\(${Kd},${Pi},${Pi},${Kd}\\)$`),WO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};PS(Lf,Yd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HO,formatHex:HO,formatHex8:Mre,formatHsl:Rre,formatRgb:VO,toString:VO});function HO(){return this.rgb().formatHex()}function Mre(){return this.rgb().formatHex8()}function Rre(){return x3(this).formatHsl()}function VO(){return this.rgb().formatRgb()}function Yd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Cre.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?GO(t):r===3?new ia(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?fm(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?fm(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Pre.exec(e))?new ia(t[1],t[2],t[3],1):(t=kre.exec(e))?new ia(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Are.exec(e))?fm(t[1],t[2],t[3],t[4]):(t=Ere.exec(e))?fm(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ore.exec(e))?JO(t[1],t[2]/100,t[3]/100,1):(t=Tre.exec(e))?JO(t[1],t[2]/100,t[3]/100,t[4]):WO.hasOwnProperty(e)?GO(WO[e]):e==="transparent"?new ia(NaN,NaN,NaN,0):null}function GO(e){return new ia(e>>16&255,e>>8&255,e&255,1)}function fm(e,t,r,n){return n<=0&&(e=t=r=NaN),new ia(e,t,r,n)}function Dre(e){return e instanceof Lf||(e=Yd(e)),e?(e=e.rgb(),new ia(e.r,e.g,e.b,e.opacity)):new ia}function c1(e,t,r,n){return arguments.length===1?Dre(e):new ia(e,t,r,n??1)}function ia(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}PS(ia,c1,y3(Lf,{brighter(e){return e=e==null?op:Math.pow(op,e),new ia(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gd:Math.pow(Gd,e),new ia(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ia(Gs(this.r),Gs(this.g),Gs(this.b),sp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KO,formatHex:KO,formatHex8:Ire,formatRgb:YO,toString:YO}));function KO(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}`}function Ire(){return`#${Us(this.r)}${Us(this.g)}${Us(this.b)}${Us((isNaN(this.opacity)?1:this.opacity)*255)}`}function YO(){const e=sp(this.opacity);return`${e===1?"rgb(":"rgba("}${Gs(this.r)}, ${Gs(this.g)}, ${Gs(this.b)}${e===1?")":`, ${e})`}`}function sp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Us(e){return e=Gs(e),(e<16?"0":"")+e.toString(16)}function JO(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Za(e,t,r,n)}function x3(e){if(e instanceof Za)return new Za(e.h,e.s,e.l,e.opacity);if(e instanceof Lf||(e=Yd(e)),!e)return new Za;if(e instanceof Za)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,c=i-a,d=(i+a)/2;return c?(t===i?s=(r-n)/c+(r<n)*6:r===i?s=(n-t)/c+2:s=(t-r)/c+4,c/=d<.5?i+a:2-i-a,s*=60):c=d>0&&d<1?0:s,new Za(s,c,d,e.opacity)}function $re(e,t,r,n){return arguments.length===1?x3(e):new Za(e,t,r,n??1)}function Za(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}PS(Za,$re,y3(Lf,{brighter(e){return e=e==null?op:Math.pow(op,e),new Za(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gd:Math.pow(Gd,e),new Za(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ia(ow(e>=240?e-240:e+120,a,n),ow(e,a,n),ow(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Za(XO(this.h),hm(this.s),hm(this.l),sp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sp(this.opacity);return`${e===1?"hsl(":"hsla("}${XO(this.h)}, ${hm(this.s)*100}%, ${hm(this.l)*100}%${e===1?")":`, ${e})`}`}}));function XO(e){return e=(e||0)%360,e<0?e+360:e}function hm(e){return Math.max(0,Math.min(1,e||0))}function ow(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const kS=e=>()=>e;function Lre(e,t){return function(r){return e+r*t}}function Fre(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Bre(e){return(e=+e)==1?b3:function(t,r){return r-t?Fre(t,r,e):kS(isNaN(t)?r:t)}}function b3(e,t){var r=t-e;return r?Lre(e,r):kS(isNaN(e)?t:e)}const QO=function e(t){var r=Bre(t);function n(a,i){var s=r((a=c1(a)).r,(i=c1(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),f=b3(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=c(h),a.b=d(h),a.opacity=f(h),a+""}}return n.gamma=e,n}(1);function Ure(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function zre(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qre(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=hu(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(c){for(s=0;s<n;++s)i[s]=a[s](c);return i}}function Wre(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function lp(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Hre(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=hu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var u1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sw=new RegExp(u1.source,"g");function Vre(e){return function(){return e}}function Gre(e){return function(t){return e(t)+""}}function Kre(e,t){var r=u1.lastIndex=sw.lastIndex=0,n,a,i,s=-1,c=[],d=[];for(e=e+"",t=t+"";(n=u1.exec(e))&&(a=sw.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[s]?c[s]+=i:c[++s]=i),(n=n[0])===(a=a[0])?c[s]?c[s]+=a:c[++s]=a:(c[++s]=null,d.push({i:s,x:lp(n,a)})),r=sw.lastIndex;return r<t.length&&(i=t.slice(r),c[s]?c[s]+=i:c[++s]=i),c.length<2?d[0]?Gre(d[0].x):Vre(t):(t=d.length,function(f){for(var h=0,m;h<t;++h)c[(m=d[h]).i]=m.x(f);return c.join("")})}function hu(e,t){var r=typeof t,n;return t==null||r==="boolean"?kS(t):(r==="number"?lp:r==="string"?(n=Yd(t))?(t=n,QO):Kre:t instanceof Yd?QO:t instanceof Date?Wre:zre(t)?Ure:Array.isArray(t)?qre:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Hre:lp)(e,t)}function AS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Yre(e,t){t===void 0&&(t=e,e=hu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var c=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[c](s-c)}}function Jre(e){return function(){return e}}function cp(e){return+e}var ZO=[0,1];function Hn(e){return e}function d1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Jre(isNaN(t)?NaN:.5)}function Xre(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Qre(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=d1(a,n),i=r(s,i)):(n=d1(n,a),i=r(i,s)),function(c){return i(n(c))}}function Zre(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=d1(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(c){var d=$f(e,c,1,n)-1;return i[d](a[d](c))}}function Ff(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Eg(){var e=ZO,t=ZO,r=hu,n,a,i,s=Hn,c,d,f;function h(){var g=Math.min(e.length,t.length);return s!==Hn&&(s=Xre(e[0],e[g-1])),c=g>2?Zre:Qre,d=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(d||(d=c(e.map(n),t,r)))(n(s(g)))}return m.invert=function(g){return s(a((f||(f=c(t,e.map(n),lp)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,cp),h()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),r=AS,h()},m.clamp=function(g){return arguments.length?(s=g?!0:Hn,h()):s!==Hn},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,w){return n=g,a=w,h()}}function ES(){return Eg()(Hn,Hn)}function ene(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function up(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ec(e){return e=up(Math.abs(e)),e?e[1]:NaN}function tne(e,t){return function(r,n){for(var a=r.length,i=[],s=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[s=(s+1)%e.length];return i.reverse().join(t)}}function rne(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var nne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jd(e){if(!(t=nne.exec(e)))throw new Error("invalid format: "+e);var t;return new OS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jd.prototype=OS.prototype;function OS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}OS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ane(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var w3;function ine(e,t){var r=up(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(w3=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+up(e,Math.max(0,t+i-1))[0]}function eT(e,t){var r=up(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const tT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ene,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eT(e*100,t),r:eT,s:ine,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rT(e){return e}var nT=Array.prototype.map,aT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function one(e){var t=e.grouping===void 0||e.thousands===void 0?rT:tne(nT.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?rT:rne(nT.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Jd(m);var g=m.fill,w=m.align,b=m.sign,x=m.symbol,_=m.zero,S=m.width,N=m.comma,P=m.precision,k=m.trim,C=m.type;C==="n"?(N=!0,C="g"):tT[C]||(P===void 0&&(P=12),k=!0,C="g"),(_||g==="0"&&w==="=")&&(_=!0,g="0",w="=");var A=x==="$"?r:x==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=x==="$"?n:/[%p]/.test(C)?s:"",R=tT[C],I=/[defgprs%]/.test(C);P=P===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function U(O){var B=A,Z=T,te,Q,Y;if(C==="c")Z=R(O)+Z,O="";else{O=+O;var ie=O<0||1/O<0;if(O=isNaN(O)?d:R(Math.abs(O),P),k&&(O=ane(O)),ie&&+O==0&&b!=="+"&&(ie=!1),B=(ie?b==="("?b:c:b==="-"||b==="("?"":b)+B,Z=(C==="s"?aT[8+w3/3]:"")+Z+(ie&&b==="("?")":""),I){for(te=-1,Q=O.length;++te<Q;)if(Y=O.charCodeAt(te),48>Y||Y>57){Z=(Y===46?a+O.slice(te+1):O.slice(te))+Z,O=O.slice(0,te);break}}}N&&!_&&(O=t(O,1/0));var W=B.length+O.length+Z.length,V=W<S?new Array(S-W+1).join(g):"";switch(N&&_&&(O=t(V+O,V.length?S-Z.length:1/0),V=""),w){case"<":O=B+O+Z+V;break;case"=":O=B+V+O+Z;break;case"^":O=V.slice(0,W=V.length>>1)+B+O+Z+V.slice(W);break;default:O=V+B+O+Z;break}return i(O)}return U.toString=function(){return m+""},U}function h(m,g){var w=f((m=Jd(m),m.type="f",m)),b=Math.max(-8,Math.min(8,Math.floor(Ec(g)/3)))*3,x=Math.pow(10,-b),_=aT[8+b/3];return function(S){return w(x*S)+_}}return{format:f,formatPrefix:h}}var mm,TS,_3;sne({thousands:",",grouping:[3],currency:["$",""]});function sne(e){return mm=one(e),TS=mm.format,_3=mm.formatPrefix,mm}function lne(e){return Math.max(0,-Ec(Math.abs(e)))}function cne(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ec(t)/3)))*3-Ec(Math.abs(e)))}function une(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ec(t)-Ec(e))+1}function j3(e,t,r,n){var a=s1(e,t,r),i;switch(n=Jd(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=cne(a,s))&&(n.precision=i),_3(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=une(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=lne(a))&&(n.precision=i-(n.type==="%")*2);break}}return TS(n)}function ds(e){var t=e.domain;return e.ticks=function(r){var n=t();return i1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return j3(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],c=n[i],d,f,h=10;for(c<s&&(f=s,s=c,c=f,f=a,a=i,i=f);h-- >0;){if(f=o1(s,c,r),f===d)return n[a]=s,n[i]=c,t(n);if(f>0)s=Math.floor(s/f)*f,c=Math.ceil(c/f)*f;else if(f<0)s=Math.ceil(s*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function dp(){var e=ES();return e.copy=function(){return Ff(e,dp())},Ia.apply(e,arguments),ds(e)}function S3(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,cp),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return S3(e).unknown(t)},e=arguments.length?Array.from(e,cp):[0,1],ds(r)}function N3(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function iT(e){return Math.log(e)}function oT(e){return Math.exp(e)}function dne(e){return-Math.log(-e)}function fne(e){return-Math.exp(-e)}function hne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function mne(e){return e===10?hne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function pne(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sT(e){return(t,r)=>-e(-t,r)}function MS(e){const t=e(iT,oT),r=t.domain;let n=10,a,i;function s(){return a=pne(n),i=mne(n),r()[0]<0?(a=sT(a),i=sT(i),e(dne,fne)):e(iT,oT),t}return t.base=function(c){return arguments.length?(n=+c,s()):n},t.domain=function(c){return arguments.length?(r(c),s()):r()},t.ticks=c=>{const d=r();let f=d[0],h=d[d.length-1];const m=h<f;m&&([f,h]=[h,f]);let g=a(f),w=a(h),b,x;const _=c==null?10:+c;let S=[];if(!(n%1)&&w-g<_){if(g=Math.floor(g),w=Math.ceil(w),f>0){for(;g<=w;++g)for(b=1;b<n;++b)if(x=g<0?b/i(-g):b*i(g),!(x<f)){if(x>h)break;S.push(x)}}else for(;g<=w;++g)for(b=n-1;b>=1;--b)if(x=g>0?b/i(-g):b*i(g),!(x<f)){if(x>h)break;S.push(x)}S.length*2<_&&(S=i1(f,h,_))}else S=i1(g,w,Math.min(w-g,_)).map(i);return m?S.reverse():S},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=Jd(d)).precision==null&&(d.trim=!0),d=TS(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return h=>{let m=h/i(Math.round(a(h)));return m*n<n-.5&&(m*=n),m<=f?d(h):""}},t.nice=()=>r(N3(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function C3(){const e=MS(Eg()).domain([1,10]);return e.copy=()=>Ff(e,C3()).base(e.base()),Ia.apply(e,arguments),e}function lT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function RS(e){var t=1,r=e(lT(t),cT(t));return r.constant=function(n){return arguments.length?e(lT(t=+n),cT(t)):t},ds(r)}function P3(){var e=RS(Eg());return e.copy=function(){return Ff(e,P3()).constant(e.constant())},Ia.apply(e,arguments)}function uT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function gne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function vne(e){return e<0?-e*e:e*e}function DS(e){var t=e(Hn,Hn),r=1;function n(){return r===1?e(Hn,Hn):r===.5?e(gne,vne):e(uT(r),uT(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ds(t)}function IS(){var e=DS(Eg());return e.copy=function(){return Ff(e,IS()).exponent(e.exponent())},Ia.apply(e,arguments),e}function yne(){return IS.apply(null,arguments).exponent(.5)}function dT(e){return Math.sign(e)*e*e}function xne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function k3(){var e=ES(),t=[0,1],r=!1,n;function a(i){var s=xne(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(dT(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,cp)).map(dT)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return k3(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ia.apply(a,arguments),ds(a)}function A3(){var e=[],t=[],r=[],n;function a(){var s=0,c=Math.max(1,t.length);for(r=new Array(c-1);++s<c;)r[s-1]=Sre(e,s/c);return i}function i(s){return s==null||isNaN(s=+s)?n:t[$f(r,s)]}return i.invertExtent=function(s){var c=t.indexOf(s);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let c of s)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(es),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return A3().domain(e).range(t).unknown(n)},Ia.apply(i,arguments)}function E3(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(d){return d!=null&&d<=d?a[$f(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return s}return s.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},s.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},s.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},s.unknown=function(d){return arguments.length&&(i=d),s},s.thresholds=function(){return n.slice()},s.copy=function(){return E3().domain([e,t]).range(a).unknown(i)},Ia.apply(ds(s),arguments)}function O3(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[$f(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return O3().domain(e).range(t).unknown(r)},Ia.apply(a,arguments)}const lw=new Date,cw=new Date;function on(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),c=a.ceil(i);return i-s<c-i?s:c},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<s)||!(c>0))return d;let f;do d.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<s);return d},a.filter=i=>on(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;t(s,-1),!i(s););else for(;--c>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(lw.setTime(+i),cw.setTime(+s),e(lw),e(cw),Math.floor(r(lw,cw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const fp=on(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);fp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?on(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):fp);fp.range;const Ji=1e3,Aa=Ji*60,Xi=Aa*60,co=Xi*24,$S=co*7,fT=co*30,uw=co*365,zs=on(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ji)},(e,t)=>(t-e)/Ji,e=>e.getUTCSeconds());zs.range;const LS=on(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getMinutes());LS.range;const FS=on(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Aa)},(e,t)=>(t-e)/Aa,e=>e.getUTCMinutes());FS.range;const BS=on(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ji-e.getMinutes()*Aa)},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getHours());BS.range;const US=on(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getUTCHours());US.range;const Bf=on(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Aa)/co,e=>e.getDate()-1);Bf.range;const Og=on(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/co,e=>e.getUTCDate()-1);Og.range;const T3=on(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/co,e=>Math.floor(e/co));T3.range;function pl(e){return on(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Aa)/$S)}const Tg=pl(0),hp=pl(1),bne=pl(2),wne=pl(3),Oc=pl(4),_ne=pl(5),jne=pl(6);Tg.range;hp.range;bne.range;wne.range;Oc.range;_ne.range;jne.range;function gl(e){return on(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/$S)}const Mg=gl(0),mp=gl(1),Sne=gl(2),Nne=gl(3),Tc=gl(4),Cne=gl(5),Pne=gl(6);Mg.range;mp.range;Sne.range;Nne.range;Tc.range;Cne.range;Pne.range;const zS=on(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zS.range;const qS=on(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());qS.range;const uo=on(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());uo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:on(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});uo.range;const fo=on(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:on(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});fo.range;function M3(e,t,r,n,a,i){const s=[[zs,1,Ji],[zs,5,5*Ji],[zs,15,15*Ji],[zs,30,30*Ji],[i,1,Aa],[i,5,5*Aa],[i,15,15*Aa],[i,30,30*Aa],[a,1,Xi],[a,3,3*Xi],[a,6,6*Xi],[a,12,12*Xi],[n,1,co],[n,2,2*co],[r,1,$S],[t,1,fT],[t,3,3*fT],[e,1,uw]];function c(f,h,m){const g=h<f;g&&([f,h]=[h,f]);const w=m&&typeof m.range=="function"?m:d(f,h,m),b=w?w.range(f,+h+1):[];return g?b.reverse():b}function d(f,h,m){const g=Math.abs(h-f)/m,w=NS(([,,_])=>_).right(s,g);if(w===s.length)return e.every(s1(f/uw,h/uw,m));if(w===0)return fp.every(Math.max(s1(f,h,m),1));const[b,x]=s[g/s[w-1][2]<s[w][2]/g?w-1:w];return b.every(x)}return[c,d]}const[kne,Ane]=M3(fo,qS,Mg,T3,US,FS),[Ene,One]=M3(uo,zS,Tg,Bf,BS,LS);function dw(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fw(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function td(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Tne(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,c=e.months,d=e.shortMonths,f=rd(a),h=nd(a),m=rd(i),g=nd(i),w=rd(s),b=nd(s),x=rd(c),_=nd(c),S=rd(d),N=nd(d),P={a:ie,A:W,b:V,B:F,c:null,d:yT,e:yT,f:tae,g:dae,G:hae,H:Qne,I:Zne,j:eae,L:R3,m:rae,M:nae,p:L,q:J,Q:wT,s:_T,S:aae,u:iae,U:oae,V:sae,w:lae,W:cae,x:null,X:null,y:uae,Y:fae,Z:mae,"%":bT},k={a:G,A:de,b:Ce,B:q,c:null,d:xT,e:xT,f:yae,g:kae,G:Eae,H:pae,I:gae,j:vae,L:I3,m:xae,M:bae,p:ae,q:Ae,Q:wT,s:_T,S:wae,u:_ae,U:jae,V:Sae,w:Nae,W:Cae,x:null,X:null,y:Pae,Y:Aae,Z:Oae,"%":bT},C={a:U,A:O,b:B,B:Z,c:te,d:gT,e:gT,f:Kne,g:pT,G:mT,H:vT,I:vT,j:Wne,L:Gne,m:qne,M:Hne,p:I,q:zne,Q:Jne,s:Xne,S:Vne,u:$ne,U:Lne,V:Fne,w:Ine,W:Bne,x:Q,X:Y,y:pT,Y:mT,Z:Une,"%":Yne};P.x=A(r,P),P.X=A(n,P),P.c=A(t,P),k.x=A(r,k),k.X=A(n,k),k.c=A(t,k);function A(K,_e){return function(Me){var pe=[],Qe=-1,ze=0,re=K.length,Ct,Vt,Pt;for(Me instanceof Date||(Me=new Date(+Me));++Qe<re;)K.charCodeAt(Qe)===37&&(pe.push(K.slice(ze,Qe)),(Vt=hT[Ct=K.charAt(++Qe)])!=null?Ct=K.charAt(++Qe):Vt=Ct==="e"?" ":"0",(Pt=_e[Ct])&&(Ct=Pt(Me,Vt)),pe.push(Ct),ze=Qe+1);return pe.push(K.slice(ze,Qe)),pe.join("")}}function T(K,_e){return function(Me){var pe=td(1900,void 0,1),Qe=R(pe,K,Me+="",0),ze,re;if(Qe!=Me.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(_e&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(ze=fw(td(pe.y,0,1)),re=ze.getUTCDay(),ze=re>4||re===0?mp.ceil(ze):mp(ze),ze=Og.offset(ze,(pe.V-1)*7),pe.y=ze.getUTCFullYear(),pe.m=ze.getUTCMonth(),pe.d=ze.getUTCDate()+(pe.w+6)%7):(ze=dw(td(pe.y,0,1)),re=ze.getDay(),ze=re>4||re===0?hp.ceil(ze):hp(ze),ze=Bf.offset(ze,(pe.V-1)*7),pe.y=ze.getFullYear(),pe.m=ze.getMonth(),pe.d=ze.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),re="Z"in pe?fw(td(pe.y,0,1)).getUTCDay():dw(td(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(re+5)%7:pe.w+pe.U*7-(re+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,fw(pe)):dw(pe)}}function R(K,_e,Me,pe){for(var Qe=0,ze=_e.length,re=Me.length,Ct,Vt;Qe<ze;){if(pe>=re)return-1;if(Ct=_e.charCodeAt(Qe++),Ct===37){if(Ct=_e.charAt(Qe++),Vt=C[Ct in hT?_e.charAt(Qe++):Ct],!Vt||(pe=Vt(K,Me,pe))<0)return-1}else if(Ct!=Me.charCodeAt(pe++))return-1}return pe}function I(K,_e,Me){var pe=f.exec(_e.slice(Me));return pe?(K.p=h.get(pe[0].toLowerCase()),Me+pe[0].length):-1}function U(K,_e,Me){var pe=w.exec(_e.slice(Me));return pe?(K.w=b.get(pe[0].toLowerCase()),Me+pe[0].length):-1}function O(K,_e,Me){var pe=m.exec(_e.slice(Me));return pe?(K.w=g.get(pe[0].toLowerCase()),Me+pe[0].length):-1}function B(K,_e,Me){var pe=S.exec(_e.slice(Me));return pe?(K.m=N.get(pe[0].toLowerCase()),Me+pe[0].length):-1}function Z(K,_e,Me){var pe=x.exec(_e.slice(Me));return pe?(K.m=_.get(pe[0].toLowerCase()),Me+pe[0].length):-1}function te(K,_e,Me){return R(K,t,_e,Me)}function Q(K,_e,Me){return R(K,r,_e,Me)}function Y(K,_e,Me){return R(K,n,_e,Me)}function ie(K){return s[K.getDay()]}function W(K){return i[K.getDay()]}function V(K){return d[K.getMonth()]}function F(K){return c[K.getMonth()]}function L(K){return a[+(K.getHours()>=12)]}function J(K){return 1+~~(K.getMonth()/3)}function G(K){return s[K.getUTCDay()]}function de(K){return i[K.getUTCDay()]}function Ce(K){return d[K.getUTCMonth()]}function q(K){return c[K.getUTCMonth()]}function ae(K){return a[+(K.getUTCHours()>=12)]}function Ae(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var _e=A(K+="",P);return _e.toString=function(){return K},_e},parse:function(K){var _e=T(K+="",!1);return _e.toString=function(){return K},_e},utcFormat:function(K){var _e=A(K+="",k);return _e.toString=function(){return K},_e},utcParse:function(K){var _e=T(K+="",!0);return _e.toString=function(){return K},_e}}}var hT={"-":"",_:" ",0:"0"},gn=/^\s*\d+/,Mne=/^%/,Rne=/[\\^$*+?|[\]().{}]/g;function ar(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Dne(e){return e.replace(Rne,"\\$&")}function rd(e){return new RegExp("^(?:"+e.map(Dne).join("|")+")","i")}function nd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ine(e,t,r){var n=gn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function $ne(e,t,r){var n=gn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Lne(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Fne(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Bne(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function mT(e,t,r){var n=gn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function pT(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Une(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function zne(e,t,r){var n=gn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qne(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gT(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Wne(e,t,r){var n=gn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function vT(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Hne(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Vne(e,t,r){var n=gn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Gne(e,t,r){var n=gn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Kne(e,t,r){var n=gn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Yne(e,t,r){var n=Mne.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Jne(e,t,r){var n=gn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Xne(e,t,r){var n=gn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function yT(e,t){return ar(e.getDate(),t,2)}function Qne(e,t){return ar(e.getHours(),t,2)}function Zne(e,t){return ar(e.getHours()%12||12,t,2)}function eae(e,t){return ar(1+Bf.count(uo(e),e),t,3)}function R3(e,t){return ar(e.getMilliseconds(),t,3)}function tae(e,t){return R3(e,t)+"000"}function rae(e,t){return ar(e.getMonth()+1,t,2)}function nae(e,t){return ar(e.getMinutes(),t,2)}function aae(e,t){return ar(e.getSeconds(),t,2)}function iae(e){var t=e.getDay();return t===0?7:t}function oae(e,t){return ar(Tg.count(uo(e)-1,e),t,2)}function D3(e){var t=e.getDay();return t>=4||t===0?Oc(e):Oc.ceil(e)}function sae(e,t){return e=D3(e),ar(Oc.count(uo(e),e)+(uo(e).getDay()===4),t,2)}function lae(e){return e.getDay()}function cae(e,t){return ar(hp.count(uo(e)-1,e),t,2)}function uae(e,t){return ar(e.getFullYear()%100,t,2)}function dae(e,t){return e=D3(e),ar(e.getFullYear()%100,t,2)}function fae(e,t){return ar(e.getFullYear()%1e4,t,4)}function hae(e,t){var r=e.getDay();return e=r>=4||r===0?Oc(e):Oc.ceil(e),ar(e.getFullYear()%1e4,t,4)}function mae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ar(t/60|0,"0",2)+ar(t%60,"0",2)}function xT(e,t){return ar(e.getUTCDate(),t,2)}function pae(e,t){return ar(e.getUTCHours(),t,2)}function gae(e,t){return ar(e.getUTCHours()%12||12,t,2)}function vae(e,t){return ar(1+Og.count(fo(e),e),t,3)}function I3(e,t){return ar(e.getUTCMilliseconds(),t,3)}function yae(e,t){return I3(e,t)+"000"}function xae(e,t){return ar(e.getUTCMonth()+1,t,2)}function bae(e,t){return ar(e.getUTCMinutes(),t,2)}function wae(e,t){return ar(e.getUTCSeconds(),t,2)}function _ae(e){var t=e.getUTCDay();return t===0?7:t}function jae(e,t){return ar(Mg.count(fo(e)-1,e),t,2)}function $3(e){var t=e.getUTCDay();return t>=4||t===0?Tc(e):Tc.ceil(e)}function Sae(e,t){return e=$3(e),ar(Tc.count(fo(e),e)+(fo(e).getUTCDay()===4),t,2)}function Nae(e){return e.getUTCDay()}function Cae(e,t){return ar(mp.count(fo(e)-1,e),t,2)}function Pae(e,t){return ar(e.getUTCFullYear()%100,t,2)}function kae(e,t){return e=$3(e),ar(e.getUTCFullYear()%100,t,2)}function Aae(e,t){return ar(e.getUTCFullYear()%1e4,t,4)}function Eae(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Tc(e):Tc.ceil(e),ar(e.getUTCFullYear()%1e4,t,4)}function Oae(){return"+0000"}function bT(){return"%"}function wT(e){return+e}function _T(e){return Math.floor(+e/1e3)}var nc,L3,F3;Tae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tae(e){return nc=Tne(e),L3=nc.format,nc.parse,F3=nc.utcFormat,nc.utcParse,nc}function Mae(e){return new Date(e)}function Rae(e){return e instanceof Date?+e:+new Date(+e)}function WS(e,t,r,n,a,i,s,c,d,f){var h=ES(),m=h.invert,g=h.domain,w=f(".%L"),b=f(":%S"),x=f("%I:%M"),_=f("%I %p"),S=f("%a %d"),N=f("%b %d"),P=f("%B"),k=f("%Y");function C(A){return(d(A)<A?w:c(A)<A?b:s(A)<A?x:i(A)<A?_:n(A)<A?a(A)<A?S:N:r(A)<A?P:k)(A)}return h.invert=function(A){return new Date(m(A))},h.domain=function(A){return arguments.length?g(Array.from(A,Rae)):g().map(Mae)},h.ticks=function(A){var T=g();return e(T[0],T[T.length-1],A??10)},h.tickFormat=function(A,T){return T==null?C:f(T)},h.nice=function(A){var T=g();return(!A||typeof A.range!="function")&&(A=t(T[0],T[T.length-1],A??10)),A?g(N3(T,A)):h},h.copy=function(){return Ff(h,WS(e,t,r,n,a,i,s,c,d,f))},h}function Dae(){return Ia.apply(WS(Ene,One,uo,zS,Tg,Bf,BS,LS,zs,L3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Iae(){return Ia.apply(WS(kne,Ane,fo,qS,Mg,Og,US,FS,zs,F3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rg(){var e=0,t=1,r,n,a,i,s=Hn,c=!1,d;function f(m){return m==null||isNaN(m=+m)?d:s(a===0?.5:(m=(i(m)-r)*a,c?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(m){return arguments.length?(c=!!m,f):c},f.interpolator=function(m){return arguments.length?(s=m,f):s};function h(m){return function(g){var w,b;return arguments.length?([w,b]=g,s=m(w,b),f):[s(0),s(1)]}}return f.range=h(hu),f.rangeRound=h(AS),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return i=m,r=m(e),n=m(t),a=r===n?0:1/(n-r),f}}function fs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function B3(){var e=ds(Rg()(Hn));return e.copy=function(){return fs(e,B3())},vo.apply(e,arguments)}function U3(){var e=MS(Rg()).domain([1,10]);return e.copy=function(){return fs(e,U3()).base(e.base())},vo.apply(e,arguments)}function z3(){var e=RS(Rg());return e.copy=function(){return fs(e,z3()).constant(e.constant())},vo.apply(e,arguments)}function HS(){var e=DS(Rg());return e.copy=function(){return fs(e,HS()).exponent(e.exponent())},vo.apply(e,arguments)}function $ae(){return HS.apply(null,arguments).exponent(.5)}function q3(){var e=[],t=Hn;function r(n){if(n!=null&&!isNaN(n=+n))return t(($f(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(es),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>jre(e,i/n))},r.copy=function(){return q3(t).domain(e)},vo.apply(r,arguments)}function Dg(){var e=0,t=.5,r=1,n=1,a,i,s,c,d,f=Hn,h,m=!1,g;function w(x){return isNaN(x=+x)?g:(x=.5+((x=+h(x))-i)*(n*x<n*i?c:d),f(m?Math.max(0,Math.min(1,x)):x))}w.domain=function(x){return arguments.length?([e,t,r]=x,a=h(e=+e),i=h(t=+t),s=h(r=+r),c=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),n=i<a?-1:1,w):[e,t,r]},w.clamp=function(x){return arguments.length?(m=!!x,w):m},w.interpolator=function(x){return arguments.length?(f=x,w):f};function b(x){return function(_){var S,N,P;return arguments.length?([S,N,P]=_,f=Yre(x,[S,N,P]),w):[f(0),f(.5),f(1)]}}return w.range=b(hu),w.rangeRound=b(AS),w.unknown=function(x){return arguments.length?(g=x,w):g},function(x){return h=x,a=x(e),i=x(t),s=x(r),c=a===i?0:.5/(i-a),d=i===s?0:.5/(s-i),n=i<a?-1:1,w}}function W3(){var e=ds(Dg()(Hn));return e.copy=function(){return fs(e,W3())},vo.apply(e,arguments)}function H3(){var e=MS(Dg()).domain([.1,1,10]);return e.copy=function(){return fs(e,H3()).base(e.base())},vo.apply(e,arguments)}function V3(){var e=RS(Dg());return e.copy=function(){return fs(e,V3()).constant(e.constant())},vo.apply(e,arguments)}function VS(){var e=DS(Dg());return e.copy=function(){return fs(e,VS()).exponent(e.exponent())},vo.apply(e,arguments)}function Lae(){return VS.apply(null,arguments).exponent(.5)}const jT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vd,scaleDiverging:W3,scaleDivergingLog:H3,scaleDivergingPow:VS,scaleDivergingSqrt:Lae,scaleDivergingSymlog:V3,scaleIdentity:S3,scaleImplicit:l1,scaleLinear:dp,scaleLog:C3,scaleOrdinal:CS,scalePoint:jd,scalePow:IS,scaleQuantile:A3,scaleQuantize:E3,scaleRadial:k3,scaleSequential:B3,scaleSequentialLog:U3,scaleSequentialPow:HS,scaleSequentialQuantile:q3,scaleSequentialSqrt:$ae,scaleSequentialSymlog:z3,scaleSqrt:yne,scaleSymlog:P3,scaleThreshold:O3,scaleTime:Dae,scaleUtc:Iae,tickFormat:j3},Symbol.toStringTag,{value:"Module"}));var hw,ST;function G3(){if(ST)return hw;ST=1;var e=lu();function t(r,n,a){for(var i=-1,s=r.length;++i<s;){var c=r[i],d=n(c);if(d!=null&&(f===void 0?d===d&&!e(d):a(d,f)))var f=d,h=c}return h}return hw=t,hw}var mw,NT;function Fae(){if(NT)return mw;NT=1;function e(t,r){return t>r}return mw=e,mw}var pw,CT;function Bae(){if(CT)return pw;CT=1;var e=G3(),t=Fae(),r=fu();function n(a){return a&&a.length?e(a,r,t):void 0}return pw=n,pw}var Uae=Bae();const Xo=cr(Uae);var gw,PT;function zae(){if(PT)return gw;PT=1;function e(t,r){return t<r}return gw=e,gw}var vw,kT;function qae(){if(kT)return vw;kT=1;var e=G3(),t=zae(),r=fu();function n(a){return a&&a.length?e(a,r,t):void 0}return vw=n,vw}var Wae=qae();const Ig=cr(Wae);var yw,AT;function Hae(){if(AT)return yw;AT=1;var e=lS(),t=us(),r=t3(),n=oa();function a(i,s){var c=n(i)?e:r;return c(i,t(s,3))}return yw=a,yw}var xw,ET;function Vae(){if(ET)return xw;ET=1;var e=Z4(),t=Hae();function r(n,a){return e(t(n,a),1)}return xw=r,xw}var Gae=Vae();const Kae=cr(Gae);var bw,OT;function Yae(){if(OT)return bw;OT=1;var e=wS();function t(r,n){return e(r,n)}return bw=t,bw}var Jae=Yae();const Mc=cr(Jae);var mu=1e9,Xae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KS,Mr=!0,Ra="[DecimalError] ",Ks=Ra+"Invalid argument: ",GS=Ra+"Exponent out of range: ",pu=Math.floor,Rs=Math.pow,Qae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,mn=1e7,Ar=7,K3=9007199254740991,pp=pu(K3/Ar),at={};at.absoluteValue=at.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};at.comparedTo=at.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};at.decimalPlaces=at.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ar;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};at.dividedBy=at.div=function(e){return no(this,new this.constructor(e))};at.dividedToIntegerBy=at.idiv=function(e){var t=this,r=t.constructor;return yr(no(t,new r(e),0,1),r.precision)};at.equals=at.eq=function(e){return!this.cmp(e)};at.exponent=function(){return Xr(this)};at.greaterThan=at.gt=function(e){return this.cmp(e)>0};at.greaterThanOrEqualTo=at.gte=function(e){return this.cmp(e)>=0};at.isInteger=at.isint=function(){return this.e>this.d.length-2};at.isNegative=at.isneg=function(){return this.s<0};at.isPositive=at.ispos=function(){return this.s>0};at.isZero=function(){return this.s===0};at.lessThan=at.lt=function(e){return this.cmp(e)<0};at.lessThanOrEqualTo=at.lte=function(e){return this.cmp(e)<1};at.logarithm=at.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ga))throw Error(Ra+"NaN");if(r.s<1)throw Error(Ra+(r.s?"NaN":"-Infinity"));return r.eq(ga)?new n(0):(Mr=!1,t=no(Xd(r,i),Xd(e,i),i),Mr=!0,yr(t,a))};at.minus=at.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?X3(t,e):Y3(t,(e.s=-e.s,e))};at.modulo=at.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ra+"NaN");return r.s?(Mr=!1,t=no(r,e,0,1).times(e),Mr=!0,r.minus(t)):yr(new n(r),a)};at.naturalExponential=at.exp=function(){return J3(this)};at.naturalLogarithm=at.ln=function(){return Xd(this)};at.negated=at.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};at.plus=at.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Y3(t,e):X3(t,(e.s=-e.s,e))};at.precision=at.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ks+e);if(t=Xr(a)+1,n=a.d.length-1,r=n*Ar+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};at.squareRoot=at.sqrt=function(){var e,t,r,n,a,i,s,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Ra+"NaN")}for(e=Xr(c),Mr=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=Si(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=pu((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=s=r+3;;)if(i=n,n=i.plus(no(c,i,s+2)).times(.5),Si(i.d).slice(0,s)===(t=Si(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(yr(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;s+=4}return Mr=!0,yr(n,r)};at.times=at.mul=function(e){var t,r,n,a,i,s,c,d,f,h=this,m=h.constructor,g=h.d,w=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,r=h.e+e.e,d=g.length,f=w.length,d<f&&(i=g,g=w,w=i,s=d,d=f,f=s),i=[],s=d+f,n=s;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=i[a]+w[n]*g[a-n-1]+t,i[a--]=c%mn|0,t=c/mn|0;i[a]=(i[a]+t)%mn|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Mr?yr(e,m.precision):e};at.toDecimalPlaces=at.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ei(e,0,mu),t===void 0?t=n.rounding:Ei(t,0,8),yr(r,e+Xr(r)+1,t))};at.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=al(n,!0):(Ei(e,0,mu),t===void 0?t=a.rounding:Ei(t,0,8),n=yr(new a(n),e+1,t),r=al(n,!0,e+1)),r};at.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?al(a):(Ei(e,0,mu),t===void 0?t=i.rounding:Ei(t,0,8),n=yr(new i(a),e+Xr(a)+1,t),r=al(n.abs(),!1,e+Xr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};at.toInteger=at.toint=function(){var e=this,t=e.constructor;return yr(new t(e),Xr(e)+1,t.rounding)};at.toNumber=function(){return+this};at.toPower=at.pow=function(e){var t,r,n,a,i,s,c=this,d=c.constructor,f=12,h=+(e=new d(e));if(!e.s)return new d(ga);if(c=new d(c),!c.s){if(e.s<1)throw Error(Ra+"Infinity");return c}if(c.eq(ga))return c;if(n=d.precision,e.eq(ga))return yr(c,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=c.s,s){if((r=h<0?-h:h)<=K3){for(a=new d(ga),t=Math.ceil(n/Ar+4),Mr=!1;r%2&&(a=a.times(c),MT(a.d,t)),r=pu(r/2),r!==0;)c=c.times(c),MT(c.d,t);return Mr=!0,e.s<0?new d(ga).div(a):yr(a,n)}}else if(i<0)throw Error(Ra+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,Mr=!1,a=e.times(Xd(c,n+f)),Mr=!0,a=J3(a),a.s=i,a};at.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Xr(a),n=al(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ei(e,1,mu),t===void 0?t=i.rounding:Ei(t,0,8),a=yr(new i(a),e,t),r=Xr(a),n=al(a,e<=r||r<=i.toExpNeg,e)),n};at.toSignificantDigits=at.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ei(e,1,mu),t===void 0?t=n.rounding:Ei(t,0,8)),yr(new n(r),e,t)};at.toString=at.valueOf=at.val=at.toJSON=at[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),r=e.constructor;return al(e,t<=r.toExpNeg||t>=r.toExpPos)};function Y3(e,t){var r,n,a,i,s,c,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Mr?yr(t,m):t;if(d=e.d,f=t.d,s=e.e,a=t.e,d=d.slice(),i=s-a,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,a=s,c=d.length),s=Math.ceil(m/Ar),c=s>c?s+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/mn|0,d[i]%=mn;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,Mr?yr(t,m):t}function Ei(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ks+e)}function Si(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Ar-n.length,r&&(i+=Vo(r)),i+=n;s=e[t],n=s+"",r=Ar-n.length,r&&(i+=Vo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var no=function(){function e(n,a){var i,s=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+s,n[c]=i%mn|0,s=i/mn|0;return s&&n.unshift(s),n}function t(n,a,i,s){var c,d;if(i!=s)d=i>s?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*mn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var c,d,f,h,m,g,w,b,x,_,S,N,P,k,C,A,T,R,I=n.constructor,U=n.s==a.s?1:-1,O=n.d,B=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(Ra+"Division by zero");for(d=n.e-a.e,T=B.length,C=O.length,w=new I(U),b=w.d=[],f=0;B[f]==(O[f]||0);)++f;if(B[f]>(O[f]||0)&&--d,i==null?N=i=I.precision:s?N=i+(Xr(n)-Xr(a))+1:N=i,N<0)return new I(0);if(N=N/Ar+2|0,f=0,T==1)for(h=0,B=B[0],N++;(f<C||h)&&N--;f++)P=h*mn+(O[f]||0),b[f]=P/B|0,h=P%B|0;else{for(h=mn/(B[0]+1)|0,h>1&&(B=e(B,h),O=e(O,h),T=B.length,C=O.length),k=T,x=O.slice(0,T),_=x.length;_<T;)x[_++]=0;R=B.slice(),R.unshift(0),A=B[0],B[1]>=mn/2&&++A;do h=0,c=t(B,x,T,_),c<0?(S=x[0],T!=_&&(S=S*mn+(x[1]||0)),h=S/A|0,h>1?(h>=mn&&(h=mn-1),m=e(B,h),g=m.length,_=x.length,c=t(m,x,g,_),c==1&&(h--,r(m,T<g?R:B,g))):(h==0&&(c=h=1),m=B.slice()),g=m.length,g<_&&m.unshift(0),r(x,m,_),c==-1&&(_=x.length,c=t(B,x,T,_),c<1&&(h++,r(x,T<_?R:B,_))),_=x.length):c===0&&(h++,x=[0]),b[f++]=h,c&&x[0]?x[_++]=O[k]||0:(x=[O[k]],_=1);while((k++<C||x[0]!==void 0)&&N--)}return b[0]||b.shift(),w.e=d,yr(w,s?i+Xr(w)+1:i)}}();function J3(e,t){var r,n,a,i,s,c,d=0,f=0,h=e.constructor,m=h.precision;if(Xr(e)>16)throw Error(GS+Xr(e));if(!e.s)return new h(ga);for(Mr=!1,c=m,s=new h(.03125);e.abs().gte(.1);)e=e.times(s),f+=5;for(n=Math.log(Rs(2,f))/Math.LN10*2+5|0,c+=n,r=a=i=new h(ga),h.precision=c;;){if(a=yr(a.times(e),c),r=r.times(++d),s=i.plus(no(a,r,c)),Si(s.d).slice(0,c)===Si(i.d).slice(0,c)){for(;f--;)i=yr(i.times(i),c);return h.precision=m,t==null?(Mr=!0,yr(i,m)):i}i=s}}function Xr(e){for(var t=e.e*Ar,r=e.d[0];r>=10;r/=10)t++;return t}function ww(e,t,r){if(t>e.LN10.sd())throw Mr=!0,r&&(e.precision=r),Error(Ra+"LN10 precision limit exceeded");return yr(new e(e.LN10),t)}function Vo(e){for(var t="";e--;)t+="0";return t}function Xd(e,t){var r,n,a,i,s,c,d,f,h,m=1,g=10,w=e,b=w.d,x=w.constructor,_=x.precision;if(w.s<1)throw Error(Ra+(w.s?"NaN":"-Infinity"));if(w.eq(ga))return new x(0);if(t==null?(Mr=!1,f=_):f=t,w.eq(10))return t==null&&(Mr=!0),ww(x,f);if(f+=g,x.precision=f,r=Si(b),n=r.charAt(0),i=Xr(w),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)w=w.times(e),r=Si(w.d),n=r.charAt(0),m++;i=Xr(w),n>1?(w=new x("0."+r),i++):w=new x(n+"."+r.slice(1))}else return d=ww(x,f+2,_).times(i+""),w=Xd(new x(n+"."+r.slice(1)),f-g).plus(d),x.precision=_,t==null?(Mr=!0,yr(w,_)):w;for(c=s=w=no(w.minus(ga),w.plus(ga),f),h=yr(w.times(w),f),a=3;;){if(s=yr(s.times(h),f),d=c.plus(no(s,new x(a),f)),Si(d.d).slice(0,f)===Si(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(ww(x,f+2,_).times(i+""))),c=no(c,new x(m),f),x.precision=_,t==null?(Mr=!0,yr(c,_)):c;c=d,a+=2}}function TT(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=pu(r/Ar),e.d=[],n=(r+1)%Ar,r<0&&(n+=Ar),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ar;n<a;)e.d.push(+t.slice(n,n+=Ar));t=t.slice(n),n=Ar-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Mr&&(e.e>pp||e.e<-pp))throw Error(GS+r)}else e.s=0,e.e=0,e.d=[0];return e}function yr(e,t,r){var n,a,i,s,c,d,f,h,m=e.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Ar,a=t,f=m[h=0];else{if(h=Math.ceil((n+1)/Ar),i=m.length,h>=i)return e;for(f=i=m[h],s=1;i>=10;i/=10)s++;n%=Ar,a=n-Ar+s}if(r!==void 0&&(i=Rs(10,s-a-1),c=f/i%10|0,d=t<0||m[h+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/Rs(10,s-a):0:m[h-1])%10&1||r==(e.s<0?8:7))),t<1||!m[0])return d?(i=Xr(e),m.length=1,t=t-i-1,m[0]=Rs(10,(Ar-t%Ar)%Ar),e.e=pu(-t/Ar)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=Rs(10,Ar-n),m[h]=a>0?(f/Rs(10,s-a)%Rs(10,a)|0)*i:0),d)for(;;)if(h==0){(m[0]+=i)==mn&&(m[0]=1,++e.e);break}else{if(m[h]+=i,m[h]!=mn)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(Mr&&(e.e>pp||e.e<-pp))throw Error(GS+Xr(e));return e}function X3(e,t){var r,n,a,i,s,c,d,f,h,m,g=e.constructor,w=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Mr?yr(t,w):t;if(d=e.d,m=t.d,n=t.e,f=e.e,d=d.slice(),s=f-n,s){for(h=s<0,h?(r=d,s=-s,c=m.length):(r=m,n=f,c=d.length),a=Math.max(Math.ceil(w/Ar),c)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=m.length,h=a<c,h&&(c=a),a=0;a<c;a++)if(d[a]!=m[a]){h=d[a]<m[a];break}s=0}for(h&&(r=d,d=m,m=r,t.s=-t.s),c=d.length,a=m.length-c;a>0;--a)d[c++]=0;for(a=m.length;a>s;){if(d[--a]<m[a]){for(i=a;i&&d[--i]===0;)d[i]=mn-1;--d[i],d[a]+=mn}d[a]-=m[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,Mr?yr(t,w):t):new g(0)}function al(e,t,r){var n,a=Xr(e),i=Si(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Vo(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Vo(-a-1)+i,r&&(n=r-s)>0&&(i+=Vo(n))):a>=s?(i+=Vo(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Vo(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Vo(n))),e.s<0?"-"+i:i}function MT(e,t){if(e.length>t)return e.length=t,!0}function Q3(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ks+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return TT(s,i.toString())}else if(typeof i!="string")throw Error(Ks+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,Qae.test(i))TT(s,i);else throw Error(Ks+i)}if(a.prototype=at,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Q3,a.config=a.set=Zae,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Zae(e){if(!e||typeof e!="object")throw Error(Ra+"Object expected");var t,r,n,a=["precision",1,mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(pu(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ks+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ks+r+": "+n);return this}var KS=Q3(Xae);ga=new KS(1);const vr=KS;function eie(e){return aie(e)||nie(e)||rie(e)||tie()}function tie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rie(e,t){if(e){if(typeof e=="string")return f1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(e,t)}}function nie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function aie(e){if(Array.isArray(e))return f1(e)}function f1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var iie=function(t){return t},Z3={},eF=function(t){return t===Z3},RT=function(t){return function r(){return arguments.length===0||arguments.length===1&&eF(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},oie=function e(t,r){return t===1?r:RT(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(c){return c!==Z3}).length;return s>=t?r.apply(void 0,a):e(t-s,RT(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var h=a.map(function(m){return eF(m)?d.shift():m});return r.apply(void 0,eie(h).concat(d))}))})},$g=function(t){return oie(t.length,t)},h1=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},sie=$g(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),lie=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return iie;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(c,d){return d(c)},i.apply(void 0,arguments))}},m1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tF=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(c,d){return c===r[d]})||(r=i,n=t.apply(void 0,i)),n}};function cie(e){var t;return e===0?t=1:t=Math.floor(new vr(e).abs().log(10).toNumber())+1,t}function uie(e,t,r){for(var n=new vr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var die=$g(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),fie=$g(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),hie=$g(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Lg={rangeStep:uie,getDigitCount:cie,interpolateNumber:die,uninterpolateNumber:fie,uninterpolateTruncation:hie};function p1(e){return gie(e)||pie(e)||rF(e)||mie()}function mie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function gie(e){if(Array.isArray(e))return g1(e)}function Qd(e,t){return xie(e)||yie(e,t)||rF(e,t)||vie()}function vie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rF(e,t){if(e){if(typeof e=="string")return g1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(e,t)}}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yie(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(r.push(c.value),!(t&&r.length===t));n=!0);}catch(d){a=!0,i=d}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function xie(e){if(Array.isArray(e))return e}function nF(e){var t=Qd(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function aF(e,t,r){if(e.lte(0))return new vr(0);var n=Lg.getDigitCount(e.toNumber()),a=new vr(10).pow(n),i=e.div(a),s=n!==1?.05:.1,c=new vr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),d=c.mul(a);return t?d:new vr(Math.ceil(d))}function bie(e,t,r){var n=1,a=new vr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new vr(10).pow(Lg.getDigitCount(e)-1),a=new vr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new vr(Math.floor(e)))}else e===0?a=new vr(Math.floor((t-1)/2)):r||(a=new vr(Math.floor(e)));var s=Math.floor((t-1)/2),c=lie(sie(function(d){return a.add(new vr(d-s).mul(n)).toNumber()}),h1);return c(0,t)}function iF(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new vr(0),tickMin:new vr(0),tickMax:new vr(0)};var i=aF(new vr(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new vr(0):(s=new vr(e).add(t).div(2),s=s.sub(new vr(s).mod(i)));var c=Math.ceil(s.sub(e).div(i).toNumber()),d=Math.ceil(new vr(t).sub(s).div(i).toNumber()),f=c+d+1;return f>r?iF(e,t,r,n,a+1):(f<r&&(d=t>0?d+(r-f):d,c=t>0?c:c+(r-f)),{step:i,tickMin:s.sub(new vr(c).mul(i)),tickMax:s.add(new vr(d).mul(i))})}function wie(e){var t=Qd(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),c=nF([r,n]),d=Qd(c,2),f=d[0],h=d[1];if(f===-1/0||h===1/0){var m=h===1/0?[f].concat(p1(h1(0,a-1).map(function(){return 1/0}))):[].concat(p1(h1(0,a-1).map(function(){return-1/0})),[h]);return r>n?m1(m):m}if(f===h)return bie(f,a,i);var g=iF(f,h,s,i),w=g.step,b=g.tickMin,x=g.tickMax,_=Lg.rangeStep(b,x.add(new vr(.1).mul(w)),w);return r>n?m1(_):_}function _ie(e,t){var r=Qd(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=nF([n,a]),c=Qd(s,2),d=c[0],f=c[1];if(d===-1/0||f===1/0)return[n,a];if(d===f)return[d];var h=Math.max(t,2),m=aF(new vr(f).sub(d).div(h-1),i,0),g=[].concat(p1(Lg.rangeStep(new vr(d),new vr(f).sub(new vr(.99).mul(m)),m)),[f]);return n>a?m1(g):g}var jie=tF(wie),Sie=tF(_ie),Nie="Invariant failed";function il(e,t){throw new Error(Nie)}var Cie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(this,arguments)}function Pie(e,t){return Oie(e)||Eie(e,t)||Aie(e,t)||kie()}function kie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(e,t){if(e){if(typeof e=="string")return DT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DT(e,t)}}function DT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Oie(e){if(Array.isArray(e))return e}function Tie(e,t){if(e==null)return{};var r=Mie(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mie(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Die(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lF(n.key),n)}}function Iie(e,t,r){return t&&Die(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ie(e,t,r){return t=vp(t),Lie(e,oF()?Reflect.construct(t,r||[],vp(e).constructor):t.apply(e,r))}function Lie(e,t){if(t&&(Rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fie(e)}function Fie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!e})()}function vp(e){return vp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vp(e)}function Bie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v1(e,t)}function v1(e,t){return v1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v1(e,t)}function sF(e,t,r){return t=lF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=Uie(e,"string");return Rc(t)=="symbol"?t:t+""}function Uie(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uf=function(e){function t(){return Rie(this,t),$ie(this,t,arguments)}return Bie(t,e),Iie(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,c=n.dataKey,d=n.data,f=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,g=Tie(n,Cie),w=Dt(g,!1);this.props.direction==="x"&&h.type!=="number"&&il();var b=d.map(function(x){var _=f(x,c),S=_.x,N=_.y,P=_.value,k=_.errorVal;if(!k)return null;var C=[],A,T;if(Array.isArray(k)){var R=Pie(k,2);A=R[0],T=R[1]}else A=T=k;if(i==="vertical"){var I=h.scale,U=N+a,O=U+s,B=U-s,Z=I(P-A),te=I(P+T);C.push({x1:te,y1:O,x2:te,y2:B}),C.push({x1:Z,y1:U,x2:te,y2:U}),C.push({x1:Z,y1:O,x2:Z,y2:B})}else if(i==="horizontal"){var Q=m.scale,Y=S+a,ie=Y-s,W=Y+s,V=Q(P-A),F=Q(P+T);C.push({x1:ie,y1:F,x2:W,y2:F}),C.push({x1:Y,y1:V,x2:Y,y2:F}),C.push({x1:ie,y1:V,x2:W,y2:V})}return ee.createElement(Cr,gp({className:"recharts-errorBar",key:"bar-".concat(C.map(function(L){return"".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))},w),C.map(function(L){return ee.createElement("line",gp({},L,{key:"line-".concat(L.x1,"-").concat(L.x2,"-").concat(L.y1,"-").concat(L.y2)}))}))});return ee.createElement(Cr,{className:"recharts-errorBars"},b)}}])}(ee.Component);sF(Uf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sF(Uf,"displayName","ErrorBar");function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Os(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){zie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zie(e,t,r){return t=qie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qie(e){var t=Wie(e,"string");return Zd(t)=="symbol"?t:t+""}function Wie(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cF=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=ha(r,Ma);if(!s)return null;var c=Ma.defaultProps,d=c!==void 0?Os(Os({},c),s.props):{},f;return s.props&&s.props.payload?f=s.props&&s.props.payload:i==="children"?f=(n||[]).reduce(function(h,m){var g=m.item,w=m.props,b=w.sectors||w.data||[];return h.concat(b.map(function(x){return{type:s.props.iconType||g.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):f=(n||[]).map(function(h){var m=h.item,g=m.type.defaultProps,w=g!==void 0?Os(Os({},g),m.props):{},b=w.dataKey,x=w.name,_=w.legendType,S=w.hide;return{inactive:S,dataKey:b,type:d.iconType||_||"square",color:YS(m),value:x||b,payload:w}}),Os(Os(Os({},d),Ma.getWithHeight(s,a)),{},{payload:f,item:s})};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function $T(e){return Kie(e)||Gie(e)||Vie(e)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vie(e,t){if(e){if(typeof e=="string")return y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(e,t)}}function Gie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kie(e){if(Array.isArray(e))return y1(e)}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){yc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yc(e,t,r){return t=Yie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yie(e){var t=Jie(e,"string");return ef(t)=="symbol"?t:t+""}function Jie(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(e,t,r){return zt(e)||zt(t)?r:an(t)?Oa(e,t,r):Mt(t)?t(e):r}function Sd(e,t,r,n){var a=Kae(e,function(c){return Vn(c,t)});if(r==="number"){var i=a.filter(function(c){return We(c)||parseFloat(c)});return i.length?[Ig(i),Xo(i)]:[1/0,-1/0]}var s=n?a.filter(function(c){return!zt(c)}):a;return s.map(function(c){return an(c)||c instanceof Date?c:""})}var Xie=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,c=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(c<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<c;f++){var h=f>0?a[f-1].coordinate:a[c-1].coordinate,m=a[f].coordinate,g=f>=c-1?a[0].coordinate:a[f+1].coordinate,w=void 0;if(ri(m-h)!==ri(g-m)){var b=[];if(ri(g-m)===ri(d[1]-d[0])){w=g;var x=m+d[1]-d[0];b[0]=Math.min(x,(x+h)/2),b[1]=Math.max(x,(x+h)/2)}else{w=h;var _=g+d[1]-d[0];b[0]=Math.min(m,(_+m)/2),b[1]=Math.max(m,(_+m)/2)}var S=[Math.min(m,(w+m)/2),Math.max(m,(w+m)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){s=a[f].index;break}}else{var N=Math.min(h,g),P=Math.max(h,g);if(t>(N+m)/2&&t<=(P+m)/2){s=a[f].index;break}}}else for(var k=0;k<c;k++)if(k===0&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k>0&&k<c-1&&t>(n[k].coordinate+n[k-1].coordinate)/2&&t<=(n[k].coordinate+n[k+1].coordinate)/2||k===c-1&&t>(n[k].coordinate+n[k-1].coordinate)/2){s=n[k].index;break}return s},YS=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ur(Ur({},t.type.defaultProps),t.props):t.props,s=i.stroke,c=i.fill,d;switch(a){case"Line":d=s;break;case"Area":case"Radar":d=s&&s!=="none"?s:c;break;default:d=c;break}return d},Qie=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},c=Object.keys(i),d=0,f=c.length;d<f;d++)for(var h=i[c[d]].stackGroups,m=Object.keys(h),g=0,w=m.length;g<w;g++){var b=h[m[g]],x=b.items,_=b.cateAxisId,S=x.filter(function(T){return to(T.type).indexOf("Bar")>=0});if(S&&S.length){var N=S[0].type.defaultProps,P=N!==void 0?Ur(Ur({},N),S[0].props):S[0].props,k=P.barSize,C=P[_];s[C]||(s[C]=[]);var A=zt(k)?r:k;s[C].push({item:S[0],stackList:S.slice(1),barSize:zt(A)?void 0:nl(A,n,0)})}}return s},Zie=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,c=t.maxBarSize,d=s.length;if(d<1)return null;var f=nl(r,a,0,!0),h,m=[];if(s[0].barSize===+s[0].barSize){var g=!1,w=a/d,b=s.reduce(function(k,C){return k+C.barSize||0},0);b+=(d-1)*f,b>=a&&(b-=(d-1)*f,f=0),b>=a&&w>0&&(g=!0,w*=.9,b=d*w);var x=(a-b)/2>>0,_={offset:x-f,size:0};h=s.reduce(function(k,C){var A={item:C.item,position:{offset:_.offset+_.size+f,size:g?w:C.barSize}},T=[].concat($T(k),[A]);return _=T[T.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){T.push({item:R,position:_})}),T},m)}else{var S=nl(n,a,0,!0);a-2*S-(d-1)*f<=0&&(f=0);var N=(a-2*S-(d-1)*f)/d;N>1&&(N>>=0);var P=c===+c?Math.min(N,c):N;h=s.reduce(function(k,C,A){var T=[].concat($T(k),[{item:C.item,position:{offset:S+(N+f)*A+(N-P)/2,size:P}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(R){T.push({item:R,position:T[T.length-1].position})}),T},m)}return h},eoe=function(t,r,n,a){var i=n.children,s=n.width,c=n.margin,d=s-(c.left||0)-(c.right||0),f=cF({children:i,legendWidth:d});if(f){var h=a||{},m=h.width,g=h.height,w=f.align,b=f.verticalAlign,x=f.layout;if((x==="vertical"||x==="horizontal"&&b==="middle")&&w!=="center"&&We(t[w]))return Ur(Ur({},t),{},yc({},w,t[w]+(m||0)));if((x==="horizontal"||x==="vertical"&&w==="center")&&b!=="middle"&&We(t[b]))return Ur(Ur({},t),{},yc({},b,t[b]+(g||0)))}return t},toe=function(t,r,n){return zt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uF=function(t,r,n,a,i){var s=r.props.children,c=Ta(s,Uf).filter(function(f){return toe(a,i,f.props.direction)});if(c&&c.length){var d=c.map(function(f){return f.props.dataKey});return t.reduce(function(f,h){var m=Vn(h,n);if(zt(m))return f;var g=Array.isArray(m)?[Ig(m),Xo(m)]:[m,m],w=d.reduce(function(b,x){var _=Vn(h,x,0),S=g[0]-Math.abs(Array.isArray(_)?_[0]:_),N=g[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(S,b[0]),Math.max(N,b[1])]},[1/0,-1/0]);return[Math.min(w[0],f[0]),Math.max(w[1],f[1])]},[1/0,-1/0])}return null},roe=function(t,r,n,a,i){var s=r.map(function(c){return uF(t,c,n,i,a)}).filter(function(c){return!zt(c)});return s&&s.length?s.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]):null},dF=function(t,r,n,a,i){var s=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&uF(t,d,f,a)||Sd(t,f,n,i)});if(n==="number")return s.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var c={};return s.reduce(function(d,f){for(var h=0,m=f.length;h<m;h++)c[f[h]]||(c[f[h]]=!0,d.push(f[h]));return d},[])},fF=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},hF=function(t,r,n,a){if(a)return t.map(function(d){return d.coordinate});var i,s,c=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate});return i||c.push(r),s||c.push(n),c},Qi=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,c=t.range,d=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,f=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?ri(c[0]-c[1])*2*f:f,r&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var g=i?i.indexOf(m):m;return{coordinate:a(g)+f,value:m,offset:f}});return h.filter(function(m){return!uu(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:a(m)+f,value:m,index:g,offset:f}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+f,value:m,offset:f}}):a.domain().map(function(m,g){return{coordinate:a(m)+f,value:i?i[m]:m,index:g,offset:f}})},_w=new WeakMap,pm=function(t,r){if(typeof r!="function")return t;_w.has(t)||_w.set(t,new WeakMap);var n=_w.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},noe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,c=t.axisType;if(a==="auto")return s==="radial"&&c==="radiusAxis"?{scale:Vd(),realScaleType:"band"}:s==="radial"&&c==="angleAxis"?{scale:dp(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:jd(),realScaleType:"point"}:i==="category"?{scale:Vd(),realScaleType:"band"}:{scale:dp(),realScaleType:"linear"};if(rl(a)){var d="scale".concat(jg(a));return{scale:(jT[d]||jd)(),realScaleType:jT[d]?d:"point"}}return Mt(a)?{scale:a}:{scale:jd(),realScaleType:"point"}},FT=1e-4,aoe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-FT,s=Math.max(a[0],a[1])+FT,c=t(r[0]),d=t(r[n-1]);(c<i||c>s||d<i||d>s)&&t.domain([r[0],r[n-1]])}},ioe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},ooe=function(t,r){if(!r||r.length!==2||!We(r[0])||!We(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!We(t[0])||t[0]<n)&&(i[0]=n),(!We(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},soe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,c=0;c<r;++c){var d=uu(t[c][n][1])?t[c][n][0]:t[c][n][1];d>=0?(t[c][n][0]=i,t[c][n][1]=i+d,i=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+d,s=t[c][n][1])}},loe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var c=uu(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=i,t[s][n][1]=i+c,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},coe={sign:soe,expand:VQ,none:Nc,silhouette:GQ,wiggle:KQ,positive:loe},uoe=function(t,r,n){var a=r.map(function(c){return c.props.dataKey}),i=coe[n],s=HQ().keys(a).value(function(c,d){return+Vn(c,d,0)}).order(K_).offset(i);return s(t)},doe=function(t,r,n,a,i,s){if(!t)return null;var c=s?r.reverse():r,d={},f=c.reduce(function(m,g){var w,b=(w=g.type)!==null&&w!==void 0&&w.defaultProps?Ur(Ur({},g.type.defaultProps),g.props):g.props,x=b.stackId,_=b.hide;if(_)return m;var S=b[n],N=m[S]||{hasStack:!1,stackGroups:{}};if(an(x)){var P=N.stackGroups[x]||{numericAxisId:n,cateAxisId:a,items:[]};P.items.push(g),N.hasStack=!0,N.stackGroups[x]=P}else N.stackGroups[du("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return Ur(Ur({},m),{},yc({},S,N))},d),h={};return Object.keys(f).reduce(function(m,g){var w=f[g];if(w.hasStack){var b={};w.stackGroups=Object.keys(w.stackGroups).reduce(function(x,_){var S=w.stackGroups[_];return Ur(Ur({},x),{},yc({},_,{numericAxisId:n,cateAxisId:a,items:S.items,stackedData:uoe(t,S.items,i)}))},b)}return Ur(Ur({},m),{},yc({},g,w))},h)},foe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,c=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=t.domain();if(!f.length)return null;var h=jie(f,i,c);return t.domain([Ig(h),Xo(h)]),{niceTicks:h}}if(i&&a==="number"){var m=t.domain(),g=Sie(m,i,c);return{niceTicks:g}}return null};function yp(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zt(a[t.dataKey])){var c=Hm(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=Vn(a,zt(s)?t.dataKey:s);return zt(d)?null:t.scale(d)}var BT=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,c=t.index;if(r.type==="category")return n[c]?n[c].coordinate+a:null;var d=Vn(s,r.dataKey,r.domain[c]);return zt(d)?null:r.scale(d)-i/2+a},hoe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},moe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ur(Ur({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(an(i)){var s=r[i];if(s){var c=s.items.indexOf(t);return c>=0?s.stackedData[c]:null}}return null},poe=function(t){return t.reduce(function(r,n){return[Ig(n.concat([r[0]]).filter(We)),Xo(n.concat([r[1]]).filter(We))]},[1/0,-1/0])},mF=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],c=s.stackedData,d=c.reduce(function(f,h){var m=poe(h.slice(r,n+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],a[0]),Math.max(d[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},UT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,x1=function(t,r,n){if(Mt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(We(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(UT.test(t[0])){var i=+UT.exec(t[0])[1];a[0]=r[0]-i}else Mt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(We(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(zT.test(t[1])){var s=+zT.exec(t[1])[1];a[1]=r[1]+s}else Mt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},xp=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=jS(r,function(m){return m.coordinate}),s=1/0,c=1,d=i.length;c<d;c++){var f=i[c],h=i[c-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},qT=function(t,r,n){return!t||!t.length||Mc(t,Oa(n,"type.defaultProps.domain"))?r:t},pF=function(t,r){var n=t.type.defaultProps?Ur(Ur({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,c=n.formatter,d=n.tooltipType,f=n.chartType,h=n.hide;return Ur(Ur({},Dt(t,!1)),{},{dataKey:a,unit:s,formatter:c,name:i||a,color:YS(t),value:Vn(r,a),type:d,payload:r,chartType:f,hide:h})};function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){goe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function goe(e,t,r){return t=voe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function voe(e){var t=yoe(e,"string");return tf(t)=="symbol"?t:t+""}function yoe(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bp=Math.PI/180,xoe=function(t){return t*180/Math.PI},jn=function(t,r,n,a){return{x:t+Math.cos(-bp*a)*n,y:r+Math.sin(-bp*a)*n}},boe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},woe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,c=boe({x:n,y:a},{x:i,y:s});if(c<=0)return{radius:c};var d=(n-i)/c,f=Math.acos(d);return a>s&&(f=2*Math.PI-f),{radius:c,angle:xoe(f),angleInRadian:f}},_oe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},joe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),c=Math.min(i,s);return t+c*360},VT=function(t,r){var n=t.x,a=t.y,i=woe({x:n,y:a},r),s=i.radius,c=i.angle,d=r.innerRadius,f=r.outerRadius;if(s<d||s>f)return!1;if(s===0)return!0;var h=_oe(r),m=h.startAngle,g=h.endAngle,w=c,b;if(m<=g){for(;w>g;)w-=360;for(;w<m;)w+=360;b=w>=m&&w<=g}else{for(;w>m;)w-=360;for(;w<g;)w+=360;b=w>=g&&w<=m}return b?HT(HT({},r),{},{radius:s,angle:joe(w,r)}):null};function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}var Soe=["offset"];function Noe(e){return Aoe(e)||koe(e)||Poe(e)||Coe()}function Coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(e,t){if(e){if(typeof e=="string")return b1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(e,t)}}function koe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aoe(e){if(Array.isArray(e))return b1(e)}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eoe(e,t){if(e==null)return{};var r=Ooe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ooe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){Toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Toe(e,t,r){return t=Moe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Moe(e){var t=Roe(e,"string");return rf(t)=="symbol"?t:t+""}function Roe(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(this,arguments)}var Doe=function(t){var r=t.value,n=t.formatter,a=zt(t.children)?r:t.children;return Mt(n)?n(a):a},Ioe=function(t,r){var n=ri(r-t),a=Math.min(Math.abs(r-t),360);return n*a},$oe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,c=t.className,d=i,f=d.cx,h=d.cy,m=d.innerRadius,g=d.outerRadius,w=d.startAngle,b=d.endAngle,x=d.clockWise,_=(m+g)/2,S=Ioe(w,b),N=S>=0?1:-1,P,k;a==="insideStart"?(P=w+N*s,k=x):a==="insideEnd"?(P=b-N*s,k=!x):a==="end"&&(P=b+N*s,k=x),k=S<=0?k:!k;var C=jn(f,h,_,P),A=jn(f,h,_,P+(k?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(k?0:1,`,
    `).concat(A.x,",").concat(A.y),R=zt(t.id)?du("recharts-radial-line-"):t.id;return ee.createElement("text",nf({},n,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",c)}),ee.createElement("defs",null,ee.createElement("path",{id:R,d:T})),ee.createElement("textPath",{xlinkHref:"#".concat(R)},r))},Loe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,c=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.startAngle,m=i.endAngle,g=(h+m)/2;if(a==="outside"){var w=jn(s,c,f+n,g),b=w.x,x=w.y;return{x:b,y:x,textAnchor:b>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:c,textAnchor:"middle",verticalAnchor:"end"};var _=(d+f)/2,S=jn(s,c,_,g),N=S.x,P=S.y;return{x:N,y:P,textAnchor:"middle",verticalAnchor:"middle"}},Foe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,c=s.x,d=s.y,f=s.width,h=s.height,m=h>=0?1:-1,g=m*a,w=m>0?"end":"start",b=m>0?"start":"end",x=f>=0?1:-1,_=x*a,S=x>0?"end":"start",N=x>0?"start":"end";if(i==="top"){var P={x:c+f/2,y:d-m*a,textAnchor:"middle",verticalAnchor:w};return nn(nn({},P),n?{height:Math.max(d-n.y,0),width:f}:{})}if(i==="bottom"){var k={x:c+f/2,y:d+h+g,textAnchor:"middle",verticalAnchor:b};return nn(nn({},k),n?{height:Math.max(n.y+n.height-(d+h),0),width:f}:{})}if(i==="left"){var C={x:c-_,y:d+h/2,textAnchor:S,verticalAnchor:"middle"};return nn(nn({},C),n?{width:Math.max(C.x-n.x,0),height:h}:{})}if(i==="right"){var A={x:c+f+_,y:d+h/2,textAnchor:N,verticalAnchor:"middle"};return nn(nn({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:h}:{})}var T=n?{width:f,height:h}:{};return i==="insideLeft"?nn({x:c+_,y:d+h/2,textAnchor:N,verticalAnchor:"middle"},T):i==="insideRight"?nn({x:c+f-_,y:d+h/2,textAnchor:S,verticalAnchor:"middle"},T):i==="insideTop"?nn({x:c+f/2,y:d+g,textAnchor:"middle",verticalAnchor:b},T):i==="insideBottom"?nn({x:c+f/2,y:d+h-g,textAnchor:"middle",verticalAnchor:w},T):i==="insideTopLeft"?nn({x:c+_,y:d+g,textAnchor:N,verticalAnchor:b},T):i==="insideTopRight"?nn({x:c+f-_,y:d+g,textAnchor:S,verticalAnchor:b},T):i==="insideBottomLeft"?nn({x:c+_,y:d+h-g,textAnchor:N,verticalAnchor:w},T):i==="insideBottomRight"?nn({x:c+f-_,y:d+h-g,textAnchor:S,verticalAnchor:w},T):cu(i)&&(We(i.x)||Bs(i.x))&&(We(i.y)||Bs(i.y))?nn({x:c+nl(i.x,f),y:d+nl(i.y,h),textAnchor:"end",verticalAnchor:"end"},T):nn({x:c+f/2,y:d+h/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Boe=function(t){return"cx"in t&&We(t.cx)};function Dn(e){var t=e.offset,r=t===void 0?5:t,n=Eoe(e,Soe),a=nn({offset:r},n),i=a.viewBox,s=a.position,c=a.value,d=a.children,f=a.content,h=a.className,m=h===void 0?"":h,g=a.textBreakAll;if(!i||zt(c)&&zt(d)&&!y.isValidElement(f)&&!Mt(f))return null;if(y.isValidElement(f))return y.cloneElement(f,a);var w;if(Mt(f)){if(w=y.createElement(f,a),y.isValidElement(w))return w}else w=Doe(a);var b=Boe(i),x=Dt(a,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return $oe(a,w,x);var _=b?Loe(a):Foe(a);return ee.createElement(ap,nf({className:Yt("recharts-label",m)},x,_,{breakAll:g}),w)}Dn.displayName="Label";var gF=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,c=t.r,d=t.radius,f=t.innerRadius,h=t.outerRadius,m=t.x,g=t.y,w=t.top,b=t.left,x=t.width,_=t.height,S=t.clockWise,N=t.labelViewBox;if(N)return N;if(We(x)&&We(_)){if(We(m)&&We(g))return{x:m,y:g,width:x,height:_};if(We(w)&&We(b))return{x:w,y:b,width:x,height:_}}return We(m)&&We(g)?{x:m,y:g,width:0,height:0}:We(r)&&We(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:f||0,outerRadius:h||d||c||0,clockWise:S}:t.viewBox?t.viewBox:{}},Uoe=function(t,r){return t?t===!0?ee.createElement(Dn,{key:"label-implicit",viewBox:r}):an(t)?ee.createElement(Dn,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===Dn?y.cloneElement(t,{key:"label-implicit",viewBox:r}):ee.createElement(Dn,{key:"label-implicit",content:t,viewBox:r}):Mt(t)?ee.createElement(Dn,{key:"label-implicit",content:t,viewBox:r}):cu(t)?ee.createElement(Dn,nf({viewBox:r},t,{key:"label-implicit"})):null:null},zoe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=gF(t),s=Ta(a,Dn).map(function(d,f){return y.cloneElement(d,{viewBox:r||i,key:"label-".concat(f)})});if(!n)return s;var c=Uoe(t.label,r||i);return[c].concat(Noe(s))};Dn.parseViewBox=gF;Dn.renderCallByParent=zoe;var jw,KT;function qoe(){if(KT)return jw;KT=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return jw=e,jw}var Woe=qoe();const Hoe=cr(Woe);function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}var Voe=["valueAccessor"],Goe=["data","dataKey","clockWise","id","textBreakAll"];function Koe(e){return Qoe(e)||Xoe(e)||Joe(e)||Yoe()}function Yoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Joe(e,t){if(e){if(typeof e=="string")return w1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w1(e,t)}}function Xoe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qoe(e){if(Array.isArray(e))return w1(e)}function w1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wp(){return wp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wp.apply(this,arguments)}function YT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YT(Object(r),!0).forEach(function(n){Zoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zoe(e,t,r){return t=ese(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ese(e){var t=tse(e,"string");return af(t)=="symbol"?t:t+""}function tse(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XT(e,t){if(e==null)return{};var r=rse(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var nse=function(t){return Array.isArray(t.value)?Hoe(t.value):t.value};function ao(e){var t=e.valueAccessor,r=t===void 0?nse:t,n=XT(e,Voe),a=n.data,i=n.dataKey,s=n.clockWise,c=n.id,d=n.textBreakAll,f=XT(n,Goe);return!a||!a.length?null:ee.createElement(Cr,{className:"recharts-label-list"},a.map(function(h,m){var g=zt(i)?r(h,m):Vn(h&&h.payload,i),w=zt(c)?{}:{id:"".concat(c,"-").concat(m)};return ee.createElement(Dn,wp({},Dt(h,!0),f,w,{parentViewBox:h.parentViewBox,value:g,textBreakAll:d,viewBox:Dn.parseViewBox(zt(s)?h:JT(JT({},h),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}ao.displayName="LabelList";function ase(e,t){return e?e===!0?ee.createElement(ao,{key:"labelList-implicit",data:t}):ee.isValidElement(e)||Mt(e)?ee.createElement(ao,{key:"labelList-implicit",data:t,content:e}):cu(e)?ee.createElement(ao,wp({data:t},e,{key:"labelList-implicit"})):null:null}function ise(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Ta(n,ao).map(function(s,c){return y.cloneElement(s,{data:t,key:"labelList-".concat(c)})});if(!r)return a;var i=ase(e.label,t);return[i].concat(Koe(a))}ao.renderCallByParent=ise;function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(this,arguments)}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){ose(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ose(e,t,r){return t=sse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sse(e){var t=lse(e,"string");return of(t)=="symbol"?t:t+""}function lse(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cse=function(t,r){var n=ri(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},gm=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,c=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,h=d*(c?1:-1)+a,m=Math.asin(d/h)/bp,g=f?i:i+s*m,w=jn(r,n,h,g),b=jn(r,n,a,g),x=f?i-s*m:i,_=jn(r,n,h*Math.cos(m*bp),x);return{center:w,circleTangency:b,lineTangency:_,theta:m}},vF=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,c=t.endAngle,d=cse(s,c),f=s+d,h=jn(r,n,i,s),m=jn(r,n,i,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var w=jn(r,n,a,s),b=jn(r,n,a,f);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=f),`,
            `).concat(w.x,",").concat(w.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},use=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,c=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,h=t.endAngle,m=ri(h-f),g=gm({cx:r,cy:n,radius:i,angle:f,sign:m,cornerRadius:s,cornerIsExternal:d}),w=g.circleTangency,b=g.lineTangency,x=g.theta,_=gm({cx:r,cy:n,radius:i,angle:h,sign:-m,cornerRadius:s,cornerIsExternal:d}),S=_.circleTangency,N=_.lineTangency,P=_.theta,k=d?Math.abs(f-h):Math.abs(f-h)-x-P;if(k<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vF({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:h});var C="M ".concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(k>180),",").concat(+(m<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
  `);if(a>0){var A=gm({cx:r,cy:n,radius:a,angle:f,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),T=A.circleTangency,R=A.lineTangency,I=A.theta,U=gm({cx:r,cy:n,radius:a,angle:h,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),O=U.circleTangency,B=U.lineTangency,Z=U.theta,te=d?Math.abs(f-h):Math.abs(f-h)-I-Z;if(te<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(te>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},dse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yF=function(t){var r=ZT(ZT({},dse),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,c=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,g=r.className;if(s<i||h===m)return null;var w=Yt("recharts-sector",g),b=s-i,x=nl(c,b,0,!0),_;return x>0&&Math.abs(h-m)<360?_=use({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,b/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:h,endAngle:m}):_=vF({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:h,endAngle:m}),ee.createElement("path",_1({},Dt(r,!0),{className:w,d:_,role:"img"}))};function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}function eM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eM(Object(r),!0).forEach(function(n){fse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fse(e,t,r){return t=hse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hse(e){var t=mse(e,"string");return sf(t)=="symbol"?t:t+""}function mse(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rM={curveBasisClosed:RQ,curveBasisOpen:DQ,curveBasis:MQ,curveBumpX:xQ,curveBumpY:bQ,curveLinearClosed:IQ,curveLinear:Ng,curveMonotoneX:$Q,curveMonotoneY:LQ,curveNatural:FQ,curveStep:BQ,curveStepAfter:zQ,curveStepBefore:UQ},vm=function(t){return t.x===+t.x&&t.y===+t.y},ad=function(t){return t.x},id=function(t){return t.y},pse=function(t,r){if(Mt(t))return t;var n="curve".concat(jg(t));return(n==="curveMonotone"||n==="curveBump")&&r?rM["".concat(n).concat(r==="vertical"?"Y":"X")]:rM[n]||Ng},gse=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,c=t.layout,d=t.connectNulls,f=d===void 0?!1:d,h=pse(n,c),m=f?i.filter(function(x){return vm(x)}):i,g;if(Array.isArray(s)){var w=f?s.filter(function(x){return vm(x)}):s,b=m.map(function(x,_){return tM(tM({},x),{},{base:w[_]})});return c==="vertical"?g=lm().y(id).x1(ad).x0(function(x){return x.base.x}):g=lm().x(ad).y1(id).y0(function(x){return x.base.y}),g.defined(vm).curve(h),g(b)}return c==="vertical"&&We(s)?g=lm().y(id).x1(ad).x0(s):We(s)?g=lm().x(ad).y1(id).y0(s):g=_4().x(ad).y(id),g.defined(vm).curve(h),g(m)},xc=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?gse(t):a;return ee.createElement("path",j1({},Dt(t,!1),Vm(t),{className:Yt("recharts-curve",r),d:s,ref:i}))},Sw={exports:{}},Nw,nM;function vse(){if(nM)return Nw;nM=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Nw=e,Nw}var Cw,aM;function yse(){if(aM)return Cw;aM=1;var e=vse();function t(){}function r(){}return r.resetWarningCache=t,Cw=function(){function n(s,c,d,f,h,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Cw}var iM;function xse(){return iM||(iM=1,Sw.exports=yse()()),Sw.exports}var bse=xse();const lr=cr(bse);var wse=Object.getOwnPropertyNames,_se=Object.getOwnPropertySymbols,jse=Object.prototype.hasOwnProperty;function oM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function ym(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),c=i.get(n);if(s&&c)return s===n&&c===r;i.set(r,n),i.set(n,r);var d=e(r,n,a);return i.delete(r),i.delete(n),d}}function sM(e){return wse(e).concat(_se(e))}var Sse=Object.hasOwn||function(e,t){return jse.call(e,t)};function vl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Nse="__v",Cse="__o",Pse="_owner",lM=Object.getOwnPropertyDescriptor,cM=Object.keys;function kse(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Ase(e,t){return vl(e.getTime(),t.getTime())}function Ese(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Ose(e,t){return e===t}function uM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,c,d=0;(s=i.next())&&!s.done;){for(var f=t.entries(),h=!1,m=0;(c=f.next())&&!c.done;){if(a[m]){m++;continue}var g=s.value,w=c.value;if(r.equals(g[0],w[0],d,m,e,t,r)&&r.equals(g[1],w[1],g[0],w[0],e,t,r)){h=a[m]=!0;break}m++}if(!h)return!1;d++}return!0}var Tse=vl;function Mse(e,t,r){var n=cM(e),a=n.length;if(cM(t).length!==a)return!1;for(;a-- >0;)if(!xF(e,t,r,n[a]))return!1;return!0}function od(e,t,r){var n=sM(e),a=n.length;if(sM(t).length!==a)return!1;for(var i,s,c;a-- >0;)if(i=n[a],!xF(e,t,r,i)||(s=lM(e,i),c=lM(t,i),(s||c)&&(!s||!c||s.configurable!==c.configurable||s.enumerable!==c.enumerable||s.writable!==c.writable)))return!1;return!0}function Rse(e,t){return vl(e.valueOf(),t.valueOf())}function Dse(e,t){return e.source===t.source&&e.flags===t.flags}function dM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,c;(s=i.next())&&!s.done;){for(var d=t.values(),f=!1,h=0;(c=d.next())&&!c.done;){if(!a[h]&&r.equals(s.value,c.value,s.value,c.value,e,t,r)){f=a[h]=!0;break}h++}if(!f)return!1}return!0}function Ise(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function $se(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function xF(e,t,r,n){return(n===Pse||n===Cse||n===Nse)&&(e.$$typeof||t.$$typeof)?!0:Sse(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var Lse="[object Arguments]",Fse="[object Boolean]",Bse="[object Date]",Use="[object Error]",zse="[object Map]",qse="[object Number]",Wse="[object Object]",Hse="[object RegExp]",Vse="[object Set]",Gse="[object String]",Kse="[object URL]",Yse=Array.isArray,fM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,hM=Object.assign,Jse=Object.prototype.toString.call.bind(Object.prototype.toString);function Xse(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,c=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,h=e.areSetsEqual,m=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(b,x,_){if(b===x)return!0;if(b==null||x==null)return!1;var S=typeof b;if(S!==typeof x)return!1;if(S!=="object")return S==="number"?s(b,x,_):S==="function"?a(b,x,_):!1;var N=b.constructor;if(N!==x.constructor)return!1;if(N===Object)return c(b,x,_);if(Yse(b))return t(b,x,_);if(fM!=null&&fM(b))return m(b,x,_);if(N===Date)return r(b,x,_);if(N===RegExp)return f(b,x,_);if(N===Map)return i(b,x,_);if(N===Set)return h(b,x,_);var P=Jse(b);return P===Bse?r(b,x,_):P===Hse?f(b,x,_):P===zse?i(b,x,_):P===Vse?h(b,x,_):P===Wse?typeof b.then!="function"&&typeof x.then!="function"&&c(b,x,_):P===Kse?g(b,x,_):P===Use?n(b,x,_):P===Lse?c(b,x,_):P===Fse||P===qse||P===Gse?d(b,x,_):!1}}function Qse(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?od:kse,areDatesEqual:Ase,areErrorsEqual:Ese,areFunctionsEqual:Ose,areMapsEqual:n?oM(uM,od):uM,areNumbersEqual:Tse,areObjectsEqual:n?od:Mse,arePrimitiveWrappersEqual:Rse,areRegExpsEqual:Dse,areSetsEqual:n?oM(dM,od):dM,areTypedArraysEqual:n?od:Ise,areUrlsEqual:$se};if(r&&(a=hM({},a,r(a))),t){var i=ym(a.areArraysEqual),s=ym(a.areMapsEqual),c=ym(a.areObjectsEqual),d=ym(a.areSetsEqual);a=hM({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:c,areSetsEqual:d})}return a}function Zse(e){return function(t,r,n,a,i,s,c){return e(t,r,c)}}function ele(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(d,f){var h=n(),m=h.cache,g=m===void 0?t?new WeakMap:void 0:m,w=h.meta;return r(d,f,{cache:g,equals:a,meta:w,strict:i})};if(t)return function(d,f){return r(d,f,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(d,f){return r(d,f,s)}}var tle=hs();hs({strict:!0});hs({circular:!0});hs({circular:!0,strict:!0});hs({createInternalComparator:function(){return vl}});hs({strict:!0,createInternalComparator:function(){return vl}});hs({circular:!0,createInternalComparator:function(){return vl}});hs({circular:!0,createInternalComparator:function(){return vl},strict:!0});function hs(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,c=Qse(e),d=Xse(c),f=n?n(d):Zse(d);return ele({circular:r,comparator:d,createState:a,equals:f,strict:s})}function rle(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function mM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):rle(a)};requestAnimationFrame(n)}function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function nle(e){return sle(e)||ole(e)||ile(e)||ale()}function ale(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ile(e,t){if(e){if(typeof e=="string")return pM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pM(e,t)}}function pM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ole(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sle(e){if(Array.isArray(e))return e}function lle(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,c=nle(s),d=c[0],f=c.slice(1);if(typeof d=="number"){mM(a.bind(null,f),d);return}a(d),mM(a.bind(null,f));return}S1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){bF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bF(e,t,r){return t=cle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cle(e){var t=ule(e,"string");return lf(t)==="symbol"?t:String(t)}function ule(e,t){if(lf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dle=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},fle=function(t){return t},hle=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Nd=function(t,r){return Object.keys(r).reduce(function(n,a){return vM(vM({},n),{},bF({},a,t(a,r[a])))},{})},yM=function(t,r,n){return t.map(function(a){return"".concat(hle(a)," ").concat(r,"ms ").concat(n)}).join(",")};function mle(e,t){return vle(e)||gle(e,t)||wF(e,t)||ple()}function ple(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function vle(e){if(Array.isArray(e))return e}function yle(e){return wle(e)||ble(e)||wF(e)||xle()}function xle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wF(e,t){if(e){if(typeof e=="string")return N1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(e,t)}}function ble(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wle(e){if(Array.isArray(e))return N1(e)}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _p=1e-4,_F=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},jF=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},xM=function(t,r){return function(n){var a=_F(t,r);return jF(a,n)}},_le=function(t,r){return function(n){var a=_F(t,r),i=[].concat(yle(a.map(function(s,c){return s*c}).slice(1)),[0]);return jF(i,n)}},bM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,c=1;break;case"ease":a=.25,i=.1,s=.25,c=1;break;case"ease-in":a=.42,i=0,s=1,c=1;break;case"ease-out":a=.42,i=0,s=.58,c=1;break;case"ease-in-out":a=0,i=0,s=.58,c=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),h=mle(f,4);a=h[0],i=h[1],s=h[2],c=h[3]}}}var m=xM(a,s),g=xM(i,c),w=_le(a,s),b=function(S){return S>1?1:S<0?0:S},x=function(S){for(var N=S>1?1:S,P=N,k=0;k<8;++k){var C=m(P)-N,A=w(P);if(Math.abs(C-N)<_p||A<_p)return g(P);P=b(P-C/A)}return g(P)};return x.isStepper=!1,x},jle=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,c=s===void 0?17:s,d=function(h,m,g){var w=-(h-m)*n,b=g*i,x=g+(w-b)*c/1e3,_=g*c/1e3+h;return Math.abs(_-m)<_p&&Math.abs(x)<_p?[m,0]:[_,x]};return d.isStepper=!0,d.dt=c,d},Sle=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bM(a);case"spring":return jle();default:if(a.split("(")[0]==="cubic-bezier")return bM(a)}return typeof a=="function"?a:null};function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function wM(e){return Ple(e)||Cle(e)||SF(e)||Nle()}function Nle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ple(e){if(Array.isArray(e))return P1(e)}function _M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(r),!0).forEach(function(n){C1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_M(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C1(e,t,r){return t=kle(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kle(e){var t=Ale(e,"string");return cf(t)==="symbol"?t:String(t)}function Ale(e,t){if(cf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ele(e,t){return Mle(e)||Tle(e,t)||SF(e,t)||Ole()}function Ole(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SF(e,t){if(e){if(typeof e=="string")return P1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P1(e,t)}}function P1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Mle(e){if(Array.isArray(e))return e}var jp=function(t,r,n){return t+(r-t)*n},k1=function(t){var r=t.from,n=t.to;return r!==n},Rle=function e(t,r,n){var a=Nd(function(i,s){if(k1(s)){var c=t(s.from,s.to,s.velocity),d=Ele(c,2),f=d[0],h=d[1];return wn(wn({},s),{},{from:f,velocity:h})}return s},r);return n<1?Nd(function(i,s){return k1(s)?wn(wn({},s),{},{velocity:jp(s.velocity,a[i].velocity,n),from:jp(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const Dle=function(e,t,r,n,a){var i=dle(e,t),s=i.reduce(function(_,S){return wn(wn({},_),{},C1({},S,[e[S],t[S]]))},{}),c=i.reduce(function(_,S){return wn(wn({},_),{},C1({},S,{from:e[S],velocity:0,to:t[S]}))},{}),d=-1,f,h,m=function(){return null},g=function(){return Nd(function(S,N){return N.from},c)},w=function(){return!Object.values(c).filter(k1).length},b=function(S){f||(f=S);var N=S-f,P=N/r.dt;c=Rle(r,c,P),a(wn(wn(wn({},e),t),g())),f=S,w()||(d=requestAnimationFrame(m))},x=function(S){h||(h=S);var N=(S-h)/n,P=Nd(function(C,A){return jp.apply(void 0,wM(A).concat([r(N)]))},s);if(a(wn(wn(wn({},e),t),P)),N<1)d=requestAnimationFrame(m);else{var k=Nd(function(C,A){return jp.apply(void 0,wM(A).concat([r(1)]))},s);a(wn(wn(wn({},e),t),k))}};return m=r.isStepper?b:x,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}var Ile=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $le(e,t){if(e==null)return{};var r=Lle(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lle(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Pw(e){return zle(e)||Ule(e)||Ble(e)||Fle()}function Fle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ble(e,t){if(e){if(typeof e=="string")return A1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(e,t)}}function Ule(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zle(e){if(Array.isArray(e))return A1(e)}function A1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){pd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pd(e,t,r){return t=NF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wle(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NF(n.key),n)}}function Hle(e,t,r){return t&&Wle(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NF(e){var t=Vle(e,"string");return Dc(t)==="symbol"?t:String(t)}function Vle(e,t){if(Dc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E1(e,t)}function E1(e,t){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E1(e,t)}function Kle(e){var t=Yle();return function(){var n=Sp(e),a;if(t){var i=Sp(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return O1(this,a)}}function O1(e,t){if(t&&(Dc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T1(e)}function T1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yle(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sp(e){return Sp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sp(e)}var Oi=function(e){Gle(r,e);var t=Kle(r);function r(n,a){var i;qle(this,r),i=t.call(this,n,a);var s=i.props,c=s.isActive,d=s.attributeName,f=s.from,h=s.to,m=s.steps,g=s.children,w=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(T1(i)),i.changeStyle=i.changeStyle.bind(T1(i)),!c||w<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:h}),O1(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof g=="function")return i.state={style:f},O1(i);i.state={style:d?pd({},d,f):f}}else i.state={style:{}};return i}return Hle(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,c=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,h=i.to,m=i.from,g=this.state.style;if(c){if(!s){var w={style:d?pd({},d,h):h};this.state&&g&&(d&&g[d]!==h||!d&&g!==h)&&this.setState(w);return}if(!(tle(a.to,h)&&a.canBegin&&a.isActive)){var b=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=b||f?m:a.to;if(this.state&&g){var _={style:d?pd({},d,x):x};(d&&g[d]!==x||!d&&g!==x)&&this.setState(_)}this.runAnimation(Ga(Ga({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,c=a.to,d=a.duration,f=a.easing,h=a.begin,m=a.onAnimationEnd,g=a.onAnimationStart,w=Dle(s,c,Sle(f),d,this.changeStyle),b=function(){i.stopJSAnimation=w()};this.manager.start([g,h,b,d,m])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,c=a.begin,d=a.onAnimationStart,f=s[0],h=f.style,m=f.duration,g=m===void 0?0:m,w=function(x,_,S){if(S===0)return x;var N=_.duration,P=_.easing,k=P===void 0?"ease":P,C=_.style,A=_.properties,T=_.onAnimationEnd,R=S>0?s[S-1]:_,I=A||Object.keys(C);if(typeof k=="function"||k==="spring")return[].concat(Pw(x),[i.runJSAnimation.bind(i,{from:R.style,to:C,duration:N,easing:k}),N]);var U=yM(I,N,k),O=Ga(Ga(Ga({},R.style),C),{},{transition:U});return[].concat(Pw(x),[O,N,T]).filter(fle)};return this.manager.start([d].concat(Pw(s.reduce(w,[h,Math.max(g,c)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=lle());var i=a.begin,s=a.duration,c=a.attributeName,d=a.to,f=a.easing,h=a.onAnimationStart,m=a.onAnimationEnd,g=a.steps,w=a.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof f=="function"||typeof w=="function"||f==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var x=c?pd({},c,d):d,_=yM(Object.keys(x),s,f);b.start([h,i,Ga(Ga({},x),{},{transition:_}),s,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var c=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var d=$le(a,Ile),f=y.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!c||f===0||s<=0)return i;var m=function(w){var b=w.props,x=b.style,_=x===void 0?{}:x,S=b.className,N=y.cloneElement(w,Ga(Ga({},d),{},{style:Ga(Ga({},_),h),className:S}));return N};return f===1?m(y.Children.only(i)):ee.createElement("div",null,y.Children.map(i,function(g){return m(g)}))}}]),r}(y.PureComponent);Oi.displayName="Animate";Oi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oi.propTypes={from:lr.oneOfType([lr.object,lr.string]),to:lr.oneOfType([lr.object,lr.string]),attributeName:lr.string,duration:lr.number,begin:lr.number,easing:lr.oneOfType([lr.string,lr.func]),steps:lr.arrayOf(lr.shape({duration:lr.number.isRequired,style:lr.object.isRequired,easing:lr.oneOfType([lr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),lr.func]),properties:lr.arrayOf("string"),onAnimationEnd:lr.func})),children:lr.oneOfType([lr.node,lr.func]),isActive:lr.bool,canBegin:lr.bool,onAnimationEnd:lr.func,shouldReAnimate:lr.bool,onAnimationStart:lr.func,onAnimationReStart:lr.func};function uf(e){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uf(e)}function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Np.apply(this,arguments)}function Jle(e,t){return ece(e)||Zle(e,t)||Qle(e,t)||Xle()}function Xle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qle(e,t){if(e){if(typeof e=="string")return SM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SM(e,t)}}function SM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zle(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function ece(e){if(Array.isArray(e))return e}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(n){tce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tce(e,t,r){return t=rce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rce(e){var t=nce(e,"string");return uf(t)=="symbol"?t:t+""}function nce(e,t){if(uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PM=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),c=a>=0?1:-1,d=n>=0?1:-1,f=a>=0&&n>=0||a<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,w=4;g<w;g++)m[g]=i[g]>s?s:i[g];h="M".concat(t,",").concat(r+c*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(r)),h+="L ".concat(t+n-d*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+n,",").concat(r+c*m[1])),h+="L ".concat(t+n,",").concat(r+a-c*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+n-d*m[2],",").concat(r+a)),h+="L ".concat(t+d*m[3],",").concat(r+a),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(r+a-c*m[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var b=Math.min(s,i);h="M ".concat(t,",").concat(r+c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+d*b,",").concat(r,`
            L `).concat(t+n-d*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n,",").concat(r+c*b,`
            L `).concat(t+n,",").concat(r+a-c*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t+n-d*b,",").concat(r+a,`
            L `).concat(t+d*b,",").concat(r+a,`
            A `).concat(b,",").concat(b,",0,0,").concat(f,",").concat(t,",").concat(r+a-c*b," Z")}else h="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return h},ace=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,c=r.width,d=r.height;if(Math.abs(c)>0&&Math.abs(d)>0){var f=Math.min(i,i+c),h=Math.max(i,i+c),m=Math.min(s,s+d),g=Math.max(s,s+d);return n>=f&&n<=h&&a>=m&&a<=g}return!1},ice={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JS=function(t){var r=CM(CM({},ice),t),n=y.useRef(),a=y.useState(-1),i=Jle(a,2),s=i[0],c=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&c(k)}catch{}},[]);var d=r.x,f=r.y,h=r.width,m=r.height,g=r.radius,w=r.className,b=r.animationEasing,x=r.animationDuration,_=r.animationBegin,S=r.isAnimationActive,N=r.isUpdateAnimationActive;if(d!==+d||f!==+f||h!==+h||m!==+m||h===0||m===0)return null;var P=Yt("recharts-rectangle",w);return N?ee.createElement(Oi,{canBegin:s>0,from:{width:h,height:m,x:d,y:f},to:{width:h,height:m,x:d,y:f},duration:x,animationEasing:b,isActive:N},function(k){var C=k.width,A=k.height,T=k.x,R=k.y;return ee.createElement(Oi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,isActive:S,easing:b},ee.createElement("path",Np({},Dt(r,!0),{className:P,d:PM(T,R,C,A,g),ref:n})))}):ee.createElement("path",Np({},Dt(r,!0),{className:P,d:PM(d,f,h,m,g)}))};function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M1.apply(this,arguments)}var Fg=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Yt("recharts-dot",i);return r===+r&&n===+n&&a===+a?ee.createElement("circle",M1({},Dt(t,!1),Vm(t),{className:s,cx:r,cy:n,r:a})):null};function df(e){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},df(e)}var oce=["x","y","top","left","width","height","className"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R1.apply(this,arguments)}function kM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(r),!0).forEach(function(n){lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lce(e,t,r){return t=cce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cce(e){var t=uce(e,"string");return df(t)=="symbol"?t:t+""}function uce(e,t){if(df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dce(e,t){if(e==null)return{};var r=fce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hce=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},mce=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,c=s===void 0?0:s,d=t.left,f=d===void 0?0:d,h=t.width,m=h===void 0?0:h,g=t.height,w=g===void 0?0:g,b=t.className,x=dce(t,oce),_=sce({x:n,y:i,top:c,left:f,width:m,height:w},x);return!We(n)||!We(i)||!We(m)||!We(w)||!We(c)||!We(f)?null:ee.createElement("path",R1({},Dt(_,!0),{className:Yt("recharts-cross",b),d:hce(n,i,m,w,c,f)}))},kw,AM;function pce(){if(AM)return kw;AM=1;var e=H4(),t=e(Object.getPrototypeOf,Object);return kw=t,kw}var Aw,EM;function gce(){if(EM)return Aw;EM=1;var e=po(),t=pce(),r=go(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,c=i.hasOwnProperty,d=s.call(Object);function f(h){if(!r(h)||e(h)!=n)return!1;var m=t(h);if(m===null)return!0;var g=c.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==d}return Aw=f,Aw}var vce=gce();const yce=cr(vce);var Ew,OM;function xce(){if(OM)return Ew;OM=1;var e=po(),t=go(),r="[object Boolean]";function n(a){return a===!0||a===!1||t(a)&&e(a)==r}return Ew=n,Ew}var bce=xce();const wce=cr(bce);function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cp.apply(this,arguments)}function _ce(e,t){return Cce(e)||Nce(e,t)||Sce(e,t)||jce()}function jce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sce(e,t){if(e){if(typeof e=="string")return TM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TM(e,t)}}function TM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nce(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Cce(e){if(Array.isArray(e))return e}function MM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MM(Object(r),!0).forEach(function(n){Pce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pce(e,t,r){return t=kce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kce(e){var t=Ace(e,"string");return ff(t)=="symbol"?t:t+""}function Ace(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DM=function(t,r,n,a,i){var s=n-a,c;return c="M ".concat(t,",").concat(r),c+="L ".concat(t+n,",").concat(r),c+="L ".concat(t+n-s/2,",").concat(r+i),c+="L ".concat(t+n-s/2-a,",").concat(r+i),c+="L ".concat(t,",").concat(r," Z"),c},Ece={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Oce=function(t){var r=RM(RM({},Ece),t),n=y.useRef(),a=y.useState(-1),i=_ce(a,2),s=i[0],c=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var P=n.current.getTotalLength();P&&c(P)}catch{}},[]);var d=r.x,f=r.y,h=r.upperWidth,m=r.lowerWidth,g=r.height,w=r.className,b=r.animationEasing,x=r.animationDuration,_=r.animationBegin,S=r.isUpdateAnimationActive;if(d!==+d||f!==+f||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var N=Yt("recharts-trapezoid",w);return S?ee.createElement(Oi,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:h,lowerWidth:m,height:g,x:d,y:f},duration:x,animationEasing:b,isActive:S},function(P){var k=P.upperWidth,C=P.lowerWidth,A=P.height,T=P.x,R=P.y;return ee.createElement(Oi,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,easing:b},ee.createElement("path",Cp({},Dt(r,!0),{className:N,d:DM(T,R,k,C,A),ref:n})))}):ee.createElement("g",null,ee.createElement("path",Cp({},Dt(r,!0),{className:N,d:DM(d,f,h,m,g)})))},Tce=["option","shapeType","propTransformer","activeClassName","isActive"];function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function Mce(e,t){if(e==null)return{};var r=Rce(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(r),!0).forEach(function(n){Dce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dce(e,t,r){return t=Ice(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ice(e){var t=$ce(e,"string");return hf(t)=="symbol"?t:t+""}function $ce(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lce(e,t){return Pp(Pp({},t),e)}function Fce(e,t){return e==="symbols"}function $M(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return ee.createElement(JS,r);case"trapezoid":return ee.createElement(Oce,r);case"sector":return ee.createElement(yF,r);case"symbols":if(Fce(t))return ee.createElement(pS,r);break;default:return null}}function Bce(e){return y.isValidElement(e)?e.props:e}function Uce(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?Lce:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,c=e.isActive,d=Mce(e,Tce),f;if(y.isValidElement(t))f=y.cloneElement(t,Pp(Pp({},d),Bce(t)));else if(Mt(t))f=t(d);else if(yce(t)&&!wce(t)){var h=a(t,d);f=ee.createElement($M,{shapeType:r,elementProps:h})}else{var m=d;f=ee.createElement($M,{shapeType:r,elementProps:m})}return c?ee.createElement(Cr,{className:s},f):f}function Bg(e,t){return t!=null&&"trapezoids"in e.props}function Ug(e,t){return t!=null&&"sectors"in e.props}function mf(e,t){return t!=null&&"points"in e.props}function zce(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function qce(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Wce(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function Hce(e,t){var r;return Bg(e,t)?r=zce:Ug(e,t)?r=qce:mf(e,t)&&(r=Wce),r}function Vce(e,t){var r;return Bg(e,t)?r="trapezoids":Ug(e,t)?r="sectors":mf(e,t)&&(r="points"),r}function Gce(e,t){if(Bg(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ug(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return mf(e,t)?t.payload:{}}function Kce(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=Vce(r,t),i=Gce(r,t),s=n.filter(function(d,f){var h=Mc(i,d),m=r.props[a].filter(function(b){var x=Hce(r,t);return x(b,t)}),g=r.props[a].indexOf(m[m.length-1]),w=f===g;return h&&w}),c=n.indexOf(s[s.length-1]);return c}var Ow,LM;function Yce(){if(LM)return Ow;LM=1;var e=Math.ceil,t=Math.max;function r(n,a,i,s){for(var c=-1,d=t(e((a-n)/(i||1)),0),f=Array(d);d--;)f[s?d:++c]=n,n+=i;return f}return Ow=r,Ow}var Tw,FM;function CF(){if(FM)return Tw;FM=1;var e=s3(),t=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=e(a),a===t||a===-1/0){var i=a<0?-1:1;return i*r}return a===a?a:0}return Tw=n,Tw}var Mw,BM;function Jce(){if(BM)return Mw;BM=1;var e=Yce(),t=Ag(),r=CF();function n(a){return function(i,s,c){return c&&typeof c!="number"&&t(i,s,c)&&(s=c=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),c=c===void 0?i<s?1:-1:r(c),e(i,s,c,a)}}return Mw=n,Mw}var Rw,UM;function Xce(){if(UM)return Rw;UM=1;var e=Jce(),t=e();return Rw=t,Rw}var Qce=Xce();const kp=cr(Qce);function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(n){PF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PF(e,t,r){return t=Zce(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zce(e){var t=eue(e,"string");return pf(t)=="symbol"?t:t+""}function eue(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tue=["Webkit","Moz","O","ms"],rue=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=tue.reduce(function(i,s){return qM(qM({},i),{},PF({},s+n,r))},{});return a[t]=r,a};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Ap(){return Ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ap.apply(this,arguments)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){fa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AF(n.key),n)}}function aue(e,t,r){return t&&HM(e.prototype,t),r&&HM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iue(e,t,r){return t=Ep(t),oue(e,kF()?Reflect.construct(t,r||[],Ep(e).constructor):t.apply(e,r))}function oue(e,t){if(t&&(Ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sue(e)}function sue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kF=function(){return!!e})()}function Ep(e){return Ep=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ep(e)}function lue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D1(e,t)}function D1(e,t){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D1(e,t)}function fa(e,t,r){return t=AF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=cue(e,"string");return Ic(t)=="symbol"?t:t+""}function cue(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var uue=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,c=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=jd().domain(kp(0,d)).range([i,i+s-c]),h=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(a),scale:f,scaleValues:h}},VM=function(t){return t.changedTouches&&!!t.changedTouches.length},$c=function(e){function t(r){var n;return nue(this,t),n=iue(this,t,[r]),fa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),fa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),fa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,c=a.startIndex;s==null||s({endIndex:i,startIndex:c})}),n.detachDragEndListener()}),fa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),fa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),fa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),fa(n,"handleSlideDragStart",function(a){var i=VM(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return lue(t,e),aue(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,c=this.props,d=c.gap,f=c.data,h=f.length-1,m=Math.min(a,i),g=Math.max(a,i),w=t.getIndexInRange(s,m),b=t.getIndexInRange(s,g);return{startIndex:w-w%d,endIndex:b===h?h:b-b%d}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,c=a.dataKey,d=Vn(i[n],c,n);return Mt(s)?s(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,c=a.endX,d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.startIndex,w=d.endIndex,b=d.onChange,x=n.pageX-i;x>0?x=Math.min(x,f+h-m-c,f+h-m-s):x<0&&(x=Math.max(x,f-s,f-c));var _=this.getIndex({startX:s+x,endX:c+x});(_.startIndex!==g||_.endIndex!==w)&&b&&b(_),this.setState({startX:s+x,endX:c+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=VM(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,c=a.endX,d=a.startX,f=this.state[s],h=this.props,m=h.x,g=h.width,w=h.travellerWidth,b=h.onChange,x=h.gap,_=h.data,S={startX:this.state.startX,endX:this.state.endX},N=n.pageX-i;N>0?N=Math.min(N,m+g-w-f):N<0&&(N=Math.max(N,m-f)),S[s]=f+N;var P=this.getIndex(S),k=P.startIndex,C=P.endIndex,A=function(){var R=_.length-1;return s==="startX"&&(c>d?k%x===0:C%x===0)||c<d&&C===R||s==="endX"&&(c>d?C%x===0:k%x===0)||c>d&&C===R};this.setState(fa(fa({},s,f+N),"brushMoveStartX",n.pageX),function(){b&&A()&&b(P)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,c=s.scaleValues,d=s.startX,f=s.endX,h=this.state[a],m=c.indexOf(h);if(m!==-1){var g=m+n;if(!(g===-1||g>=c.length)){var w=c[g];a==="startX"&&w>=f||a==="endX"&&w<=d||this.setState(fa({},a,w),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.fill,f=n.stroke;return ee.createElement("rect",{stroke:f,fill:d,x:a,y:i,width:s,height:c})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.data,f=n.children,h=n.padding,m=y.Children.only(f);return m?ee.cloneElement(m,{x:a,y:i,width:s,height:c,margin:h,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,c=this,d=this.props,f=d.y,h=d.travellerWidth,m=d.height,g=d.traveller,w=d.ariaLabel,b=d.data,x=d.startIndex,_=d.endIndex,S=Math.max(n,this.props.x),N=Dw(Dw({},Dt(this.props,!1)),{},{x:S,y:f,width:h,height:m}),P=w||"Min value: ".concat((i=b[x])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=b[_])===null||s===void 0?void 0:s.name);return ee.createElement(Cr,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),c.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,N))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,c=i.height,d=i.stroke,f=i.travellerWidth,h=Math.min(n,a)+f,m=Math.max(Math.abs(a-n)-f,0);return ee.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:h,y:s,width:m,height:c})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,c=n.height,d=n.travellerWidth,f=n.stroke,h=this.state,m=h.startX,g=h.endX,w=5,b={pointerEvents:"none",fill:f};return ee.createElement(Cr,{className:"recharts-brush-texts"},ee.createElement(ap,Ap({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-w,y:s+c/2},b),this.getTextOfTick(a)),ee.createElement(ap,Ap({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+d+w,y:s+c/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,c=n.x,d=n.y,f=n.width,h=n.height,m=n.alwaysShowText,g=this.state,w=g.startX,b=g.endX,x=g.isTextActive,_=g.isSlideMoving,S=g.isTravellerMoving,N=g.isTravellerFocused;if(!a||!a.length||!We(c)||!We(d)||!We(f)||!We(h)||f<=0||h<=0)return null;var P=Yt("recharts-brush",i),k=ee.Children.count(s)===1,C=rue("userSelect","none");return ee.createElement(Cr,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),k&&this.renderPanorama(),this.renderSlide(w,b),this.renderTravellerLayer(w,"startX"),this.renderTravellerLayer(b,"endX"),(x||_||S||N||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,c=n.height,d=n.stroke,f=Math.floor(i+c/2)-1;return ee.createElement(ee.Fragment,null,ee.createElement("rect",{x:a,y:i,width:s,height:c,fill:d,stroke:"none"}),ee.createElement("line",{x1:a+1,y1:f,x2:a+s-1,y2:f,fill:"none",stroke:"#fff"}),ee.createElement("line",{x1:a+1,y1:f+2,x2:a+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return ee.isValidElement(n)?i=ee.cloneElement(n,a):Mt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,c=n.x,d=n.travellerWidth,f=n.updateId,h=n.startIndex,m=n.endIndex;if(i!==a.prevData||f!==a.prevUpdateId)return Dw({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s},i&&i.length?uue({data:i,width:s,x:c,travellerWidth:d,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||c!==a.prevX||d!==a.prevTravellerWidth)){a.scale.range([c,c+s-d]);var g=a.scale.domain().map(function(w){return a.scale(w)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:c,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,c=i-1;c-s>1;){var d=Math.floor((s+c)/2);n[d]>a?c=d:s=d}return a>=n[c]?c:s}}])}(y.PureComponent);fa($c,"displayName","Brush");fa($c,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Iw,GM;function due(){if(GM)return Iw;GM=1;var e=_S();function t(r,n){var a;return e(r,function(i,s,c){return a=n(i,s,c),!a}),!!a}return Iw=t,Iw}var $w,KM;function fue(){if(KM)return $w;KM=1;var e=L4(),t=us(),r=due(),n=oa(),a=Ag();function i(s,c,d){var f=n(s)?e:r;return d&&a(s,c,d)&&(c=void 0),f(s,t(c,3))}return $w=i,$w}var hue=fue();const mue=cr(hue);var ki=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},Lw,YM;function pue(){if(YM)return Lw;YM=1;var e=r3();function t(r,n,a){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return Lw=t,Lw}var Fw,JM;function gue(){if(JM)return Fw;JM=1;var e=pue(),t=e3(),r=us();function n(a,i){var s={};return i=r(i,3),t(a,function(c,d,f){e(s,d,i(c,d,f))}),s}return Fw=n,Fw}var vue=gue();const yue=cr(vue);var Bw,XM;function xue(){if(XM)return Bw;XM=1;function e(t,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(!r(t[n],n,t))return!1;return!0}return Bw=e,Bw}var Uw,QM;function bue(){if(QM)return Uw;QM=1;var e=_S();function t(r,n){var a=!0;return e(r,function(i,s,c){return a=!!n(i,s,c),a}),a}return Uw=t,Uw}var zw,ZM;function wue(){if(ZM)return zw;ZM=1;var e=xue(),t=bue(),r=us(),n=oa(),a=Ag();function i(s,c,d){var f=n(s)?e:t;return d&&a(s,c,d)&&(c=void 0),f(s,r(c,3))}return zw=i,zw}var _ue=wue();const EF=cr(_ue);var jue=["x","y"];function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I1.apply(this,arguments)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){Sue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sue(e,t,r){return t=Nue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nue(e){var t=Cue(e,"string");return gf(t)=="symbol"?t:t+""}function Cue(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pue(e,t){if(e==null)return{};var r=kue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Aue(e,t){var r=e.x,n=e.y,a=Pue(e,jue),i="".concat(r),s=parseInt(i,10),c="".concat(n),d=parseInt(c,10),f="".concat(t.height||a.height),h=parseInt(f,10),m="".concat(t.width||a.width),g=parseInt(m,10);return sd(sd(sd(sd(sd({},t),a),s?{x:s}:{}),d?{y:d}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function tR(e){return ee.createElement(Uce,I1({shapeType:"rectangle",propTransformer:Aue,activeClassName:"recharts-active-bar"},e))}var Eue=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||il(),r)}},Oue=["value","background"],OF;function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Tue(e,t){if(e==null)return{};var r=Mue(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Mue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Op(){return Op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Op.apply(this,arguments)}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){Qo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MF(n.key),n)}}function Due(e,t,r){return t&&nR(e.prototype,t),r&&nR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iue(e,t,r){return t=Tp(t),$ue(e,TF()?Reflect.construct(t,r||[],Tp(e).constructor):t.apply(e,r))}function $ue(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lue(e)}function Lue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TF=function(){return!!e})()}function Tp(e){return Tp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tp(e)}function Fue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$1(e,t)}function $1(e,t){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$1(e,t)}function Qo(e,t,r){return t=MF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e){var t=Bue(e,"string");return Lc(t)=="symbol"?t:t+""}function Bue(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ms=function(e){function t(){var r;Rue(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Iue(this,t,[].concat(a)),Qo(r,"state",{isAnimationFinished:!1}),Qo(r,"id",du("recharts-bar-")),Qo(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Qo(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Fue(t,e),Due(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,c=i.dataKey,d=i.activeIndex,f=i.activeBar,h=Dt(this.props,!1);return n&&n.map(function(m,g){var w=g===d,b=w?f:s,x=Jr(Jr(Jr({},h),m),{},{isActive:w,option:b,index:g,dataKey:c,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ee.createElement(Cr,Op({className:"recharts-bar-rectangle"},Gm(a.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),ee.createElement(tR,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,c=a.isAnimationActive,d=a.animationBegin,f=a.animationDuration,h=a.animationEasing,m=a.animationId,g=this.state.prevData;return ee.createElement(Oi,{begin:d,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var b=w.t,x=i.map(function(_,S){var N=g&&g[S];if(N){var P=_n(N.x,_.x),k=_n(N.y,_.y),C=_n(N.width,_.width),A=_n(N.height,_.height);return Jr(Jr({},_),{},{x:P(b),y:k(b),width:C(b),height:A(b)})}if(s==="horizontal"){var T=_n(0,_.height),R=T(b);return Jr(Jr({},_),{},{y:_.y+_.height-R,height:R})}var I=_n(0,_.width),U=I(b);return Jr(Jr({},_),{},{width:U})});return ee.createElement(Cr,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Mc(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,c=a.activeIndex,d=Dt(this.props.background,!1);return i.map(function(f,h){f.value;var m=f.background,g=Tue(f,Oue);if(!m)return null;var w=Jr(Jr(Jr(Jr(Jr({},g),{},{fill:"#eee"},m),d),Gm(n.props,f,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:h,className:"recharts-bar-background-rectangle"});return ee.createElement(tR,Op({key:"background-bar-".concat(h),option:n.props.background,isActive:h===c},w))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,c=i.xAxis,d=i.yAxis,f=i.layout,h=i.children,m=Ta(h,Uf);if(!m)return null;var g=f==="vertical"?s[0].height/2:s[0].width/2,w=function(_,S){var N=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:N,errorVal:Vn(_,S)}},b={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ee.createElement(Cr,b,m.map(function(x){return ee.cloneElement(x,{key:"error-bar-".concat(a,"-").concat(x.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,offset:g,dataPointFormatter:w})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,c=n.xAxis,d=n.yAxis,f=n.left,h=n.top,m=n.width,g=n.height,w=n.isAnimationActive,b=n.background,x=n.id;if(a||!i||!i.length)return null;var _=this.state.isAnimationFinished,S=Yt("recharts-bar",s),N=c&&c.allowDataOverflow,P=d&&d.allowDataOverflow,k=N||P,C=zt(x)?this.id:x;return ee.createElement(Cr,{className:S},N||P?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(C)},ee.createElement("rect",{x:N?f:f-m/2,y:P?h:h-g/2,width:N?m:m*2,height:P?g:g*2}))):null,ee.createElement(Cr,{className:"recharts-bar-rectangles",clipPath:k?"url(#clipPath-".concat(C,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(k,C),(!w||_)&&ao.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(y.PureComponent);OF=ms;Qo(ms,"displayName","Bar");Qo(ms,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ml.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qo(ms,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,c=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,h=e.dataStartIndex,m=e.displayedData,g=e.offset,w=ioe(n,r);if(!w)return null;var b=t.layout,x=r.type.defaultProps,_=x!==void 0?Jr(Jr({},x),r.props):r.props,S=_.dataKey,N=_.children,P=_.minPointSize,k=b==="horizontal"?s:i,C=f?k.scale.domain():null,A=hoe({numericAxis:k}),T=Ta(N,c3),R=m.map(function(I,U){var O,B,Z,te,Q,Y;f?O=ooe(f[h+U],C):(O=Vn(I,S),Array.isArray(O)||(O=[A,O]));var ie=Eue(P,OF.defaultProps.minPointSize)(O[1],U);if(b==="horizontal"){var W,V=[s.scale(O[0]),s.scale(O[1])],F=V[0],L=V[1];B=BT({axis:i,ticks:c,bandSize:a,offset:w.offset,entry:I,index:U}),Z=(W=L??F)!==null&&W!==void 0?W:void 0,te=w.size;var J=F-L;if(Q=Number.isNaN(J)?0:J,Y={x:B,y:s.y,width:te,height:s.height},Math.abs(ie)>0&&Math.abs(Q)<Math.abs(ie)){var G=ri(Q||ie)*(Math.abs(ie)-Math.abs(Q));Z-=G,Q+=G}}else{var de=[i.scale(O[0]),i.scale(O[1])],Ce=de[0],q=de[1];if(B=Ce,Z=BT({axis:s,ticks:d,bandSize:a,offset:w.offset,entry:I,index:U}),te=q-Ce,Q=w.size,Y={x:i.x,y:Z,width:i.width,height:Q},Math.abs(ie)>0&&Math.abs(te)<Math.abs(ie)){var ae=ri(te||ie)*(Math.abs(ie)-Math.abs(te));te+=ae}}return Jr(Jr(Jr({},I),{},{x:B,y:Z,width:te,height:Q,value:f?O:O[1],payload:I,background:Y},T&&T[U]&&T[U].props),{},{tooltipPayload:[pF(r,I)],tooltipPosition:{x:B+te/2,y:Z+Q/2}})});return Jr({data:R,layout:b},g)});function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function Uue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RF(n.key),n)}}function zue(e,t,r){return t&&aR(e.prototype,t),r&&aR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){zg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zg(e,t,r){return t=RF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=que(e,"string");return vf(t)=="symbol"?t:t+""}function que(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XS=function(t,r,n,a,i){var s=t.width,c=t.height,d=t.layout,f=t.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:c-n.bottom,bottomMirror:c-n.bottom},g=!!ha(f,ms);return h.reduce(function(w,b){var x=r[b],_=x.orientation,S=x.domain,N=x.padding,P=N===void 0?{}:N,k=x.mirror,C=x.reversed,A="".concat(_).concat(k?"Mirror":""),T,R,I,U,O;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var B=S[1]-S[0],Z=1/0,te=x.categoricalDomain.sort(WX);if(te.forEach(function(de,Ce){Ce>0&&(Z=Math.min((de||0)-(te[Ce-1]||0),Z))}),Number.isFinite(Z)){var Q=Z/B,Y=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(T=Q*Y/2),x.padding==="no-gap"){var ie=nl(t.barCategoryGap,Q*Y),W=Q*Y/2;T=W-ie-(W-ie)/Y*ie}}}a==="xAxis"?R=[n.left+(P.left||0)+(T||0),n.left+n.width-(P.right||0)-(T||0)]:a==="yAxis"?R=d==="horizontal"?[n.top+n.height-(P.bottom||0),n.top+(P.top||0)]:[n.top+(P.top||0)+(T||0),n.top+n.height-(P.bottom||0)-(T||0)]:R=x.range,C&&(R=[R[1],R[0]]);var V=noe(x,i,g),F=V.scale,L=V.realScaleType;F.domain(S).range(R),aoe(F);var J=foe(F,Xa(Xa({},x),{},{realScaleType:L}));a==="xAxis"?(O=_==="top"&&!k||_==="bottom"&&k,I=n.left,U=m[A]-O*x.height):a==="yAxis"&&(O=_==="left"&&!k||_==="right"&&k,I=m[A]-O*x.width,U=n.top);var G=Xa(Xa(Xa({},x),J),{},{realScaleType:L,x:I,y:U,scale:F,width:a==="xAxis"?n.width:x.width,height:a==="yAxis"?n.height:x.height});return G.bandSize=xp(G,J),!x.hide&&a==="xAxis"?m[A]+=(O?-1:1)*G.height:x.hide||(m[A]+=(O?-1:1)*G.width),Xa(Xa({},w),{},zg({},b,G))},{})},DF=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},Wue=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return DF({x:r,y:n},{x:a,y:i})},IF=function(){function e(t){Uue(this,e),this.scale=t}return zue(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(r)+c}default:return this.scale(r)}if(a){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();zg(IF,"EPS",1e-4);var QS=function(t){var r=Object.keys(t).reduce(function(n,a){return Xa(Xa({},n),{},zg({},a,IF.create(t[a])))},{});return Xa(Xa({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,c=i.position;return yue(a,function(d,f){return r[f].apply(d,{bandAware:s,position:c})})},isInRange:function(a){return EF(a,function(i,s){return r[s].isInRange(i)})}})};function Hue(e){return(e%180+180)%180}var Vue=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Hue(a),s=i*Math.PI/180,c=Math.atan(n/r),d=s>c&&s<Math.PI-c?n/Math.sin(s):r/Math.cos(s);return Math.abs(d)},qw,oR;function Gue(){if(oR)return qw;oR=1;var e=us(),t=If(),r=Pg();function n(a){return function(i,s,c){var d=Object(i);if(!t(i)){var f=e(s,3);i=r(i),s=function(m){return f(d[m],m,d)}}var h=a(i,s,c);return h>-1?d[f?i[h]:h]:void 0}}return qw=n,qw}var Ww,sR;function Kue(){if(sR)return Ww;sR=1;var e=CF();function t(r){var n=e(r),a=n%1;return n===n?a?n-a:n:0}return Ww=t,Ww}var Hw,lR;function Yue(){if(lR)return Hw;lR=1;var e=Y4(),t=us(),r=Kue(),n=Math.max;function a(i,s,c){var d=i==null?0:i.length;if(!d)return-1;var f=c==null?0:r(c);return f<0&&(f=n(d+f,0)),e(i,t(s,3),f)}return Hw=a,Hw}var Vw,cR;function Jue(){if(cR)return Vw;cR=1;var e=Gue(),t=Yue(),r=e(t);return Vw=r,Vw}var Xue=Jue();const Que=cr(Xue);var Zue=u4();const ede=cr(Zue);var tde=ede(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),ZS=y.createContext(void 0),eN=y.createContext(void 0),$F=y.createContext(void 0),LF=y.createContext({}),FF=y.createContext(void 0),BF=y.createContext(0),UF=y.createContext(0),uR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,c=t.children,d=t.width,f=t.height,h=tde(i);return ee.createElement(ZS.Provider,{value:n},ee.createElement(eN.Provider,{value:a},ee.createElement(LF.Provider,{value:i},ee.createElement($F.Provider,{value:h},ee.createElement(FF.Provider,{value:s},ee.createElement(BF.Provider,{value:f},ee.createElement(UF.Provider,{value:d},c)))))))},rde=function(){return y.useContext(FF)},zF=function(t){var r=y.useContext(ZS);r==null&&il();var n=r[t];return n==null&&il(),n},nde=function(){var t=y.useContext(ZS);return Jo(t)},ade=function(){var t=y.useContext(eN),r=Que(t,function(n){return EF(n.domain,Number.isFinite)});return r||Jo(t)},qF=function(t){var r=y.useContext(eN);r==null&&il();var n=r[t];return n==null&&il(),n},ide=function(){var t=y.useContext($F);return t},ode=function(){return y.useContext(LF)},tN=function(){return y.useContext(UF)},rN=function(){return y.useContext(BF)};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function sde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HF(n.key),n)}}function cde(e,t,r){return t&&lde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ude(e,t,r){return t=Mp(t),dde(e,WF()?Reflect.construct(t,r||[],Mp(e).constructor):t.apply(e,r))}function dde(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fde(e)}function fde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!e})()}function Mp(e){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mp(e)}function hde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L1(e,t)}function L1(e,t){return L1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L1(e,t)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){nN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nN(e,t,r){return t=HF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=mde(e,"string");return Fc(t)=="symbol"?t:t+""}function mde(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function pde(e,t){return xde(e)||yde(e,t)||vde(e,t)||gde()}function gde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vde(e,t){if(e){if(typeof e=="string")return hR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hR(e,t)}}function hR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yde(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function xde(e){if(Array.isArray(e))return e}function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(this,arguments)}var bde=function(t,r){var n;return ee.isValidElement(t)?n=ee.cloneElement(t,r):Mt(t)?n=t(r):n=ee.createElement("line",F1({},r,{className:"recharts-reference-line-line"})),n},wde=function(t,r,n,a,i,s,c,d,f){var h=i.x,m=i.y,g=i.width,w=i.height;if(n){var b=f.y,x=t.y.apply(b,{position:s});if(ki(f,"discard")&&!t.y.isInRange(x))return null;var _=[{x:h+g,y:x},{x:h,y:x}];return d==="left"?_.reverse():_}if(r){var S=f.x,N=t.x.apply(S,{position:s});if(ki(f,"discard")&&!t.x.isInRange(N))return null;var P=[{x:N,y:m+w},{x:N,y:m}];return c==="top"?P.reverse():P}if(a){var k=f.segment,C=k.map(function(A){return t.apply(A,{position:s})});return ki(f,"discard")&&mue(C,function(A){return!t.isInRange(A)})?null:C}return null};function _de(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,c=e.className,d=e.alwaysShow,f=rde(),h=zF(a),m=qF(i),g=ide();if(!f||!g)return null;ro(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var w=QS({x:h.scale,y:m.scale}),b=an(t),x=an(r),_=n&&n.length===2,S=wde(w,b,x,_,g,e.position,h.orientation,m.orientation,e);if(!S)return null;var N=pde(S,2),P=N[0],k=P.x,C=P.y,A=N[1],T=A.x,R=A.y,I=ki(e,"hidden")?"url(#".concat(f,")"):void 0,U=fR(fR({clipPath:I},Dt(e,!0)),{},{x1:k,y1:C,x2:T,y2:R});return ee.createElement(Cr,{className:Yt("recharts-reference-line",c)},bde(s,U),Dn.renderCallByParent(e,Wue({x1:k,y1:C,x2:T,y2:R})))}var aN=function(e){function t(){return sde(this,t),ude(this,t,arguments)}return hde(t,e),cde(t,[{key:"render",value:function(){return ee.createElement(_de,this.props)}}])}(ee.Component);nN(aN,"displayName","ReferenceLine");nN(aN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(this,arguments)}function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function mR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mR(Object(r),!0).forEach(function(n){qg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GF(n.key),n)}}function Nde(e,t,r){return t&&Sde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cde(e,t,r){return t=Rp(t),Pde(e,VF()?Reflect.construct(t,r||[],Rp(e).constructor):t.apply(e,r))}function Pde(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kde(e)}function kde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VF=function(){return!!e})()}function Rp(e){return Rp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rp(e)}function Ade(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U1(e,t)}function U1(e,t){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},U1(e,t)}function qg(e,t,r){return t=GF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=Ede(e,"string");return Bc(t)=="symbol"?t:t+""}function Ede(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ode=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=QS({x:a.scale,y:i.scale}),c=s.apply({x:r,y:n},{bandAware:!0});return ki(t,"discard")&&!s.isInRange(c)?null:c},Wg=function(e){function t(){return jde(this,t),Cde(this,t,arguments)}return Ade(t,e),Nde(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,c=n.alwaysShow,d=n.clipPathId,f=an(a),h=an(i);if(ro(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!h)return null;var m=Ode(this.props);if(!m)return null;var g=m.x,w=m.y,b=this.props,x=b.shape,_=b.className,S=ki(this.props,"hidden")?"url(#".concat(d,")"):void 0,N=pR(pR({clipPath:S},Dt(this.props,!0)),{},{cx:g,cy:w});return ee.createElement(Cr,{className:Yt("recharts-reference-dot",_)},t.renderDot(x,N),Dn.renderCallByParent(this.props,{x:g-s,y:w-s,width:2*s,height:2*s}))}}])}(ee.Component);qg(Wg,"displayName","ReferenceDot");qg(Wg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qg(Wg,"renderDot",function(e,t){var r;return ee.isValidElement(e)?r=ee.cloneElement(e,t):Mt(e)?r=e(t):r=ee.createElement(Fg,B1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function z1(){return z1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z1.apply(this,arguments)}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){Hg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YF(n.key),n)}}function Rde(e,t,r){return t&&Mde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dde(e,t,r){return t=Dp(t),Ide(e,KF()?Reflect.construct(t,r||[],Dp(e).constructor):t.apply(e,r))}function Ide(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $de(e)}function $de(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KF=function(){return!!e})()}function Dp(e){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dp(e)}function Lde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q1(e,t)}function q1(e,t){return q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},q1(e,t)}function Hg(e,t,r){return t=YF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YF(e){var t=Fde(e,"string");return Uc(t)=="symbol"?t:t+""}function Fde(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bde=function(t,r,n,a,i){var s=i.x1,c=i.x2,d=i.y1,f=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var g=QS({x:h.scale,y:m.scale}),w={x:t?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(d,{position:"start"}):g.y.rangeMin},b={x:r?g.x.apply(c,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(f,{position:"end"}):g.y.rangeMax};return ki(i,"discard")&&(!g.isInRange(w)||!g.isInRange(b))?null:DF(w,b)},Vg=function(e){function t(){return Tde(this,t),Dde(this,t,arguments)}return Lde(t,e),Rde(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,c=n.y2,d=n.className,f=n.alwaysShow,h=n.clipPathId;ro(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=an(a),g=an(i),w=an(s),b=an(c),x=this.props.shape;if(!m&&!g&&!w&&!b&&!x)return null;var _=Bde(m,g,w,b,this.props);if(!_&&!x)return null;var S=ki(this.props,"hidden")?"url(#".concat(h,")"):void 0;return ee.createElement(Cr,{className:Yt("recharts-reference-area",d)},t.renderRect(x,vR(vR({clipPath:S},Dt(this.props,!0)),_)),Dn.renderCallByParent(this.props,_))}}])}(ee.Component);Hg(Vg,"displayName","ReferenceArea");Hg(Vg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Hg(Vg,"renderRect",function(e,t){var r;return ee.isValidElement(e)?r=ee.cloneElement(e,t):Mt(e)?r=e(t):r=ee.createElement(JS,z1({},t,{className:"recharts-reference-area-rect"})),r});function JF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Ude(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Vue(n,r)}function zde(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,c=e.height;return t===1?{start:n?a:i,end:n?a+s:i+c}:{start:n?a+s:i+c,end:n?a:i}}function Ip(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function qde(e,t){return JF(e,t+1)}function Wde(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,c=t.end,d=0,f=1,h=s,m=function(){var b=n==null?void 0:n[d];if(b===void 0)return{v:JF(n,f)};var x=d,_,S=function(){return _===void 0&&(_=r(b,x)),_},N=b.coordinate,P=d===0||Ip(e,N,S,h,c);P||(d=0,h=s,f+=1),P&&(h=N+e*(S()/2+a),d+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){Hde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hde(e,t,r){return t=Vde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vde(e){var t=Gde(e,"string");return yf(t)=="symbol"?t:t+""}function Gde(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kde(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,c=t.start,d=t.end,f=function(g){var w=i[g],b,x=function(){return b===void 0&&(b=r(w,g)),b};if(g===s-1){var _=e*(w.coordinate+e*x()/2-d);i[g]=w=Tn(Tn({},w),{},{tickCoord:_>0?w.coordinate-_*e:w.coordinate})}else i[g]=w=Tn(Tn({},w),{},{tickCoord:w.coordinate});var S=Ip(e,w.tickCoord,x,c,d);S&&(d=w.tickCoord-e*(x()/2+a),i[g]=Tn(Tn({},w),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return i}function Yde(e,t,r,n,a,i){var s=(n||[]).slice(),c=s.length,d=t.start,f=t.end;if(i){var h=n[c-1],m=r(h,c-1),g=e*(h.coordinate+e*m/2-f);s[c-1]=h=Tn(Tn({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var w=Ip(e,h.tickCoord,function(){return m},d,f);w&&(f=h.tickCoord-e*(m/2+a),s[c-1]=Tn(Tn({},h),{},{isShow:!0}))}for(var b=i?c-1:c,x=function(N){var P=s[N],k,C=function(){return k===void 0&&(k=r(P,N)),k};if(N===0){var A=e*(P.coordinate-e*C()/2-d);s[N]=P=Tn(Tn({},P),{},{tickCoord:A<0?P.coordinate-A*e:P.coordinate})}else s[N]=P=Tn(Tn({},P),{},{tickCoord:P.coordinate});var T=Ip(e,P.tickCoord,C,d,f);T&&(d=P.tickCoord+e*(C()/2+a),s[N]=Tn(Tn({},P),{},{isShow:!0}))},_=0;_<b;_++)x(_);return s}function iN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,c=e.orientation,d=e.interval,f=e.tickFormatter,h=e.unit,m=e.angle;if(!a||!a.length||!n)return[];if(We(d)||ml.isSsr)return qde(a,typeof d=="number"&&We(d)?d:0);var g=[],w=c==="top"||c==="bottom"?"width":"height",b=h&&w==="width"?_d(h,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=function(P,k){var C=Mt(f)?f(P.value,k):P.value;return w==="width"?Ude(_d(C,{fontSize:t,letterSpacing:r}),b,m):_d(C,{fontSize:t,letterSpacing:r})[w]},_=a.length>=2?ri(a[1].coordinate-a[0].coordinate):1,S=zde(i,_,w);return d==="equidistantPreserveStart"?Wde(_,S,x,a,s):(d==="preserveStart"||d==="preserveStartEnd"?g=Yde(_,S,x,a,s,d==="preserveStartEnd"):g=Kde(_,S,x,a,s),g.filter(function(N){return N.isShow}))}var Jde=["viewBox"],Xde=["viewBox"],Qde=["ticks"];function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cc.apply(this,arguments)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){oN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gw(e,t){if(e==null)return{};var r=Zde(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function efe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QF(n.key),n)}}function tfe(e,t,r){return t&&bR(e.prototype,t),r&&bR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rfe(e,t,r){return t=$p(t),nfe(e,XF()?Reflect.construct(t,r||[],$p(e).constructor):t.apply(e,r))}function nfe(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return afe(e)}function afe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!e})()}function $p(e){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$p(e)}function ife(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W1(e,t)}function W1(e,t){return W1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},W1(e,t)}function oN(e,t,r){return t=QF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QF(e){var t=ofe(e,"string");return zc(t)=="symbol"?t:t+""}function ofe(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gu=function(e){function t(r){var n;return efe(this,t),n=rfe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ife(t,e),tfe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=Gw(n,Jde),c=this.props,d=c.viewBox,f=Gw(c,Xde);return!pc(i,d)||!pc(s,f)||!pc(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,c=a.width,d=a.height,f=a.orientation,h=a.tickSize,m=a.mirror,g=a.tickMargin,w,b,x,_,S,N,P=m?-1:1,k=n.tickSize||h,C=We(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":w=b=n.coordinate,_=s+ +!m*d,x=_-P*k,N=x-P*g,S=C;break;case"left":x=_=n.coordinate,b=i+ +!m*c,w=b-P*k,S=w-P*g,N=C;break;case"right":x=_=n.coordinate,b=i+ +m*c,w=b+P*k,S=w+P*g,N=C;break;default:w=b=n.coordinate,_=s+ +m*d,x=_+P*k,N=x+P*g,S=C;break}return{line:{x1:w,y1:x,x2:b,y2:_},tick:{x:S,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,c=n.height,d=n.orientation,f=n.mirror,h=n.axisLine,m=Bn(Bn(Bn({},Dt(this.props,!1)),Dt(h,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);m=Bn(Bn({},m),{},{x1:a,y1:i+g*c,x2:a+s,y2:i+g*c})}else{var w=+(d==="left"&&!f||d==="right"&&f);m=Bn(Bn({},m),{},{x1:a+w*s,y1:i,x2:a+w*s,y2:i+c})}return ee.createElement("line",cc({},m,{className:Yt("recharts-cartesian-axis-line",Oa(h,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,c=this.props,d=c.tickLine,f=c.stroke,h=c.tick,m=c.tickFormatter,g=c.unit,w=iN(Bn(Bn({},this.props),{},{ticks:n}),a,i),b=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),_=Dt(this.props,!1),S=Dt(h,!1),N=Bn(Bn({},_),{},{fill:"none"},Dt(d,!1)),P=w.map(function(k,C){var A=s.getTickLineCoord(k),T=A.line,R=A.tick,I=Bn(Bn(Bn(Bn({textAnchor:b,verticalAnchor:x},_),{},{stroke:"none",fill:f},S),R),{},{index:C,payload:k,visibleTicksCount:w.length,tickFormatter:m});return ee.createElement(Cr,cc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Gm(s.props,k,C)),d&&ee.createElement("line",cc({},N,T,{className:Yt("recharts-cartesian-axis-tick-line",Oa(d,"className"))})),h&&t.renderTickItem(h,I,"".concat(Mt(m)?m(k.value,C):k.value).concat(g||"")))});return ee.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,c=a.height,d=a.ticksGenerator,f=a.className,h=a.hide;if(h)return null;var m=this.props,g=m.ticks,w=Gw(m,Qde),b=g;return Mt(d)&&(b=g&&g.length>0?d(this.props):d(w)),s<=0||c<=0||!b||!b.length?null:ee.createElement(Cr,{className:Yt("recharts-cartesian-axis",f),ref:function(_){n.layerReference=_}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Dn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return ee.isValidElement(n)?s=ee.cloneElement(n,a):Mt(n)?s=n(a):s=ee.createElement(ap,cc({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(y.Component);oN(gu,"displayName","CartesianAxis");oN(gu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var sfe=["x1","y1","x2","y2","key"],lfe=["offset"];function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){cfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cfe(e,t,r){return t=ufe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ufe(e){var t=dfe(e,"string");return ol(t)=="symbol"?t:t+""}function dfe(e,t){if(ol(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ol(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(){return qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qs.apply(this,arguments)}function _R(e,t){if(e==null)return{};var r=ffe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ffe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var hfe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,c=t.height,d=t.ry;return ee.createElement("rect",{x:a,y:i,ry:d,width:s,height:c,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function ZF(e,t){var r;if(ee.isValidElement(e))r=ee.cloneElement(e,t);else if(Mt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,c=t.key,d=_R(t,sfe),f=Dt(d,!1);f.offset;var h=_R(f,lfe);r=ee.createElement("line",qs({},h,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:c}))}return r}function mfe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(c,d){var f=In(In({},e),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return ZF(a,f)});return ee.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function pfe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(c,d){var f=In(In({},e),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return ZF(a,f)});return ee.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function gfe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,c=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var h=c.map(function(g){return Math.round(g+a-a)}).sort(function(g,w){return g-w});a!==h[0]&&h.unshift(0);var m=h.map(function(g,w){var b=!h[w+1],x=b?a+s-g:h[w+1]-g;if(x<=0)return null;var _=w%t.length;return ee.createElement("rect",{key:"react-".concat(w),y:g,x:n,height:x,width:i,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function vfe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,c=e.width,d=e.height,f=e.verticalPoints;if(!r||!n||!n.length)return null;var h=f.map(function(g){return Math.round(g+i-i)}).sort(function(g,w){return g-w});i!==h[0]&&h.unshift(0);var m=h.map(function(g,w){var b=!h[w+1],x=b?i+c-g:h[w+1]-g;if(x<=0)return null;var _=w%n.length;return ee.createElement("rect",{key:"react-".concat(w),x:g,y:s,width:x,height:d,stroke:"none",fill:n[_],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ee.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var yfe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return hF(iN(In(In(In({},gu.defaultProps),n),{},{ticks:Qi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},xfe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return hF(iN(In(In(In({},gu.defaultProps),n),{},{ticks:Qi(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},ac={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ys(e){var t,r,n,a,i,s,c=tN(),d=rN(),f=ode(),h=In(In({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ac.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ac.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ac.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:ac.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ac.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:ac.verticalFill,x:We(e.x)?e.x:f.left,y:We(e.y)?e.y:f.top,width:We(e.width)?e.width:f.width,height:We(e.height)?e.height:f.height}),m=h.x,g=h.y,w=h.width,b=h.height,x=h.syncWithTicks,_=h.horizontalValues,S=h.verticalValues,N=nde(),P=ade();if(!We(w)||w<=0||!We(b)||b<=0||!We(m)||m!==+m||!We(g)||g!==+g)return null;var k=h.verticalCoordinatesGenerator||yfe,C=h.horizontalCoordinatesGenerator||xfe,A=h.horizontalPoints,T=h.verticalPoints;if((!A||!A.length)&&Mt(C)){var R=_&&_.length,I=C({yAxis:P?In(In({},P),{},{ticks:R?_:P.ticks}):void 0,width:c,height:d,offset:f},R?!0:x);ro(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ol(I),"]")),Array.isArray(I)&&(A=I)}if((!T||!T.length)&&Mt(k)){var U=S&&S.length,O=k({xAxis:N?In(In({},N),{},{ticks:U?S:N.ticks}):void 0,width:c,height:d,offset:f},U?!0:x);ro(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ol(O),"]")),Array.isArray(O)&&(T=O)}return ee.createElement("g",{className:"recharts-cartesian-grid"},ee.createElement(hfe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),ee.createElement(mfe,qs({},h,{offset:f,horizontalPoints:A,xAxis:N,yAxis:P})),ee.createElement(pfe,qs({},h,{offset:f,verticalPoints:T,xAxis:N,yAxis:P})),ee.createElement(gfe,qs({},h,{horizontalPoints:A})),ee.createElement(vfe,qs({},h,{verticalPoints:T})))}Ys.displayName="CartesianGrid";var bfe=["type","layout","connectNulls","ref"],wfe=["key"];function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function jR(e,t){if(e==null)return{};var r=_fe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _fe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cd(){return Cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cd.apply(this,arguments)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){Qa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ic(e){return Cfe(e)||Nfe(e)||Sfe(e)||jfe()}function jfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sfe(e,t){if(e){if(typeof e=="string")return H1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H1(e,t)}}function Nfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cfe(e){if(Array.isArray(e))return H1(e)}function H1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t6(n.key),n)}}function kfe(e,t,r){return t&&NR(e.prototype,t),r&&NR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Afe(e,t,r){return t=Lp(t),Efe(e,e6()?Reflect.construct(t,r||[],Lp(e).constructor):t.apply(e,r))}function Efe(e,t){if(t&&(qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ofe(e)}function Ofe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!e})()}function Lp(e){return Lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lp(e)}function Tfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V1(e,t)}function V1(e,t){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},V1(e,t)}function Qa(e,t,r){return t=t6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t6(e){var t=Mfe(e,"string");return qc(t)=="symbol"?t:t+""}function Mfe(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var sl=function(e){function t(){var r;Pfe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Afe(this,t,[].concat(a)),Qa(r,"state",{isAnimationFinished:!0,totalLength:0}),Qa(r,"generateSimpleStrokeDasharray",function(s,c){return"".concat(c,"px ").concat(s-c,"px")}),Qa(r,"getStrokeDasharray",function(s,c,d){var f=d.reduce(function(S,N){return S+N});if(!f)return r.generateSimpleStrokeDasharray(c,s);for(var h=Math.floor(s/f),m=s%f,g=c-s,w=[],b=0,x=0;b<d.length;x+=d[b],++b)if(x+d[b]>m){w=[].concat(ic(d.slice(0,b)),[m-x]);break}var _=w.length%2===0?[0,g]:[g];return[].concat(ic(t.repeat(d,h)),ic(w),_).map(function(S){return"".concat(S,"px")}).join(", ")}),Qa(r,"id",du("recharts-line-")),Qa(r,"pathRef",function(s){r.mainCurve=s}),Qa(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Qa(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Tfe(t,e),kfe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,c=i.xAxis,d=i.yAxis,f=i.layout,h=i.children,m=Ta(h,Uf);if(!m)return null;var g=function(x,_){return{x:x.x,y:x.y,value:x.value,errorVal:Vn(x.payload,_)}},w={clipPath:n?"url(#clipPath-".concat(a,")"):null};return ee.createElement(Cr,w,m.map(function(b){return ee.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:s,xAxis:c,yAxis:d,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var c=this.props,d=c.dot,f=c.points,h=c.dataKey,m=Dt(this.props,!1),g=Dt(d,!0),w=f.map(function(x,_){var S=da(da(da({key:"dot-".concat(_),r:3},m),g),{},{index:_,cx:x.x,cy:x.y,value:x.value,dataKey:h,payload:x.payload,points:f});return t.renderDotItem(d,S)}),b={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ee.createElement(Cr,Cd({className:"recharts-line-dots",key:"dots"},b),w)}},{key:"renderCurveStatically",value:function(n,a,i,s){var c=this.props,d=c.type,f=c.layout,h=c.connectNulls;c.ref;var m=jR(c,bfe),g=da(da(da({},Dt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:d,layout:f,connectNulls:h});return ee.createElement(xc,Cd({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,c=s.points,d=s.strokeDasharray,f=s.isAnimationActive,h=s.animationBegin,m=s.animationDuration,g=s.animationEasing,w=s.animationId,b=s.animateNewValues,x=s.width,_=s.height,S=this.state,N=S.prevPoints,P=S.totalLength;return ee.createElement(Oi,{begin:h,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(w),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(k){var C=k.t;if(N){var A=N.length/c.length,T=c.map(function(B,Z){var te=Math.floor(Z*A);if(N[te]){var Q=N[te],Y=_n(Q.x,B.x),ie=_n(Q.y,B.y);return da(da({},B),{},{x:Y(C),y:ie(C)})}if(b){var W=_n(x*2,B.x),V=_n(_/2,B.y);return da(da({},B),{},{x:W(C),y:V(C)})}return da(da({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(T,n,a)}var R=_n(0,P),I=R(C),U;if(d){var O="".concat(d).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});U=i.getStrokeDasharray(I,P,O)}else U=i.generateSimpleStrokeDasharray(P,I);return i.renderCurveStatically(c,n,a,{strokeDasharray:U})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,c=i.isAnimationActive,d=this.state,f=d.prevPoints,h=d.totalLength;return c&&s&&s.length&&(!f&&h>0||!Mc(f,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,c=a.points,d=a.className,f=a.xAxis,h=a.yAxis,m=a.top,g=a.left,w=a.width,b=a.height,x=a.isAnimationActive,_=a.id;if(i||!c||!c.length)return null;var S=this.state.isAnimationFinished,N=c.length===1,P=Yt("recharts-line",d),k=f&&f.allowDataOverflow,C=h&&h.allowDataOverflow,A=k||C,T=zt(_)?this.id:_,R=(n=Dt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=R.r,U=I===void 0?3:I,O=R.strokeWidth,B=O===void 0?2:O,Z=p4(s)?s:{},te=Z.clipDot,Q=te===void 0?!0:te,Y=U*2+B;return ee.createElement(Cr,{className:P},k||C?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(T)},ee.createElement("rect",{x:k?g:g-w/2,y:C?m:m-b/2,width:k?w:w*2,height:C?b:b*2})),!Q&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(T)},ee.createElement("rect",{x:g-Y/2,y:m-Y/2,width:w+Y,height:b+Y}))):null,!N&&this.renderCurve(A,T),this.renderErrorBar(A,T),(N||s)&&this.renderDots(A,Q,T),(!x||S)&&ao.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(ic(n),[0]):n,s=[],c=0;c<a;++c)s=[].concat(ic(s),ic(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(ee.isValidElement(n))i=ee.cloneElement(n,a);else if(Mt(n))i=n(a);else{var s=a.key,c=jR(a,wfe),d=Yt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=ee.createElement(Fg,Cd({key:s},c,{className:d}))}return i}}])}(y.PureComponent);Qa(sl,"displayName","Line");Qa(sl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ml.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qa(sl,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,c=e.bandSize,d=e.displayedData,f=e.offset,h=t.layout,m=d.map(function(g,w){var b=Vn(g,s);return h==="horizontal"?{x:yp({axis:r,ticks:a,bandSize:c,entry:g,index:w}),y:zt(b)?null:n.scale(b),value:b,payload:g}:{x:zt(b)?null:r.scale(b),y:yp({axis:n,ticks:i,bandSize:c,entry:g,index:w}),value:b,payload:g}});return da({points:m,layout:h},f)});var Rfe=["layout","type","stroke","connectNulls","isRange","ref"],Dfe=["key"],r6;function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function n6(e,t){if(e==null)return{};var r=Ife(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ife(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ws(){return Ws=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ws.apply(this,arguments)}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){Ni(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i6(n.key),n)}}function Lfe(e,t,r){return t&&PR(e.prototype,t),r&&PR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ffe(e,t,r){return t=Fp(t),Bfe(e,a6()?Reflect.construct(t,r||[],Fp(e).constructor):t.apply(e,r))}function Bfe(e,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ufe(e)}function Ufe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a6=function(){return!!e})()}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fp(e)}function zfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G1(e,t)}function G1(e,t){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},G1(e,t)}function Ni(e,t,r){return t=i6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i6(e){var t=qfe(e,"string");return Wc(t)=="symbol"?t:t+""}function qfe(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yo=function(e){function t(){var r;$fe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ffe(this,t,[].concat(a)),Ni(r,"state",{isAnimationFinished:!0}),Ni(r,"id",du("recharts-area-")),Ni(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Mt(s)&&s()}),Ni(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Mt(s)&&s()}),r}return zfe(t,e),Lfe(t,[{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(s&&!c)return null;var d=this.props,f=d.dot,h=d.points,m=d.dataKey,g=Dt(this.props,!1),w=Dt(f,!0),b=h.map(function(_,S){var N=Wo(Wo(Wo({key:"dot-".concat(S),r:3},g),w),{},{index:S,cx:_.x,cy:_.y,dataKey:m,value:_.value,payload:_.payload,points:h});return t.renderDotItem(f,N)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ee.createElement(Cr,Ws({className:"recharts-area-dots"},x),b)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,c=a.strokeWidth,d=s[0].x,f=s[s.length-1].x,h=n*Math.abs(d-f),m=Xo(s.map(function(g){return g.y||0}));return We(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Xo(i.map(function(g){return g.y||0})),m)),We(m)?ee.createElement("rect",{x:d<f?d:d-h,y:0,width:h,height:Math.floor(m+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,s=a.points,c=a.strokeWidth,d=s[0].y,f=s[s.length-1].y,h=n*Math.abs(d-f),m=Xo(s.map(function(g){return g.x||0}));return We(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Xo(i.map(function(g){return g.x||0})),m)),We(m)?ee.createElement("rect",{x:0,y:d<f?d:d-h,width:m+(c?parseInt("".concat(c),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,s){var c=this.props,d=c.layout,f=c.type,h=c.stroke,m=c.connectNulls,g=c.isRange;c.ref;var w=n6(c,Rfe);return ee.createElement(Cr,{clipPath:i?"url(#clipPath-".concat(s,")"):null},ee.createElement(xc,Ws({},Dt(w,!0),{points:n,connectNulls:m,type:f,baseLine:a,layout:d,stroke:"none",className:"recharts-area-area"})),h!=="none"&&ee.createElement(xc,Ws({},Dt(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:n})),h!=="none"&&g&&ee.createElement(xc,Ws({},Dt(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,s=this.props,c=s.points,d=s.baseLine,f=s.isAnimationActive,h=s.animationBegin,m=s.animationDuration,g=s.animationEasing,w=s.animationId,b=this.state,x=b.prevPoints,_=b.prevBaseLine;return ee.createElement(Oi,{begin:h,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"area-".concat(w),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var N=S.t;if(x){var P=x.length/c.length,k=c.map(function(R,I){var U=Math.floor(I*P);if(x[U]){var O=x[U],B=_n(O.x,R.x),Z=_n(O.y,R.y);return Wo(Wo({},R),{},{x:B(N),y:Z(N)})}return R}),C;if(We(d)&&typeof d=="number"){var A=_n(_,d);C=A(N)}else if(zt(d)||uu(d)){var T=_n(_,0);C=T(N)}else C=d.map(function(R,I){var U=Math.floor(I*P);if(_[U]){var O=_[U],B=_n(O.x,R.x),Z=_n(O.y,R.y);return Wo(Wo({},R),{},{x:B(N),y:Z(N)})}return R});return i.renderAreaStatically(k,C,n,a)}return ee.createElement(Cr,null,ee.createElement("defs",null,ee.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(N))),ee.createElement(Cr,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(c,d,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,s=i.points,c=i.baseLine,d=i.isAnimationActive,f=this.state,h=f.prevPoints,m=f.prevBaseLine,g=f.totalLength;return d&&s&&s.length&&(!h&&g>0||!Mc(h,s)||!Mc(m,c))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(s,c,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,c=a.points,d=a.className,f=a.top,h=a.left,m=a.xAxis,g=a.yAxis,w=a.width,b=a.height,x=a.isAnimationActive,_=a.id;if(i||!c||!c.length)return null;var S=this.state.isAnimationFinished,N=c.length===1,P=Yt("recharts-area",d),k=m&&m.allowDataOverflow,C=g&&g.allowDataOverflow,A=k||C,T=zt(_)?this.id:_,R=(n=Dt(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=R.r,U=I===void 0?3:I,O=R.strokeWidth,B=O===void 0?2:O,Z=p4(s)?s:{},te=Z.clipDot,Q=te===void 0?!0:te,Y=U*2+B;return ee.createElement(Cr,{className:P},k||C?ee.createElement("defs",null,ee.createElement("clipPath",{id:"clipPath-".concat(T)},ee.createElement("rect",{x:k?h:h-w/2,y:C?f:f-b/2,width:k?w:w*2,height:C?b:b*2})),!Q&&ee.createElement("clipPath",{id:"clipPath-dots-".concat(T)},ee.createElement("rect",{x:h-Y/2,y:f-Y/2,width:w+Y,height:b+Y}))):null,N?null:this.renderArea(A,T),(s||N)&&this.renderDots(A,Q,T),(!x||S)&&ao.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(y.PureComponent);r6=yo;Ni(yo,"displayName","Area");Ni(yo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ml.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ni(yo,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,s=t.props.baseValue,c=s??i;if(We(c)&&typeof c=="number")return c;var d=a==="horizontal"?n:r,f=d.scale.domain();if(d.type==="number"){var h=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return c==="dataMin"?m:c==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return c==="dataMin"?f[0]:c==="dataMax"?f[1]:f[0]});Ni(yo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,c=e.bandSize,d=e.dataKey,f=e.stackedData,h=e.dataStartIndex,m=e.displayedData,g=e.offset,w=t.layout,b=f&&f.length,x=r6.getBaseValue(t,r,n,a),_=w==="horizontal",S=!1,N=m.map(function(k,C){var A;b?A=f[h+C]:(A=Vn(k,d),Array.isArray(A)?S=!0:A=[x,A]);var T=A[1]==null||b&&Vn(k,d)==null;return _?{x:yp({axis:n,ticks:i,bandSize:c,entry:k,index:C}),y:T?null:a.scale(A[1]),value:A,payload:k}:{x:T?null:n.scale(A[1]),y:yp({axis:a,ticks:s,bandSize:c,entry:k,index:C}),value:A,payload:k}}),P;return b||S?P=N.map(function(k){var C=Array.isArray(k.value)?k.value[0]:null;return _?{x:k.x,y:C!=null&&k.y!=null?a.scale(C):null}:{x:C!=null?n.scale(C):null,y:k.y}}):P=_?a.scale(x):n.scale(x),Wo({points:N,baseLine:P,layout:w,isRange:S},g)});Ni(yo,"renderDotItem",function(e,t){var r;if(ee.isValidElement(e))r=ee.cloneElement(e,t);else if(Mt(e))r=e(t);else{var n=Yt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=n6(t,Dfe);r=ee.createElement(Fg,Ws({},i,{key:a,className:n}))}return r});function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Wfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l6(n.key),n)}}function Vfe(e,t,r){return t&&Hfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gfe(e,t,r){return t=Bp(t),Kfe(e,o6()?Reflect.construct(t,r||[],Bp(e).constructor):t.apply(e,r))}function Kfe(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yfe(e)}function Yfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!e})()}function Bp(e){return Bp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bp(e)}function Jfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K1(e,t)}function K1(e,t){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},K1(e,t)}function s6(e,t,r){return t=l6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=Xfe(e,"string");return Hc(t)=="symbol"?t:t+""}function Xfe(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(this,arguments)}function Qfe(e){var t=e.xAxisId,r=tN(),n=rN(),a=zF(t);return a==null?null:ee.createElement(gu,Y1({},a,{className:Yt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Qi(s,!0)}}))}var ii=function(e){function t(){return Wfe(this,t),Gfe(this,t,arguments)}return Jfe(t,e),Vfe(t,[{key:"render",value:function(){return ee.createElement(Qfe,this.props)}}])}(ee.Component);s6(ii,"displayName","XAxis");s6(ii,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function Zfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ehe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d6(n.key),n)}}function the(e,t,r){return t&&ehe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rhe(e,t,r){return t=Up(t),nhe(e,c6()?Reflect.construct(t,r||[],Up(e).constructor):t.apply(e,r))}function nhe(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ahe(e)}function ahe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!e})()}function Up(e){return Up=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Up(e)}function ihe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J1(e,t)}function J1(e,t){return J1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},J1(e,t)}function u6(e,t,r){return t=d6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d6(e){var t=ohe(e,"string");return Vc(t)=="symbol"?t:t+""}function ohe(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(this,arguments)}var she=function(t){var r=t.yAxisId,n=tN(),a=rN(),i=qF(r);return i==null?null:ee.createElement(gu,X1({},i,{className:Yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(c){return Qi(c,!0)}}))},oi=function(e){function t(){return Zfe(this,t),rhe(this,t,arguments)}return ihe(t,e),the(t,[{key:"render",value:function(){return ee.createElement(she,this.props)}}])}(ee.Component);u6(oi,"displayName","YAxis");u6(oi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kR(e){return dhe(e)||uhe(e)||che(e)||lhe()}function lhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function che(e,t){if(e){if(typeof e=="string")return Q1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Q1(e,t)}}function uhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dhe(e){if(Array.isArray(e))return Q1(e)}function Q1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z1=function(t,r,n,a,i){var s=Ta(t,aN),c=Ta(t,Wg),d=[].concat(kR(s),kR(c)),f=Ta(t,Vg),h="".concat(a,"Id"),m=a[0],g=r;if(d.length&&(g=d.reduce(function(x,_){if(_.props[h]===n&&ki(_.props,"extendDomain")&&We(_.props[m])){var S=_.props[m];return[Math.min(x[0],S),Math.max(x[1],S)]}return x},g)),f.length){var w="".concat(m,"1"),b="".concat(m,"2");g=f.reduce(function(x,_){if(_.props[h]===n&&ki(_.props,"extendDomain")&&We(_.props[w])&&We(_.props[b])){var S=_.props[w],N=_.props[b];return[Math.min(x[0],S,N),Math.max(x[1],S,N)]}return x},g)}return i&&i.length&&(g=i.reduce(function(x,_){return We(_)?[Math.min(x[0],_),Math.max(x[1],_)]:x},g)),g},Kw={exports:{}},AR;function fhe(){return AR||(AR=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,h){this.fn=d,this.context=f,this.once=h||!1}function i(d,f,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var w=new a(h,m||d,g),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],w]:d._events[b].push(w):(d._events[b]=w,d._eventsCount++),d}function s(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],h,m;if(this._eventsCount===0)return f;for(m in h=this._events)t.call(h,m)&&f.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},c.prototype.listeners=function(f){var h=r?r+f:f,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,w=m.length,b=new Array(w);g<w;g++)b[g]=m[g].fn;return b},c.prototype.listenerCount=function(f){var h=r?r+f:f,m=this._events[h];return m?m.fn?1:m.length:0},c.prototype.emit=function(f,h,m,g,w,b){var x=r?r+f:f;if(!this._events[x])return!1;var _=this._events[x],S=arguments.length,N,P;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,h),!0;case 3:return _.fn.call(_.context,h,m),!0;case 4:return _.fn.call(_.context,h,m,g),!0;case 5:return _.fn.call(_.context,h,m,g,w),!0;case 6:return _.fn.call(_.context,h,m,g,w,b),!0}for(P=1,N=new Array(S-1);P<S;P++)N[P-1]=arguments[P];_.fn.apply(_.context,N)}else{var k=_.length,C;for(P=0;P<k;P++)switch(_[P].once&&this.removeListener(f,_[P].fn,void 0,!0),S){case 1:_[P].fn.call(_[P].context);break;case 2:_[P].fn.call(_[P].context,h);break;case 3:_[P].fn.call(_[P].context,h,m);break;case 4:_[P].fn.call(_[P].context,h,m,g);break;default:if(!N)for(C=1,N=new Array(S-1);C<S;C++)N[C-1]=arguments[C];_[P].fn.apply(_[P].context,N)}}return!0},c.prototype.on=function(f,h,m){return i(this,f,h,m,!1)},c.prototype.once=function(f,h,m){return i(this,f,h,m,!0)},c.prototype.removeListener=function(f,h,m,g){var w=r?r+f:f;if(!this._events[w])return this;if(!h)return s(this,w),this;var b=this._events[w];if(b.fn)b.fn===h&&(!g||b.once)&&(!m||b.context===m)&&s(this,w);else{for(var x=0,_=[],S=b.length;x<S;x++)(b[x].fn!==h||g&&!b[x].once||m&&b[x].context!==m)&&_.push(b[x]);_.length?this._events[w]=_.length===1?_[0]:_:s(this,w)}return this},c.prototype.removeAllListeners=function(f){var h;return f?(h=r?r+f:f,this._events[h]&&s(this,h)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c}(Kw)),Kw.exports}var hhe=fhe();const mhe=cr(hhe);var Yw=new mhe,Jw="recharts.syncMouseEvents";function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function phe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ghe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,f6(n.key),n)}}function vhe(e,t,r){return t&&ghe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xw(e,t,r){return t=f6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f6(e){var t=yhe(e,"string");return xf(t)=="symbol"?t:t+""}function yhe(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xhe=function(){function e(){phe(this,e),Xw(this,"activeIndex",0),Xw(this,"coordinateList",[]),Xw(this,"layout","horizontal")}return vhe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,c=s===void 0?null:s,d=r.layout,f=d===void 0?null:d,h=r.offset,m=h===void 0?null:h,g=r.mouseHandlerCallback,w=g===void 0?null:g;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=c??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=w??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,c=a.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+d+f,g=s+this.offset.top+c/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])}();function bhe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&We(n)&&We(a))return!0}return!1}function whe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function h6(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=jn(t,r,n,a),c=jn(t,r,n,i);return{points:[s,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function _he(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var c=t.cx,d=t.cy,f=t.innerRadius,h=t.outerRadius,m=t.angle,g=jn(c,d,f,m),w=jn(c,d,h,m);n=g.x,a=g.y,i=w.x,s=w.y}else return h6(t);return[{x:n,y:a},{x:i,y:s}]}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){jhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jhe(e,t,r){return t=She(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function She(e){var t=Nhe(e,"string");return bf(t)=="symbol"?t:t+""}function Nhe(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Che(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,c=e.activePayload,d=e.offset,f=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,g=e.chartName,w=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!w||!i||!s||g!=="ScatterChart"&&a!=="axis")return null;var b,x=xc;if(g==="ScatterChart")b=s,x=mce;else if(g==="BarChart")b=whe(m,s,d,h),x=JS;else if(m==="radial"){var _=h6(s),S=_.cx,N=_.cy,P=_.radius,k=_.startAngle,C=_.endAngle;b={cx:S,cy:N,startAngle:k,endAngle:C,innerRadius:P,outerRadius:P},x=yF}else b={points:_he(m,s,d)},x=xc;var A=xm(xm(xm(xm({stroke:"#ccc",pointerEvents:"none"},d),b),Dt(w,!1)),{},{payload:c,payloadIndex:f,className:Yt("recharts-tooltip-cursor",w.className)});return y.isValidElement(w)?y.cloneElement(w,A):y.createElement(x,A)}var Phe=["item"],khe=["children","className","width","height","style","compact","title","desc"];function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uc.apply(this,arguments)}function OR(e,t){return Ohe(e)||Ehe(e,t)||p6(e,t)||Ahe()}function Ahe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ehe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,c=[],d=!0,f=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(h){f=!0,a=h}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw a}}return c}}function Ohe(e){if(Array.isArray(e))return e}function TR(e,t){if(e==null)return{};var r=The(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function The(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Mhe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g6(n.key),n)}}function Dhe(e,t,r){return t&&Rhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ihe(e,t,r){return t=zp(t),$he(e,m6()?Reflect.construct(t,r||[],zp(e).constructor):t.apply(e,r))}function $he(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lhe(e)}function Lhe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!e})()}function zp(e){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zp(e)}function Fhe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ej(e,t)}function ej(e,t){return ej=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ej(e,t)}function Kc(e){return zhe(e)||Uhe(e)||p6(e)||Bhe()}function Bhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p6(e,t){if(e){if(typeof e=="string")return tj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tj(e,t)}}function Uhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zhe(e){if(Array.isArray(e))return tj(e)}function tj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){_t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _t(e,t,r){return t=g6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=qhe(e,"string");return Gc(t)=="symbol"?t:t+""}function qhe(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Whe={xAxis:["bottom","top"],yAxis:["left","right"]},Hhe={width:"100%",height:"100%"},v6={x:0,y:0};function bm(e){return e}var Vhe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},Ghe=function(t,r,n,a){var i=r.find(function(h){return h&&h.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,c=a.radius;return Pe(Pe(Pe({},a),jn(a.cx,a.cy,c,s)),{},{angle:s,radius:c})}var d=i.coordinate,f=a.angle;return Pe(Pe(Pe({},a),jn(a.cx,a.cy,d,f)),{},{angle:f,radius:d})}return v6},Gg=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(c,d){var f=d.props.data;return f&&f.length?[].concat(Kc(c),Kc(f)):c},[]);return s.length>0?s:t&&t.length&&We(a)&&We(i)?t.slice(a,i+1):[]};function y6(e){return e==="number"?[0,"auto"]:void 0}var rj=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,c=Gg(r,t);return n<0||!i||!i.length||n>=c.length?null:i.reduce(function(d,f){var h,m=(h=f.props.data)!==null&&h!==void 0?h:r;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var w=m===void 0?c:m;g=Hm(w,s.dataKey,a)}else g=m&&m[n]||c[n];return g?[].concat(Kc(d),[pF(f,g)]):d},[])},RR=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=Vhe(i,n),c=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,h=Xie(s,c,f,d);if(h>=0&&f){var m=f[h]&&f[h].value,g=rj(t,r,h,m),w=Ghe(n,c,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:w}}return null},Khe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,g=t.stackOffset,w=fF(h,i);return n.reduce(function(b,x){var _,S=x.type.defaultProps!==void 0?Pe(Pe({},x.type.defaultProps),x.props):x.props,N=S.type,P=S.dataKey,k=S.allowDataOverflow,C=S.allowDuplicatedCategory,A=S.scale,T=S.ticks,R=S.includeHidden,I=S[s];if(b[I])return b;var U=Gg(t.data,{graphicalItems:a.filter(function(J){var G,de=s in J.props?J.props[s]:(G=J.type.defaultProps)===null||G===void 0?void 0:G[s];return de===I}),dataStartIndex:d,dataEndIndex:f}),O=U.length,B,Z,te;bhe(S.domain,k,N)&&(B=x1(S.domain,null,k),w&&(N==="number"||A!=="auto")&&(te=Sd(U,P,"category")));var Q=y6(N);if(!B||B.length===0){var Y,ie=(Y=S.domain)!==null&&Y!==void 0?Y:Q;if(P){if(B=Sd(U,P,N),N==="category"&&w){var W=qX(B);C&&W?(Z=B,B=kp(0,O)):C||(B=qT(ie,B,x).reduce(function(J,G){return J.indexOf(G)>=0?J:[].concat(Kc(J),[G])},[]))}else if(N==="category")C?B=B.filter(function(J){return J!==""&&!zt(J)}):B=qT(ie,B,x).reduce(function(J,G){return J.indexOf(G)>=0||G===""||zt(G)?J:[].concat(Kc(J),[G])},[]);else if(N==="number"){var V=roe(U,a.filter(function(J){var G,de,Ce=s in J.props?J.props[s]:(G=J.type.defaultProps)===null||G===void 0?void 0:G[s],q="hide"in J.props?J.props.hide:(de=J.type.defaultProps)===null||de===void 0?void 0:de.hide;return Ce===I&&(R||!q)}),P,i,h);V&&(B=V)}w&&(N==="number"||A!=="auto")&&(te=Sd(U,P,"category"))}else w?B=kp(0,O):c&&c[I]&&c[I].hasStack&&N==="number"?B=g==="expand"?[0,1]:mF(c[I].stackGroups,d,f):B=dF(U,a.filter(function(J){var G=s in J.props?J.props[s]:J.type.defaultProps[s],de="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return G===I&&(R||!de)}),N,h,!0);if(N==="number")B=Z1(m,B,I,i,T),ie&&(B=x1(ie,B,k));else if(N==="category"&&ie){var F=ie,L=B.every(function(J){return F.indexOf(J)>=0});L&&(B=F)}}return Pe(Pe({},b),{},_t({},I,Pe(Pe({},S),{},{axisType:i,domain:B,categoricalDomain:te,duplicateDomain:Z,originalDomain:(_=S.domain)!==null&&_!==void 0?_:Q,isCategorical:w,layout:h})))},{})},Yhe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,h=t.layout,m=t.children,g=Gg(t.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),w=g.length,b=fF(h,i),x=-1;return n.reduce(function(_,S){var N=S.type.defaultProps!==void 0?Pe(Pe({},S.type.defaultProps),S.props):S.props,P=N[s],k=y6("number");if(!_[P]){x++;var C;return b?C=kp(0,w):c&&c[P]&&c[P].hasStack?(C=mF(c[P].stackGroups,d,f),C=Z1(m,C,P,i)):(C=x1(k,dF(g,n.filter(function(A){var T,R,I=s in A.props?A.props[s]:(T=A.type.defaultProps)===null||T===void 0?void 0:T[s],U="hide"in A.props?A.props.hide:(R=A.type.defaultProps)===null||R===void 0?void 0:R.hide;return I===P&&!U}),"number",h),a.defaultProps.allowDataOverflow),C=Z1(m,C,P,i)),Pe(Pe({},_),{},_t({},P,Pe(Pe({axisType:i},a.defaultProps),{},{hide:!0,orientation:Oa(Whe,"".concat(i,".").concat(x%2),null),domain:C,originalDomain:k,isCategorical:b,layout:h})))}return _},{})},Jhe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,c=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,h=t.children,m="".concat(a,"Id"),g=Ta(h,i),w={};return g&&g.length?w=Khe(t,{axes:g,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:f}):s&&s.length&&(w=Yhe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:c,dataStartIndex:d,dataEndIndex:f})),w},Xhe=function(t){var r=Jo(t),n=Qi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jS(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:xp(r,n)}},DR=function(t){var r=t.children,n=t.defaultShowTooltip,a=ha(r,$c),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Qhe=function(t){return!t||!t.length?!1:t.some(function(r){var n=to(r&&r.type);return n&&n.indexOf("Bar")>=0})},IR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Zhe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,c=t.yAxisMap,d=c===void 0?{}:c,f=n.width,h=n.height,m=n.children,g=n.margin||{},w=ha(m,$c),b=ha(m,Ma),x=Object.keys(d).reduce(function(C,A){var T=d[A],R=T.orientation;return!T.mirror&&!T.hide?Pe(Pe({},C),{},_t({},R,C[R]+T.width)):C},{left:g.left||0,right:g.right||0}),_=Object.keys(s).reduce(function(C,A){var T=s[A],R=T.orientation;return!T.mirror&&!T.hide?Pe(Pe({},C),{},_t({},R,Oa(C,"".concat(R))+T.height)):C},{top:g.top||0,bottom:g.bottom||0}),S=Pe(Pe({},_),x),N=S.bottom;w&&(S.bottom+=w.props.height||$c.defaultProps.height),b&&r&&(S=eoe(S,a,n,r));var P=f-S.left-S.right,k=h-S.top-S.bottom;return Pe(Pe({brushBottom:N},S),{},{width:Math.max(P,0),height:Math.max(k,0)})},eme=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},sN=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,c=s===void 0?["axis"]:s,d=t.axisComponents,f=t.legendContent,h=t.formatAxisMap,m=t.defaultProps,g=function(S,N){var P=N.graphicalItems,k=N.stackGroups,C=N.offset,A=N.updateId,T=N.dataStartIndex,R=N.dataEndIndex,I=S.barSize,U=S.layout,O=S.barGap,B=S.barCategoryGap,Z=S.maxBarSize,te=IR(U),Q=te.numericAxisName,Y=te.cateAxisName,ie=Qhe(P),W=[];return P.forEach(function(V,F){var L=Gg(S.data,{graphicalItems:[V],dataStartIndex:T,dataEndIndex:R}),J=V.type.defaultProps!==void 0?Pe(Pe({},V.type.defaultProps),V.props):V.props,G=J.dataKey,de=J.maxBarSize,Ce=J["".concat(Q,"Id")],q=J["".concat(Y,"Id")],ae={},Ae=d.reduce(function(bt,er){var xr=N["".concat(er.axisType,"Map")],qt=J["".concat(er.axisType,"Id")];xr&&xr[qt]||er.axisType==="zAxis"||il();var qr=xr[qt];return Pe(Pe({},bt),{},_t(_t({},er.axisType,qr),"".concat(er.axisType,"Ticks"),Qi(qr)))},ae),K=Ae[Y],_e=Ae["".concat(Y,"Ticks")],Me=k&&k[Ce]&&k[Ce].hasStack&&moe(V,k[Ce].stackGroups),pe=to(V.type).indexOf("Bar")>=0,Qe=xp(K,_e),ze=[],re=ie&&Qie({barSize:I,stackGroups:k,totalSize:eme(Ae,Y)});if(pe){var Ct,Vt,Pt=zt(de)?Z:de,Gt=(Ct=(Vt=xp(K,_e,!0))!==null&&Vt!==void 0?Vt:Pt)!==null&&Ct!==void 0?Ct:0;ze=Zie({barGap:O,barCategoryGap:B,bandSize:Gt!==Qe?Gt:Qe,sizeList:re[q],maxBarSize:Pt}),Gt!==Qe&&(ze=ze.map(function(bt){return Pe(Pe({},bt),{},{position:Pe(Pe({},bt.position),{},{offset:bt.position.offset-Gt/2})})}))}var sn=V&&V.type&&V.type.getComposedData;sn&&W.push({props:Pe(Pe({},sn(Pe(Pe({},Ae),{},{displayedData:L,props:S,dataKey:G,item:V,bandSize:Qe,barPosition:ze,offset:C,stackedData:Me,layout:U,dataStartIndex:T,dataEndIndex:R}))),{},_t(_t(_t({key:V.key||"item-".concat(F)},Q,Ae[Q]),Y,Ae[Y]),"animationId",A)),childIndex:tQ(V,S.children),item:V})}),W},w=function(S,N){var P=S.props,k=S.dataStartIndex,C=S.dataEndIndex,A=S.updateId;if(!aE({props:P}))return null;var T=P.children,R=P.layout,I=P.stackOffset,U=P.data,O=P.reverseStackOrder,B=IR(R),Z=B.numericAxisName,te=B.cateAxisName,Q=Ta(T,n),Y=doe(U,Q,"".concat(Z,"Id"),"".concat(te,"Id"),I,O),ie=d.reduce(function(J,G){var de="".concat(G.axisType,"Map");return Pe(Pe({},J),{},_t({},de,Jhe(P,Pe(Pe({},G),{},{graphicalItems:Q,stackGroups:G.axisType===Z&&Y,dataStartIndex:k,dataEndIndex:C}))))},{}),W=Zhe(Pe(Pe({},ie),{},{props:P,graphicalItems:Q}),N==null?void 0:N.legendBBox);Object.keys(ie).forEach(function(J){ie[J]=h(P,ie[J],W,J.replace("Map",""),r)});var V=ie["".concat(te,"Map")],F=Xhe(V),L=g(P,Pe(Pe({},ie),{},{dataStartIndex:k,dataEndIndex:C,updateId:A,graphicalItems:Q,stackGroups:Y,offset:W}));return Pe(Pe({formattedGraphicalItems:L,graphicalItems:Q,offset:W,stackGroups:Y},F),ie)},b=function(_){function S(N){var P,k,C;return Mhe(this,S),C=Ihe(this,S,[N]),_t(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_t(C,"accessibilityManager",new xhe),_t(C,"handleLegendBBoxUpdate",function(A){if(A){var T=C.state,R=T.dataStartIndex,I=T.dataEndIndex,U=T.updateId;C.setState(Pe({legendBBox:A},w({props:C.props,dataStartIndex:R,dataEndIndex:I,updateId:U},Pe(Pe({},C.state),{},{legendBBox:A}))))}}),_t(C,"handleReceiveSyncEvent",function(A,T,R){if(C.props.syncId===A){if(R===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(T)}}),_t(C,"handleBrushChange",function(A){var T=A.startIndex,R=A.endIndex;if(T!==C.state.dataStartIndex||R!==C.state.dataEndIndex){var I=C.state.updateId;C.setState(function(){return Pe({dataStartIndex:T,dataEndIndex:R},w({props:C.props,dataStartIndex:T,dataEndIndex:R,updateId:I},C.state))}),C.triggerSyncEvent({dataStartIndex:T,dataEndIndex:R})}}),_t(C,"handleMouseEnter",function(A){var T=C.getMouseInfo(A);if(T){var R=Pe(Pe({},T),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var I=C.props.onMouseEnter;Mt(I)&&I(R,A)}}),_t(C,"triggeredAfterMouseMove",function(A){var T=C.getMouseInfo(A),R=T?Pe(Pe({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(R),C.triggerSyncEvent(R);var I=C.props.onMouseMove;Mt(I)&&I(R,A)}),_t(C,"handleItemMouseEnter",function(A){C.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),_t(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),_t(C,"handleMouseMove",function(A){A.persist(),C.throttleTriggeredAfterMouseMove(A)}),_t(C,"handleMouseLeave",function(A){C.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};C.setState(T),C.triggerSyncEvent(T);var R=C.props.onMouseLeave;Mt(R)&&R(T,A)}),_t(C,"handleOuterEvent",function(A){var T=eQ(A),R=Oa(C.props,"".concat(T));if(T&&Mt(R)){var I,U;/.*touch.*/i.test(T)?U=C.getMouseInfo(A.changedTouches[0]):U=C.getMouseInfo(A),R((I=U)!==null&&I!==void 0?I:{},A)}}),_t(C,"handleClick",function(A){var T=C.getMouseInfo(A);if(T){var R=Pe(Pe({},T),{},{isTooltipActive:!0});C.setState(R),C.triggerSyncEvent(R);var I=C.props.onClick;Mt(I)&&I(R,A)}}),_t(C,"handleMouseDown",function(A){var T=C.props.onMouseDown;if(Mt(T)){var R=C.getMouseInfo(A);T(R,A)}}),_t(C,"handleMouseUp",function(A){var T=C.props.onMouseUp;if(Mt(T)){var R=C.getMouseInfo(A);T(R,A)}}),_t(C,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),_t(C,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseDown(A.changedTouches[0])}),_t(C,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&C.handleMouseUp(A.changedTouches[0])}),_t(C,"handleDoubleClick",function(A){var T=C.props.onDoubleClick;if(Mt(T)){var R=C.getMouseInfo(A);T(R,A)}}),_t(C,"handleContextMenu",function(A){var T=C.props.onContextMenu;if(Mt(T)){var R=C.getMouseInfo(A);T(R,A)}}),_t(C,"triggerSyncEvent",function(A){C.props.syncId!==void 0&&Yw.emit(Jw,C.props.syncId,A,C.eventEmitterSymbol)}),_t(C,"applySyncEvent",function(A){var T=C.props,R=T.layout,I=T.syncMethod,U=C.state.updateId,O=A.dataStartIndex,B=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)C.setState(Pe({dataStartIndex:O,dataEndIndex:B},w({props:C.props,dataStartIndex:O,dataEndIndex:B,updateId:U},C.state)));else if(A.activeTooltipIndex!==void 0){var Z=A.chartX,te=A.chartY,Q=A.activeTooltipIndex,Y=C.state,ie=Y.offset,W=Y.tooltipTicks;if(!ie)return;if(typeof I=="function")Q=I(W,A);else if(I==="value"){Q=-1;for(var V=0;V<W.length;V++)if(W[V].value===A.activeLabel){Q=V;break}}var F=Pe(Pe({},ie),{},{x:ie.left,y:ie.top}),L=Math.min(Z,F.x+F.width),J=Math.min(te,F.y+F.height),G=W[Q]&&W[Q].value,de=rj(C.state,C.props.data,Q),Ce=W[Q]?{x:R==="horizontal"?W[Q].coordinate:L,y:R==="horizontal"?J:W[Q].coordinate}:v6;C.setState(Pe(Pe({},A),{},{activeLabel:G,activeCoordinate:Ce,activePayload:de,activeTooltipIndex:Q}))}else C.setState(A)}),_t(C,"renderCursor",function(A){var T,R=C.state,I=R.isTooltipActive,U=R.activeCoordinate,O=R.activePayload,B=R.offset,Z=R.activeTooltipIndex,te=R.tooltipAxisBandSize,Q=C.getTooltipEventType(),Y=(T=A.props.active)!==null&&T!==void 0?T:I,ie=C.props.layout,W=A.key||"_recharts-cursor";return ee.createElement(Che,{key:W,activeCoordinate:U,activePayload:O,activeTooltipIndex:Z,chartName:r,element:A,isActive:Y,layout:ie,offset:B,tooltipAxisBandSize:te,tooltipEventType:Q})}),_t(C,"renderPolarAxis",function(A,T,R){var I=Oa(A,"type.axisType"),U=Oa(C.state,"".concat(I,"Map")),O=A.type.defaultProps,B=O!==void 0?Pe(Pe({},O),A.props):A.props,Z=U&&U[B["".concat(I,"Id")]];return y.cloneElement(A,Pe(Pe({},Z),{},{className:Yt(I,Z.className),key:A.key||"".concat(T,"-").concat(R),ticks:Qi(Z,!0)}))}),_t(C,"renderPolarGrid",function(A){var T=A.props,R=T.radialLines,I=T.polarAngles,U=T.polarRadius,O=C.state,B=O.radiusAxisMap,Z=O.angleAxisMap,te=Jo(B),Q=Jo(Z),Y=Q.cx,ie=Q.cy,W=Q.innerRadius,V=Q.outerRadius;return y.cloneElement(A,{polarAngles:Array.isArray(I)?I:Qi(Q,!0).map(function(F){return F.coordinate}),polarRadius:Array.isArray(U)?U:Qi(te,!0).map(function(F){return F.coordinate}),cx:Y,cy:ie,innerRadius:W,outerRadius:V,key:A.key||"polar-grid",radialLines:R})}),_t(C,"renderLegend",function(){var A=C.state.formattedGraphicalItems,T=C.props,R=T.children,I=T.width,U=T.height,O=C.props.margin||{},B=I-(O.left||0)-(O.right||0),Z=cF({children:R,formattedGraphicalItems:A,legendWidth:B,legendContent:f});if(!Z)return null;var te=Z.item,Q=TR(Z,Phe);return y.cloneElement(te,Pe(Pe({},Q),{},{chartWidth:I,chartHeight:U,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),_t(C,"renderTooltip",function(){var A,T=C.props,R=T.children,I=T.accessibilityLayer,U=ha(R,zn);if(!U)return null;var O=C.state,B=O.isTooltipActive,Z=O.activeCoordinate,te=O.activePayload,Q=O.activeLabel,Y=O.offset,ie=(A=U.props.active)!==null&&A!==void 0?A:B;return y.cloneElement(U,{viewBox:Pe(Pe({},Y),{},{x:Y.left,y:Y.top}),active:ie,label:Q,payload:ie?te:[],coordinate:Z,accessibilityLayer:I})}),_t(C,"renderBrush",function(A){var T=C.props,R=T.margin,I=T.data,U=C.state,O=U.offset,B=U.dataStartIndex,Z=U.dataEndIndex,te=U.updateId;return y.cloneElement(A,{key:A.key||"_recharts-brush",onChange:pm(C.handleBrushChange,A.props.onChange),data:I,x:We(A.props.x)?A.props.x:O.left,y:We(A.props.y)?A.props.y:O.top+O.height+O.brushBottom-(R.bottom||0),width:We(A.props.width)?A.props.width:O.width,startIndex:B,endIndex:Z,updateId:"brush-".concat(te)})}),_t(C,"renderReferenceElement",function(A,T,R){if(!A)return null;var I=C,U=I.clipPathId,O=C.state,B=O.xAxisMap,Z=O.yAxisMap,te=O.offset,Q=A.type.defaultProps||{},Y=A.props,ie=Y.xAxisId,W=ie===void 0?Q.xAxisId:ie,V=Y.yAxisId,F=V===void 0?Q.yAxisId:V;return y.cloneElement(A,{key:A.key||"".concat(T,"-").concat(R),xAxis:B[W],yAxis:Z[F],viewBox:{x:te.left,y:te.top,width:te.width,height:te.height},clipPathId:U})}),_t(C,"renderActivePoints",function(A){var T=A.item,R=A.activePoint,I=A.basePoint,U=A.childIndex,O=A.isRange,B=[],Z=T.props.key,te=T.item.type.defaultProps!==void 0?Pe(Pe({},T.item.type.defaultProps),T.item.props):T.item.props,Q=te.activeDot,Y=te.dataKey,ie=Pe(Pe({index:U,dataKey:Y,cx:R.x,cy:R.y,r:4,fill:YS(T.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Dt(Q,!1)),Vm(Q));return B.push(S.renderActiveDot(Q,ie,"".concat(Z,"-activePoint-").concat(U))),I?B.push(S.renderActiveDot(Q,Pe(Pe({},ie),{},{cx:I.x,cy:I.y}),"".concat(Z,"-basePoint-").concat(U))):O&&B.push(null),B}),_t(C,"renderGraphicChild",function(A,T,R){var I=C.filterFormatItem(A,T,R);if(!I)return null;var U=C.getTooltipEventType(),O=C.state,B=O.isTooltipActive,Z=O.tooltipAxis,te=O.activeTooltipIndex,Q=O.activeLabel,Y=C.props.children,ie=ha(Y,zn),W=I.props,V=W.points,F=W.isRange,L=W.baseLine,J=I.item.type.defaultProps!==void 0?Pe(Pe({},I.item.type.defaultProps),I.item.props):I.item.props,G=J.activeDot,de=J.hide,Ce=J.activeBar,q=J.activeShape,ae=!!(!de&&B&&ie&&(G||Ce||q)),Ae={};U!=="axis"&&ie&&ie.props.trigger==="click"?Ae={onClick:pm(C.handleItemMouseEnter,A.props.onClick)}:U!=="axis"&&(Ae={onMouseLeave:pm(C.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:pm(C.handleItemMouseEnter,A.props.onMouseEnter)});var K=y.cloneElement(A,Pe(Pe({},I.props),Ae));function _e(er){return typeof Z.dataKey=="function"?Z.dataKey(er.payload):null}if(ae)if(te>=0){var Me,pe;if(Z.dataKey&&!Z.allowDuplicatedCategory){var Qe=typeof Z.dataKey=="function"?_e:"payload.".concat(Z.dataKey.toString());Me=Hm(V,Qe,Q),pe=F&&L&&Hm(L,Qe,Q)}else Me=V==null?void 0:V[te],pe=F&&L&&L[te];if(q||Ce){var ze=A.props.activeIndex!==void 0?A.props.activeIndex:te;return[y.cloneElement(A,Pe(Pe(Pe({},I.props),Ae),{},{activeIndex:ze})),null,null]}if(!zt(Me))return[K].concat(Kc(C.renderActivePoints({item:I,activePoint:Me,basePoint:pe,childIndex:te,isRange:F})))}else{var re,Ct=(re=C.getItemByXY(C.state.activeCoordinate))!==null&&re!==void 0?re:{graphicalItem:K},Vt=Ct.graphicalItem,Pt=Vt.item,Gt=Pt===void 0?A:Pt,sn=Vt.childIndex,bt=Pe(Pe(Pe({},I.props),Ae),{},{activeIndex:sn});return[y.cloneElement(Gt,bt),null,null]}return F?[K,null,null]:[K,null]}),_t(C,"renderCustomized",function(A,T,R){return y.cloneElement(A,Pe(Pe({key:"recharts-customized-".concat(R)},C.props),C.state))}),_t(C,"renderMap",{CartesianGrid:{handler:bm,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:bm},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:bm},YAxis:{handler:bm},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((P=N.id)!==null&&P!==void 0?P:du("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=l3(C.triggeredAfterMouseMove,(k=N.throttleDelay)!==null&&k!==void 0?k:1e3/60),C.state={},C}return Fhe(S,_),Dhe(S,[{key:"componentDidMount",value:function(){var P,k;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,k=P.children,C=P.data,A=P.height,T=P.layout,R=ha(k,zn);if(R){var I=R.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,O=rj(this.state,C,I,U),B=this.state.tooltipTicks[I].coordinate,Z=(this.state.offset.top+A)/2,te=T==="horizontal",Q=te?{x:B,y:Z}:{y:B,x:Z},Y=this.state.formattedGraphicalItems.find(function(W){var V=W.item;return V.type.name==="Scatter"});Y&&(Q=Pe(Pe({},Q),Y.props.points[I].tooltipPosition),O=Y.props.points[I].tooltipPayload);var ie={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:U,activePayload:O,activeCoordinate:Q};this.setState(ie),this.renderCursor(R),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,k){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==k.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var C,A;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(P){U_([ha(P.children,zn)],[ha(this.props.children,zn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=ha(this.props.children,zn);if(P&&typeof P.props.shared=="boolean"){var k=P.props.shared?"axis":"item";return c.indexOf(k)>=0?k:i}return i}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var k=this.container,C=k.getBoundingClientRect(),A=Ute(C),T={chartX:Math.round(P.pageX-A.left),chartY:Math.round(P.pageY-A.top)},R=C.width/k.offsetWidth||1,I=this.inRange(T.chartX,T.chartY,R);if(!I)return null;var U=this.state,O=U.xAxisMap,B=U.yAxisMap,Z=this.getTooltipEventType(),te=RR(this.state,this.props.data,this.props.layout,I);if(Z!=="axis"&&O&&B){var Q=Jo(O).scale,Y=Jo(B).scale,ie=Q&&Q.invert?Q.invert(T.chartX):null,W=Y&&Y.invert?Y.invert(T.chartY):null;return Pe(Pe({},T),{},{xValue:ie,yValue:W},te)}return te?Pe(Pe({},T),te):null}},{key:"inRange",value:function(P,k){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,T=P/C,R=k/C;if(A==="horizontal"||A==="vertical"){var I=this.state.offset,U=T>=I.left&&T<=I.left+I.width&&R>=I.top&&R<=I.top+I.height;return U?{x:T,y:R}:null}var O=this.state,B=O.angleAxisMap,Z=O.radiusAxisMap;if(B&&Z){var te=Jo(B);return VT({x:T,y:R},te)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,k=this.getTooltipEventType(),C=ha(P,zn),A={};C&&k==="axis"&&(C.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Vm(this.props,this.handleOuterEvent);return Pe(Pe({},T),A)}},{key:"addListener",value:function(){Yw.on(Jw,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Yw.removeListener(Jw,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,k,C){for(var A=this.state.formattedGraphicalItems,T=0,R=A.length;T<R;T++){var I=A[T];if(I.item===P||I.props.key===P.key||k===to(I.item.type)&&C===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,k=this.state.offset,C=k.left,A=k.top,T=k.height,R=k.width;return ee.createElement("defs",null,ee.createElement("clipPath",{id:P},ee.createElement("rect",{x:C,y:A,height:T,width:R})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(k,C){var A=OR(C,2),T=A[0],R=A[1];return Pe(Pe({},k),{},_t({},T,R.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(k,C){var A=OR(C,2),T=A[0],R=A[1];return Pe(Pe({},k),{},_t({},T,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var k;return(k=this.state.xAxisMap)===null||k===void 0||(k=k[P])===null||k===void 0?void 0:k.scale}},{key:"getYScaleByAxisId",value:function(P){var k;return(k=this.state.yAxisMap)===null||k===void 0||(k=k[P])===null||k===void 0?void 0:k.scale}},{key:"getItemByXY",value:function(P){var k=this.state,C=k.formattedGraphicalItems,A=k.activeItem;if(C&&C.length)for(var T=0,R=C.length;T<R;T++){var I=C[T],U=I.props,O=I.item,B=O.type.defaultProps!==void 0?Pe(Pe({},O.type.defaultProps),O.props):O.props,Z=to(O.type);if(Z==="Bar"){var te=(U.data||[]).find(function(W){return ace(P,W)});if(te)return{graphicalItem:I,payload:te}}else if(Z==="RadialBar"){var Q=(U.data||[]).find(function(W){return VT(P,W)});if(Q)return{graphicalItem:I,payload:Q}}else if(Bg(I,A)||Ug(I,A)||mf(I,A)){var Y=Kce({graphicalItem:I,activeTooltipItem:A,itemData:B.data}),ie=B.activeIndex===void 0?Y:B.activeIndex;return{graphicalItem:Pe(Pe({},I),{},{childIndex:ie}),payload:mf(I,A)?B.data[Y]:I.props.data[Y]}}}return null}},{key:"render",value:function(){var P=this;if(!aE(this))return null;var k=this.props,C=k.children,A=k.className,T=k.width,R=k.height,I=k.style,U=k.compact,O=k.title,B=k.desc,Z=TR(k,khe),te=Dt(Z,!1);if(U)return ee.createElement(uR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement(q_,uc({},te,{width:T,height:R,title:O,desc:B}),this.renderClipPath(),oE(C,this.renderMap)));if(this.props.accessibilityLayer){var Q,Y;te.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,te.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",te.onKeyDown=function(W){P.accessibilityManager.keyboardEvent(W)},te.onFocus=function(){P.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return ee.createElement(uR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ee.createElement("div",uc({className:Yt("recharts-wrapper",A),style:Pe({position:"relative",cursor:"default",width:T,height:R},I)},ie,{ref:function(V){P.container=V}}),ee.createElement(q_,uc({},te,{width:T,height:R,title:O,desc:B,style:Hhe}),this.renderClipPath(),oE(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);_t(b,"displayName",r),_t(b,"defaultProps",Pe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),_t(b,"getDerivedStateFromProps",function(_,S){var N=_.dataKey,P=_.data,k=_.children,C=_.width,A=_.height,T=_.layout,R=_.stackOffset,I=_.margin,U=S.dataStartIndex,O=S.dataEndIndex;if(S.updateId===void 0){var B=DR(_);return Pe(Pe(Pe({},B),{},{updateId:0},w(Pe(Pe({props:_},B),{},{updateId:0}),S)),{},{prevDataKey:N,prevData:P,prevWidth:C,prevHeight:A,prevLayout:T,prevStackOffset:R,prevMargin:I,prevChildren:k})}if(N!==S.prevDataKey||P!==S.prevData||C!==S.prevWidth||A!==S.prevHeight||T!==S.prevLayout||R!==S.prevStackOffset||!pc(I,S.prevMargin)){var Z=DR(_),te={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},Q=Pe(Pe({},RR(S,P,T)),{},{updateId:S.updateId+1}),Y=Pe(Pe(Pe({},Z),te),Q);return Pe(Pe(Pe({},Y),w(Pe({props:_},Y),S)),{},{prevDataKey:N,prevData:P,prevWidth:C,prevHeight:A,prevLayout:T,prevStackOffset:R,prevMargin:I,prevChildren:k})}if(!U_(k,S.prevChildren)){var ie,W,V,F,L=ha(k,$c),J=L&&(ie=(W=L.props)===null||W===void 0?void 0:W.startIndex)!==null&&ie!==void 0?ie:U,G=L&&(V=(F=L.props)===null||F===void 0?void 0:F.endIndex)!==null&&V!==void 0?V:O,de=J!==U||G!==O,Ce=!zt(P),q=Ce&&!de?S.updateId:S.updateId+1;return Pe(Pe({updateId:q},w(Pe(Pe({props:_},S),{},{updateId:q,dataStartIndex:J,dataEndIndex:G}),S)),{},{prevChildren:k,dataStartIndex:J,dataEndIndex:G})}return null}),_t(b,"renderActiveDot",function(_,S,N){var P;return y.isValidElement(_)?P=y.cloneElement(_,S):Mt(_)?P=_(S):P=ee.createElement(Fg,S),ee.createElement(Cr,{className:"recharts-active-dot",key:N},P)});var x=y.forwardRef(function(S,N){return ee.createElement(b,uc({},S,{ref:N}))});return x.displayName=b.displayName,x},x6=sN({chartName:"LineChart",GraphicalChild:sl,axisComponents:[{axisType:"xAxis",AxisComp:ii},{axisType:"yAxis",AxisComp:oi}],formatAxisMap:XS}),b6=sN({chartName:"BarChart",GraphicalChild:ms,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ii},{axisType:"yAxis",AxisComp:oi}],formatAxisMap:XS}),w6=sN({chartName:"AreaChart",GraphicalChild:yo,axisComponents:[{axisType:"xAxis",AxisComp:ii},{axisType:"yAxis",AxisComp:oi}],formatAxisMap:XS});const sc={primary:"#3B82F6",success:"#10B981",warning:"#F59E0B",danger:"#EF4444",info:"#06B6D4",purple:"#8B5CF6",pink:"#EC4899",indigo:"#6366F1",emerald:"#059669",amber:"#D97706"},yi=Object.values(sc);function tme(){const{translations:e,language:t}=ya(),{selectedClient:r}=ul(),[n,a]=y.useState([]),[i,s]=y.useState([]),[c,d]=y.useState("30"),[f,h]=y.useState(!0),[m,g]=y.useState(null),[w,b]=y.useState(""),[x,_]=y.useState(["weight_kg"]),[S,N]=y.useState("line"),[P,k]=y.useState(5),C=t==="he";y.useEffect(()=>{const F=document.createElement("style");return F.textContent=`
      /* Force LTR for all chart elements */
      .chart-container-override {
        direction: ltr !important;
        transform: none !important;
      }
      
      .chart-container-override * {
        direction: ltr !important;
        transform: none !important;
      }
      
      /* Override all recharts elements */
      .chart-container-override .recharts-wrapper {
        direction: ltr !important;
        transform: none !important;
      }
      
      .chart-container-override .recharts-surface {
        direction: ltr !important;
        transform: none !important;
      }
      
      .chart-container-override .recharts-cartesian-axis {
        direction: ltr !important;
        transform: none !important;
      }
      
      .chart-container-override .recharts-cartesian-grid {
        direction: ltr !important;
        transform: none !important;
      }
      
      /* Fix axis labels */
      .chart-container-override .recharts-cartesian-axis-tick-value {
        direction: ltr !important;
        text-anchor: middle !important;
        unicode-bidi: plaintext !important;
        transform: none !important;
      }
      
      .chart-container-override .recharts-cartesian-axis-tick-value tspan {
        direction: ltr !important;
        unicode-bidi: plaintext !important;
        text-anchor: inherit !important;
      }
      
      /* Fix Y-axis specifically */
      .chart-container-override .recharts-yAxis .recharts-cartesian-axis-tick-value {
        text-anchor: end !important;
        direction: ltr !important;
      }
      
      /* Fix X-axis specifically */
      .chart-container-override .recharts-xAxis .recharts-cartesian-axis-tick-value {
        text-anchor: middle !important;
        direction: ltr !important;
      }
      
      /* Fix hover line and cursor */
      .chart-container-override .recharts-cartesian-axis-tick-line {
        direction: ltr !important;
        transform: none !important;
      }
      
      .chart-container-override .recharts-cartesian-grid-horizontal line,
      .chart-container-override .recharts-cartesian-grid-vertical line {
        direction: ltr !important;
        transform: none !important;
      }
      
      /* Fix tooltip positioning */
      .chart-container-override .recharts-tooltip-wrapper {
        direction: ltr !important;
        transform: none !important;
      }
      
      /* Fix legend */
      .chart-container-override .recharts-legend-wrapper {
        direction: ${C?"rtl":"ltr"} !important;
        text-align: ${C?"right":"left"} !important;
      }
      
      .chart-container-override .recharts-legend-item {
        direction: ${C?"rtl":"ltr"} !important;
      }
      
      /* Prevent any RTL transformations */
      .chart-container-override svg {
        direction: ltr !important;
        transform: none !important;
      }
      
      .chart-container-override g {
        direction: ltr !important;
        transform: none !important;
      }
      
      /* Force cursor and hover elements to LTR */
      .chart-container-override .recharts-cursor {
        direction: ltr !important;
        transform: none !important;
      }
      
      .chart-container-override .recharts-active-dot {
        direction: ltr !important;
        transform: none !important;
      }
      
      /* Fix X-axis date label spacing and prevent overlap */
      .chart-container-override .recharts-xAxis .recharts-cartesian-axis-tick-value {
        text-anchor: middle !important;
        direction: ltr !important;
        unicode-bidi: plaintext !important;
        dominant-baseline: hanging !important;
      }
      
      .chart-container-override .recharts-xAxis .recharts-cartesian-axis-tick {
        direction: ltr !important;
        transform: none !important;
      }
      
      /* Ensure proper spacing between X-axis ticks */
      .chart-container-override .recharts-xAxis .recharts-cartesian-axis-tick-value tspan {
        direction: ltr !important;
        unicode-bidi: plaintext !important;
        text-anchor: inherit !important;
      }
    `,document.head.appendChild(F),()=>{document.head.removeChild(F)}},[C]);const A=[{key:"weight_kg",label:e.weightKg,icon:hk,color:sc.primary},{key:"body_fat_percentage",label:e.bodyFatPercentage,icon:m_,color:sc.danger},{key:"waist_circumference_cm",label:e.waistCm,icon:Ly,color:sc.warning},{key:"hip_circumference_cm",label:e.hipCm,icon:Ly,color:sc.info},{key:"arm_circumference_cm",label:e.armCm,icon:Ly,color:sc.purple}];y.useEffect(()=>{(async()=>{if(!r){a([]),s([]),h(!1);return}try{h(!0),g(null);const L=await Zq.getByUserCode(r.user_code);if(!L||L.length===0){a([]),s([]),h(!1);return}const J=L.map(G=>({...G,original_date:G.measurement_date,measurement_date:G.measurement_date?(()=>{const de=new Date(G.measurement_date);if(isNaN(de.getTime()))return"Invalid Date";const Ce=de.getDate().toString().padStart(2,"0"),q=(de.getMonth()+1).toString().padStart(2,"0"),ae=de.getFullYear();return`${Ce}/${q}/${ae}`})():"Unknown Date",weight_kg:typeof G.weight_kg=="number"&&!isNaN(G.weight_kg)?G.weight_kg:0,body_fat_percentage:typeof G.body_fat_percentage=="number"&&!isNaN(G.body_fat_percentage)?G.body_fat_percentage:0,waist_circumference_cm:typeof G.waist_circumference_cm=="number"&&!isNaN(G.waist_circumference_cm)?G.waist_circumference_cm:0,hip_circumference_cm:typeof G.hip_circumference_cm=="number"&&!isNaN(G.hip_circumference_cm)?G.hip_circumference_cm:0,arm_circumference_cm:typeof G.arm_circumference_cm=="number"&&!isNaN(G.arm_circumference_cm)?G.arm_circumference_cm:0,general_measurements:typeof G.general_measurements=="string"?JSON.parse(G.general_measurements):G.general_measurements,body_composition:typeof G.body_composition=="string"?JSON.parse(G.body_composition):G.body_composition,central_measurements:typeof G.central_measurements=="string"?JSON.parse(G.central_measurements):G.central_measurements,hip_measurements:typeof G.hip_measurements=="string"?JSON.parse(G.hip_measurements):G.hip_measurements,limb_measurements:typeof G.limb_measurements=="string"?JSON.parse(G.limb_measurements):G.limb_measurements}));a(J),s(J)}catch(L){g(`Failed to load weight logs: ${L.message}`)}finally{h(!1)}})()},[r,t]),y.useEffect(()=>{let F=n;if(c!=="all"){const L=new Date;L.setDate(L.getDate()-parseInt(c)),F=F.filter(J=>J.original_date?new Date(J.original_date)>=L:!1)}w&&(F=F.filter(L=>L.measurement_date.toLowerCase().includes(w.toLowerCase())||L.user_code.toLowerCase().includes(w.toLowerCase()))),s(F),k(5)},[n,c,w]);const R=(()=>{if(i.length===0)return null;const F=i[i.length-1],L=i[0],J=typeof F.weight_kg=="number"&&!isNaN(F.weight_kg)?F.weight_kg:0,G=typeof L.weight_kg=="number"&&!isNaN(L.weight_kg)?L.weight_kg:0,de=typeof F.body_fat_percentage=="number"&&!isNaN(F.body_fat_percentage)?F.body_fat_percentage:0,Ce=typeof L.body_fat_percentage=="number"&&!isNaN(L.body_fat_percentage)?L.body_fat_percentage:0,q=J-G,ae=de-Ce,Ae=G>0?(q/G*100).toFixed(1):"0.0",K=Ce>0?(ae/Ce*100).toFixed(1):"0.0",_e=i.filter(ze=>typeof ze.weight_kg=="number"&&!isNaN(ze.weight_kg)),Me=i.filter(ze=>typeof ze.body_fat_percentage=="number"&&!isNaN(ze.body_fat_percentage)),pe=_e.length>0?(_e.reduce((ze,re)=>ze+re.weight_kg,0)/_e.length).toFixed(1):"0.0",Qe=Me.length>0?(Me.reduce((ze,re)=>ze+re.body_fat_percentage,0)/Me.length).toFixed(1):"0.0";return{totalMeasurements:i.length,latestWeight:J,latestBodyFat:de,weightChange:q,bodyFatChange:ae,weightChangePercent:Ae,bodyFatChangePercent:K,averageWeight:pe,averageBodyFat:Qe}})(),I=i.map(F=>({date:F.measurement_date,weight_kg:F.weight_kg,body_fat_percentage:F.body_fat_percentage,waist_circumference_cm:F.waist_circumference_cm,hip_circumference_cm:F.hip_circumference_cm,arm_circumference_cm:F.arm_circumference_cm})),U=(F,L)=>{if(!F||F.length===0)return[0,100];const J=F.map(K=>K[L]).filter(K=>K!=null);if(J.length===0)return[0,100];const G=Math.min(...J),de=Math.max(...J),Ce=de-G,ae=(G+de)/2*.05;if(Ce<ae){const K=(ae-Ce)/2;return[G-K,de+K]}const Ae=Ce*.1;return[G-Ae,de+Ae]},O=U(I,"weight_kg"),B=U(I,"body_fat_percentage"),Z=U(I,"waist_circumference_cm"),te=U(I,"hip_circumference_cm"),Q=U(I,"arm_circumference_cm"),Y=()=>{if(x.length===0)return"auto";if(x.length===1){const G=x[0];if(G==="weight_kg")return O;if(G==="body_fat_percentage")return B;if(G==="waist_circumference_cm")return Z;if(G==="hip_circumference_cm")return te;if(G==="arm_circumference_cm")return Q}const F=x.map(G=>G==="weight_kg"?O:G==="body_fat_percentage"?B:G==="waist_circumference_cm"?Z:G==="hip_circumference_cm"?te:G==="arm_circumference_cm"?Q:[0,100]),L=Math.min(...F.map(G=>G[0])),J=Math.max(...F.map(G=>G[1]));return[L,J]},ie=({active:F,payload:L,label:J})=>F&&L&&L.length?o.jsxs("div",{className:"bg-white/95 backdrop-blur-xl border border-border/40 rounded-xl p-4 shadow-xl",style:{direction:C?"rtl":"ltr",textAlign:C?"right":"left",maxWidth:"200px"},children:[o.jsx("p",{className:"font-semibold text-foreground mb-2",style:{direction:"ltr",unicodeBidi:"plaintext",textAlign:C?"right":"left"},children:J}),L.map((G,de)=>o.jsxs("p",{style:{color:G.color,direction:C?"rtl":"ltr",textAlign:C?"right":"left"},className:"text-sm",children:[o.jsx("span",{style:{direction:"ltr",unicodeBidi:"plaintext"},children:G.value}),C?" :":": ",G.name]},de))]}):null,W=()=>{if(!i.length)return;const F=[e.date||"Date",e.weightKg||"Weight (kg)",e.bodyFatPercentage||"Body Fat %",e.waistCm||"Waist (cm)",e.hipCm||"Hip (cm)",e.armCm||"Arm (cm)"],L=i.map(q=>[q.measurement_date,q.weight_kg,q.body_fat_percentage,q.waist_circumference_cm,q.hip_circumference_cm,q.arm_circumference_cm]),J=[F.join(","),...L.map(q=>q.join(","))].join(`
`),G=new Blob([J],{type:"text/csv;charset=utf-8;"}),de=document.createElement("a"),Ce=URL.createObjectURL(G);de.setAttribute("href",Ce),de.setAttribute("download",`weight_logs_${(r==null?void 0:r.user_code)||"client"}_${new Date().toISOString().split("T")[0]}.csv`),de.style.visibility="hidden",document.body.appendChild(de),de.click(),document.body.removeChild(de)},V=()=>{if(I.length===0)return o.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Vs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:e.noDataAvailableForFilters})]})});const F={data:I,margin:{top:20,right:60,left:60,bottom:20}},L={stroke:"#6b7280",fontSize:11,tickLine:!1,axisLine:!1,style:{direction:"ltr",textAnchor:"middle",unicodeBidi:"plaintext"}},J=de=>(typeof de=="string"&&de.includes("/"),de),G=de=>de.toString();switch(S){case"line":return o.jsx(gc,{width:"100%",height:400,children:o.jsxs(x6,{...F,children:[o.jsx(Ys,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(ii,{dataKey:"date",...L,angle:0,textAnchor:"middle",height:80,tickFormatter:J,interval:"preserveStartEnd",minTickGap:30,style:{direction:"ltr",textAnchor:"middle",unicodeBidi:"plaintext"}}),o.jsx(oi,{...L,domain:Y(),orientation:"left",tickFormatter:G,style:{direction:"ltr",textAnchor:"end",unicodeBidi:"plaintext"}}),o.jsx(zn,{content:o.jsx(ie,{})}),o.jsx(Ma,{wrapperStyle:{direction:C?"rtl":"ltr",textAlign:C?"right":"left"}}),x.map((de,Ce)=>{const q=A.find(ae=>ae.key===de);return o.jsx(sl,{type:"monotone",dataKey:de,stroke:(q==null?void 0:q.color)||yi[Ce%yi.length],strokeWidth:3,dot:{fill:(q==null?void 0:q.color)||yi[Ce%yi.length],strokeWidth:2,r:4},activeDot:{r:6,strokeWidth:2},name:(q==null?void 0:q.label)||de,connectNulls:!0},de)})]})});case"area":return o.jsx(gc,{width:"100%",height:400,children:o.jsxs(w6,{...F,children:[o.jsx(Ys,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(ii,{dataKey:"date",...L,angle:0,textAnchor:"middle",height:80,tickFormatter:J,interval:"preserveStartEnd",minTickGap:30,style:{direction:"ltr",textAnchor:"middle",unicodeBidi:"plaintext"}}),o.jsx(oi,{...L,domain:Y(),orientation:"left",tickFormatter:G,style:{direction:"ltr",textAnchor:"end",unicodeBidi:"plaintext"}}),o.jsx(zn,{content:o.jsx(ie,{})}),o.jsx(Ma,{wrapperStyle:{direction:C?"rtl":"ltr",textAlign:C?"right":"left"}}),x.map((de,Ce)=>{const q=A.find(ae=>ae.key===de);return o.jsx(yo,{type:"monotone",dataKey:de,stroke:(q==null?void 0:q.color)||yi[Ce%yi.length],fill:(q==null?void 0:q.color)+"20"||yi[Ce%yi.length]+"20",strokeWidth:2,name:(q==null?void 0:q.label)||de},de)})]})});case"bar":return o.jsx(gc,{width:"100%",height:400,children:o.jsxs(b6,{...F,children:[o.jsx(Ys,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(ii,{dataKey:"date",...L,angle:0,textAnchor:"middle",height:80,tickFormatter:J,interval:"preserveStartEnd",minTickGap:30,style:{direction:"ltr",textAnchor:"middle",unicodeBidi:"plaintext"}}),o.jsx(oi,{...L,domain:Y(),orientation:"left",tickFormatter:G,style:{direction:"ltr",textAnchor:"end",unicodeBidi:"plaintext"}}),o.jsx(zn,{content:o.jsx(ie,{})}),o.jsx(Ma,{wrapperStyle:{direction:C?"rtl":"ltr",textAlign:C?"right":"left"}}),x.map((de,Ce)=>{const q=A.find(ae=>ae.key===de);return o.jsx(ms,{dataKey:de,fill:(q==null?void 0:q.color)||yi[Ce%yi.length],radius:[4,4,0,0],name:(q==null?void 0:q.label)||de},de)})]})});default:return null}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 bg-mesh",children:[o.jsxs("section",{className:"relative py-16 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid opacity-20"}),o.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-br from-primary/20 to-success/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-10 right-10 w-72 h-72 bg-gradient-to-br from-warning/20 to-info/20 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 container mx-auto px-6",children:[o.jsx("div",{className:"flex items-center justify-center mb-6 animate-float-gentle",children:o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary-lighter rounded-2xl flex items-center justify-center shadow-glow-primary",children:o.jsx(Hs,{className:"w-10 h-10 text-white"})})}),o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gradient-primary font-heading mb-4 animate-slide-up text-center",children:e.weightLogs}),o.jsx("p",{className:"text-xl text-muted-foreground/80 max-w-3xl mx-auto animate-slide-up text-center",style:{animationDelay:"0.1s"},children:e.weightLogsDescription})]})]}),o.jsx("section",{className:"container mx-auto px-6 mb-8",children:o.jsx(At,{className:"glass-premium border-border/40 shadow-premium",children:o.jsxs(Et,{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(Js,{className:"w-4 h-4 inline mr-2"}),r?e.selectedClient:e.selectClient]}),r?o.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[o.jsx("span",{children:"✓"}),o.jsxs("span",{className:"font-medium",children:[e.selected||"Selected",": ",r.full_name]}),o.jsxs("span",{className:"text-green-600",children:["(",r.user_code,")"]})]})}):o.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-700",children:[o.jsx("span",{children:"⚠️"}),o.jsx("span",{children:e.selectClientInSidebar||"Please select a client in the sidebar"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(ND,{className:"w-4 h-4 inline mr-2"}),e.dateRange]}),o.jsxs(qn,{value:c,onValueChange:d,children:[o.jsx(Mn,{className:"bg-white/80 backdrop-blur-sm border-border/60",children:o.jsx(Wn,{})}),o.jsxs(Rn,{className:"bg-white/95 backdrop-blur-xl border-border/60",children:[o.jsx(pt,{value:"7",children:e.last7Days}),o.jsx(pt,{value:"30",children:e.last30Days}),o.jsx(pt,{value:"90",children:e.last90Days}),o.jsx(pt,{value:"365",children:e.lastYear}),o.jsx(pt,{value:"all",children:e.allTime})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(wc,{className:"w-4 h-4 inline mr-2"}),e.search]}),o.jsx(Ut,{placeholder:e.searchPlaceholder,value:w,onChange:F=>b(F.target.value),className:"bg-white/80 backdrop-blur-sm border-border/60"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(Vs,{className:"w-4 h-4 inline mr-2"}),e.chartType]}),o.jsxs(qn,{value:S,onValueChange:N,children:[o.jsx(Mn,{className:"bg-white/80 backdrop-blur-sm border-border/60",children:o.jsx(Wn,{})}),o.jsxs(Rn,{className:"bg-white/95 backdrop-blur-xl border-border/60",children:[o.jsxs(pt,{value:"line",children:[o.jsx(CD,{className:"w-4 h-4 inline mr-2"}),e.lineChart]}),o.jsxs(pt,{value:"area",children:[o.jsx(PD,{className:"w-4 h-4 inline mr-2"}),e.areaChart]}),o.jsxs(pt,{value:"bar",children:[o.jsx(Vs,{className:"w-4 h-4 inline mr-2"}),e.barChart]})]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(Ad,{className:"w-4 h-4 inline mr-2"}),e.selectMetrics]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(F=>o.jsxs(Te,{variant:x.includes(F.key)?"default":"outline",size:"sm",onClick:()=>{x.includes(F.key)?_(x.filter(L=>L!==F.key)):_([...x,F.key])},className:"transition-all duration-300",style:{backgroundColor:x.includes(F.key)?F.color:void 0,borderColor:F.color},children:[o.jsx(F.icon,{className:"w-4 h-4 mr-2"}),F.label]},F.key))})]})]})})}),R&&o.jsx("section",{className:"container mx-auto px-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-primary transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.totalMeasurements}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:R.totalMeasurements})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/20 to-primary/10 rounded-xl flex items-center justify-center",children:o.jsx(Hs,{className:"w-6 h-6 text-primary"})})]})})}),o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-success transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.currentWeight}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[R.latestWeight," kg"]}),o.jsxs("div",{className:"flex items-center mt-1",children:[R.weightChange>0?o.jsx(Em,{className:"w-4 h-4 text-danger mr-1"}):R.weightChange<0?o.jsx(lk,{className:"w-4 h-4 text-success mr-1"}):o.jsx(fk,{className:"w-4 h-4 text-muted-foreground mr-1"}),o.jsxs("span",{className:`text-sm ${R.weightChange>0?"text-danger":R.weightChange<0?"text-success":"text-muted-foreground"}`,children:[R.weightChange>0?"+":"",R.weightChange.toFixed(1)," kg (",R.weightChangePercent,"%)"]})]})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-success/20 to-success/10 rounded-xl flex items-center justify-center",children:o.jsx(hk,{className:"w-6 h-6 text-success"})})]})})}),o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-warning transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.bodyFatPercentage}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[R.latestBodyFat,"%"]}),o.jsxs("div",{className:"flex items-center mt-1",children:[R.bodyFatChange>0?o.jsx(Em,{className:"w-4 h-4 text-danger mr-1"}):R.bodyFatChange<0?o.jsx(lk,{className:"w-4 h-4 text-success mr-1"}):o.jsx(fk,{className:"w-4 h-4 text-muted-foreground mr-1"}),o.jsxs("span",{className:`text-sm ${R.bodyFatChange>0?"text-danger":R.bodyFatChange<0?"text-success":"text-muted-foreground"}`,children:[R.bodyFatChange>0?"+":"",R.bodyFatChange.toFixed(1),"% (",R.bodyFatChangePercent,"%)"]})]})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-warning/20 to-warning/10 rounded-xl flex items-center justify-center",children:o.jsx(m_,{className:"w-6 h-6 text-warning"})})]})})}),o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-info transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.avgWeight}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[R.averageWeight," kg"]}),o.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:e.periodAverage})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-info/20 to-info/10 rounded-xl flex items-center justify-center",children:o.jsx(Ad,{className:"w-6 h-6 text-info"})})]})})})]})}),o.jsx("section",{className:"container mx-auto px-6 mb-8",children:o.jsxs(At,{className:"glass-premium border-border/40 shadow-premium",children:[o.jsx(Sr,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{style:{textAlign:C?"right":"left"},children:[o.jsx(Nr,{className:"text-2xl font-bold text-gradient-primary",children:e.progressChart}),o.jsx(zr,{className:"text-muted-foreground/70",children:e.progressChartDescription})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),disabled:f,children:[o.jsx(eo,{className:`w-4 h-4 mr-2 ${f?"animate-spin":""}`}),e.refresh]}),o.jsxs(Te,{variant:"outline",size:"sm",onClick:W,children:[o.jsx(gj,{className:"w-4 h-4 mr-2"}),e.export]})]})]})}),o.jsx(Et,{className:"p-6",children:f?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx(eo,{className:"w-12 h-12 mx-auto mb-4 animate-spin text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:e.loadingData})]})}):m?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-danger/10 rounded-xl flex items-center justify-center",children:o.jsx(yj,{className:"w-6 h-6 text-danger"})}),o.jsx("p",{className:"text-danger",children:m})]})}):r?i.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-warning/10 rounded-xl flex items-center justify-center",children:o.jsx(Om,{className:"w-6 h-6 text-warning"})}),o.jsx("p",{className:"text-muted-foreground",children:e.noWeightLogsFound}),o.jsx("p",{className:"text-sm text-muted-foreground/70 mt-2",children:e.tryDifferentClientOrDateRange})]})}):o.jsx("div",{style:{direction:"ltr",transform:"none",textAlign:"left"},className:"chart-container-override",children:V()}):o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-info/10 rounded-xl flex items-center justify-center",children:o.jsx(Js,{className:"w-6 h-6 text-info"})}),o.jsx("p",{className:"text-muted-foreground",children:e.selectClientInSidebar||"Please select a client in the sidebar to view weight logs"})]})})})]})}),i.length>0&&o.jsx("section",{className:"container mx-auto px-6 pb-20",children:o.jsxs(At,{className:"glass-premium border-border/40 shadow-premium",children:[o.jsx(Sr,{children:o.jsxs("div",{style:{textAlign:C?"right":"left"},children:[o.jsx(Nr,{className:"text-xl font-bold text-gradient-primary",children:e.measurementHistory}),o.jsx(zr,{children:e.measurementHistoryDescription})]})}),o.jsx(Et,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border/30",children:[o.jsx("th",{className:`p-4 font-semibold text-foreground/80 ${C?"text-right":"text-left"}`,children:e.date||"Date"}),o.jsx("th",{className:`p-4 font-semibold text-foreground/80 ${C?"text-right":"text-left"}`,children:e.weightKg}),o.jsx("th",{className:`p-4 font-semibold text-foreground/80 ${C?"text-right":"text-left"}`,children:e.bodyFatPercentage}),o.jsx("th",{className:`p-4 font-semibold text-foreground/80 ${C?"text-right":"text-left"}`,children:e.waistCm}),o.jsx("th",{className:`p-4 font-semibold text-foreground/80 ${C?"text-right":"text-left"}`,children:e.hipCm}),o.jsx("th",{className:`p-4 font-semibold text-foreground/80 ${C?"text-right":"text-left"}`,children:e.armCm})]})}),o.jsx("tbody",{children:i.slice(0,P).map((F,L)=>o.jsxs("tr",{className:"border-b border-border/20 hover:bg-muted/20 transition-colors duration-200",children:[o.jsx("td",{className:`p-4 text-sm ${C?"text-right":"text-left"} text-foreground/80`,children:F.measurement_date}),o.jsx("td",{className:`p-4 text-sm font-medium ${C?"text-right":"text-left"}`,children:F.weight_kg}),o.jsxs("td",{className:`p-4 text-sm font-medium ${C?"text-right":"text-left"}`,children:[F.body_fat_percentage,"%"]}),o.jsx("td",{className:`p-4 text-sm font-medium ${C?"text-right":"text-left"}`,children:F.waist_circumference_cm}),o.jsx("td",{className:`p-4 text-sm font-medium ${C?"text-right":"text-left"}`,children:F.hip_circumference_cm}),o.jsx("td",{className:`p-4 text-sm font-medium ${C?"text-right":"text-left"}`,children:F.arm_circumference_cm})]},L))})]}),i.length>P&&o.jsxs("div",{className:"flex justify-center mt-6 gap-3",children:[o.jsx(Te,{variant:"outline",size:"sm",onClick:()=>k(F=>F+5),className:"text-muted-foreground hover:text-foreground",children:e.loadMore}),o.jsx(Te,{variant:"ghost",size:"sm",onClick:()=>k(i.length),className:"text-primary hover:text-primary/80",children:e.showAll})]})]})})]})})]})}const gd={primary:"#3B82F6",success:"#10B981",warning:"#F59E0B",danger:"#EF4444",info:"#06B6D4",purple:"#8B5CF6",pink:"#EC4899",indigo:"#6366F1",emerald:"#059669",amber:"#D97706",calories:"#EF4444",protein:"#10B981",carbs:"#3B82F6",fat:"#F59E0B"},ka=Object.values(gd);function rme(){const{translations:e,language:t}=ya(),{selectedClient:r}=ul(),[n,a]=y.useState([]),[i,s]=y.useState([]),[c,d]=y.useState(null),[f,h]=y.useState("30"),[m,g]=y.useState(!0),[w,b]=y.useState(null),[x,_]=y.useState(""),[S,N]=y.useState(["total_calories","total_protein_g","total_carbs_g","total_fat_g"]),[P,k]=y.useState("line"),[C,A]=y.useState("overview"),T=[{key:"total_calories",label:e.calories||"Calories",icon:$y,color:gd.calories},{key:"total_protein_g",label:e.protein||"Protein (g)",icon:Dy,color:gd.protein},{key:"total_carbs_g",label:e.carbohydrates||"Carbs (g)",icon:Iy,color:gd.carbs},{key:"total_fat_g",label:e.fat||"Fat (g)",icon:uk,color:gd.fat}];y.useEffect(()=>{(async()=>{if(!r){a([]),s([]),d(null),g(!1);return}try{g(!0),b(null);const F=await e7.getByUserCode(r.user_code);if(!F||F.length===0){a([]),s([]),d(null),g(!1);return}const L=F.map(G=>{let de=[];if(G.food_items)try{de=typeof G.food_items=="string"?JSON.parse(G.food_items):Array.isArray(G.food_items)?G.food_items:[G.food_items]}catch(Ce){console.warn("Failed to parse food_items:",Ce),de=[]}return{...G,food_items:de,total_calories:typeof G.total_calories=="number"&&!isNaN(G.total_calories)?G.total_calories:0,total_protein_g:typeof G.total_protein_g=="number"&&!isNaN(G.total_protein_g)?G.total_protein_g:0,total_carbs_g:typeof G.total_carbs_g=="number"&&!isNaN(G.total_carbs_g)?G.total_carbs_g:0,total_fat_g:typeof G.total_fat_g=="number"&&!isNaN(G.total_fat_g)?G.total_fat_g:0,display_date:G.log_date?new Date(G.log_date).toLocaleDateString():"Unknown Date",original_date:G.log_date}});a(L),s(L);const J=await Yi.getByUserCode(r.user_code);J&&J.macros&&d({dailyTotalCalories:J.dailyTotalCalories||0,protein_target:J.macros.protein_target||0,carbs_target:J.macros.carbs_target||0,fat_target:J.macros.fat_target||0})}catch(F){b(`Failed to load nutrition data: ${F.message}`)}finally{g(!1)}})()},[r,t]),y.useEffect(()=>{let V=n;if(f!=="all"){const F=new Date;F.setDate(F.getDate()-parseInt(f)),V=V.filter(L=>L.original_date?new Date(L.original_date)>=F:!1)}x&&(V=V.filter(F=>{var L;return F.display_date.toLowerCase().includes(x.toLowerCase())||((L=F.meal_label)==null?void 0:L.toLowerCase().includes(x.toLowerCase()))||F.user_code.toLowerCase().includes(x.toLowerCase())})),s(V)},[n,f,x]);const R=i.reduce((V,F)=>{const L=F.display_date;return V[L]||(V[L]={date:L,total_calories:0,total_protein_g:0,total_carbs_g:0,total_fat_g:0,meal_count:0,meals:[]}),V[L].total_calories+=F.total_calories||0,V[L].total_protein_g+=F.total_protein_g||0,V[L].total_carbs_g+=F.total_carbs_g||0,V[L].total_fat_g+=F.total_fat_g||0,V[L].meal_count+=1,V[L].meals.push({meal_label:F.meal_label,calories:F.total_calories,protein:F.total_protein_g,carbs:F.total_carbs_g,fat:F.total_fat_g}),V},{}),I=Object.values(R),O=(()=>{if(I.length===0)return null;const F=I.map(G=>({calories:G.total_calories,protein:G.total_protein_g,carbs:G.total_carbs_g,fat:G.total_fat_g,meal_count:G.meal_count})).reduce((G,de)=>({calories:G.calories+de.calories,protein:G.protein+de.protein,carbs:G.carbs+de.carbs,fat:G.fat+de.fat}),{calories:0,protein:0,carbs:0,fat:0}),L={calories:Math.round(F.calories/I.length),protein:Math.round(F.protein/I.length*10)/10,carbs:Math.round(F.carbs/I.length*10)/10,fat:Math.round(F.fat/I.length*10)/10},J=I[I.length-1];return{totalDays:I.length,totalMeals:i.length,totalCalories:F.calories,totalProtein:F.protein,totalCarbs:F.carbs,totalFat:F.fat,averages:L,latest:{calories:J.total_calories,protein:J.total_protein_g,carbs:J.total_carbs_g,fat:J.total_fat_g,date:J.date,meal_count:J.meal_count}}})(),Z=!O||!c?null:{calories:c.dailyTotalCalories>0?Math.round(O.averages.calories/c.dailyTotalCalories*100):0,protein:c.protein_target>0?Math.round(O.averages.protein/c.protein_target*100):0,carbs:c.carbs_target>0?Math.round(O.averages.carbs/c.carbs_target*100):0,fat:c.fat_target>0?Math.round(O.averages.fat/c.fat_target*100):0},te=I.map(V=>({...V,target_calories:(c==null?void 0:c.dailyTotalCalories)||0,target_protein:(c==null?void 0:c.protein_target)||0,target_carbs:(c==null?void 0:c.carbs_target)||0,target_fat:(c==null?void 0:c.fat_target)||0})),Q=({active:V,payload:F,label:L})=>V&&F&&F.length?o.jsxs("div",{className:"bg-white/95 backdrop-blur-xl border border-border/40 rounded-xl p-4 shadow-xl",children:[o.jsx("p",{className:"font-semibold text-foreground mb-2",children:L}),F.map((J,G)=>o.jsxs("p",{style:{color:J.color},className:"text-sm",children:[J.value," ",J.name]},G))]}):null,Y=()=>{if(!i.length)return;const V=[e.date||"Date",e.mealType||"Meal Type",e.calories||"Calories",e.protein||"Protein (g)",e.carbohydrates||"Carbs (g)",e.fat||"Fat (g)"],F=i.map(Ce=>[Ce.display_date,Ce.meal_label||"Unknown",Ce.total_calories,Ce.total_protein_g,Ce.total_carbs_g,Ce.total_fat_g]),L=[V.join(","),...F.map(Ce=>Ce.join(","))].join(`
`),J=new Blob([L],{type:"text/csv;charset=utf-8;"}),G=document.createElement("a"),de=URL.createObjectURL(J);G.setAttribute("href",de),G.setAttribute("download",`nutrition_logs_${(r==null?void 0:r.user_code)||"client"}_${new Date().toISOString().split("T")[0]}.csv`),G.style.visibility="hidden",document.body.appendChild(G),G.click(),document.body.removeChild(G)},ie=()=>{if(te.length===0)return o.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Vs,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:e.noDataAvailableForFilters||"No data available for the selected filters"})]})});const V={data:te,margin:{top:20,right:60,left:60,bottom:20}},F={stroke:"#6b7280",fontSize:11,tickLine:!1,axisLine:!1};switch(P){case"line":return o.jsx(gc,{width:"100%",height:400,children:o.jsxs(x6,{...V,children:[o.jsx(Ys,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(ii,{dataKey:"date",...F}),o.jsx(oi,{...F}),o.jsx(zn,{content:o.jsx(Q,{})}),o.jsx(Ma,{}),S.map((L,J)=>{const G=T.find(Ce=>Ce.key===L),de=`target_${L}`;return o.jsxs(ee.Fragment,{children:[o.jsx(sl,{type:"monotone",dataKey:L,stroke:(G==null?void 0:G.color)||ka[J%ka.length],strokeWidth:3,dot:{fill:(G==null?void 0:G.color)||ka[J%ka.length],strokeWidth:2,r:4},activeDot:{r:6,strokeWidth:2},name:(G==null?void 0:G.label)||L}),c&&te.some(Ce=>Ce[de]>0)&&o.jsx(sl,{type:"monotone",dataKey:de,stroke:(G==null?void 0:G.color)||ka[J%ka.length],strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:`${(G==null?void 0:G.label)||L} Target`})]},L)})]})});case"area":return o.jsx(gc,{width:"100%",height:400,children:o.jsxs(w6,{...V,children:[o.jsx(Ys,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(ii,{dataKey:"date",...F}),o.jsx(oi,{...F}),o.jsx(zn,{content:o.jsx(Q,{})}),o.jsx(Ma,{}),S.map((L,J)=>{const G=T.find(de=>de.key===L);return o.jsx(yo,{type:"monotone",dataKey:L,stroke:(G==null?void 0:G.color)||ka[J%ka.length],fill:(G==null?void 0:G.color)+"20"||ka[J%ka.length]+"20",strokeWidth:2,name:(G==null?void 0:G.label)||L},L)})]})});case"bar":return o.jsx(gc,{width:"100%",height:400,children:o.jsxs(b6,{...V,children:[o.jsx(Ys,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(ii,{dataKey:"date",...F}),o.jsx(oi,{...F}),o.jsx(zn,{content:o.jsx(Q,{})}),o.jsx(Ma,{}),S.map((L,J)=>{const G=T.find(de=>de.key===L);return o.jsx(ms,{dataKey:L,fill:(G==null?void 0:G.color)||ka[J%ka.length],radius:[4,4,0,0],name:(G==null?void 0:G.label)||L},L)})]})});default:return null}},W=()=>!c||!Z?null:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-primary transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.caloriesAchievement||"Calories Achievement"}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Z.calories,"%"]}),o.jsxs("p",{className:"text-sm text-muted-foreground/70",children:[(O==null?void 0:O.averages.calories)||0," / ",c.dailyTotalCalories," ",e.calories||"cal"]})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500/20 to-red-500/10 rounded-xl flex items-center justify-center",children:o.jsx($y,{className:"w-6 h-6 text-red-500"})})]})})}),o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-success transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.proteinAchievement||"Protein Achievement"}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Z.protein,"%"]}),o.jsxs("p",{className:"text-sm text-muted-foreground/70",children:[(O==null?void 0:O.averages.protein)||0," / ",c.protein_target,"g"]})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500/20 to-green-500/10 rounded-xl flex items-center justify-center",children:o.jsx(Dy,{className:"w-6 h-6 text-green-500"})})]})})}),o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-info transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.carbsAchievement||"Carbs Achievement"}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Z.carbs,"%"]}),o.jsxs("p",{className:"text-sm text-muted-foreground/70",children:[(O==null?void 0:O.averages.carbs)||0," / ",c.carbs_target,"g"]})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-blue-500/10 rounded-xl flex items-center justify-center",children:o.jsx(Iy,{className:"w-6 h-6 text-blue-500"})})]})})}),o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-warning transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.fatAchievement||"Fat Achievement"}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[Z.fat,"%"]}),o.jsxs("p",{className:"text-sm text-muted-foreground/70",children:[(O==null?void 0:O.averages.fat)||0," / ",c.fat_target,"g"]})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500/20 to-orange-500/10 rounded-xl flex items-center justify-center",children:o.jsx(uk,{className:"w-6 h-6 text-orange-500"})})]})})})]});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 bg-mesh",children:[o.jsxs("section",{className:"relative py-16 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-grid opacity-20"}),o.jsx("div",{className:"absolute top-10 left-10 w-72 h-72 bg-gradient-to-br from-primary/20 to-success/20 rounded-full blur-3xl"}),o.jsx("div",{className:"absolute bottom-10 right-10 w-72 h-72 bg-gradient-to-br from-warning/20 to-info/20 rounded-full blur-3xl"}),o.jsxs("div",{className:"relative z-10 container mx-auto px-6",children:[o.jsx("div",{className:"flex items-center justify-center mb-6 animate-float-gentle",children:o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary-lighter rounded-2xl flex items-center justify-center shadow-glow-primary",children:o.jsx(c_,{className:"w-10 h-10 text-white"})})}),o.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gradient-primary font-heading mb-4 animate-slide-up text-center",children:e.nutritionAnalytics||"Nutrition Analytics"}),o.jsx("p",{className:"text-xl text-muted-foreground/80 max-w-3xl mx-auto animate-slide-up text-center",style:{animationDelay:"0.1s"},children:e.nutritionAnalyticsDescription||"Track your daily nutrition intake and compare against your personal goals"})]})]}),o.jsx("section",{className:"container mx-auto px-6 mb-8",children:o.jsx(At,{className:"glass-premium border-border/40 shadow-premium",children:o.jsxs(Et,{className:"p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(Js,{className:"w-4 h-4 inline mr-2"}),r?e.selectedClient:e.selectClient]}),r?o.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-md",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700",children:[o.jsx("span",{children:"✓"}),o.jsxs("span",{className:"font-medium",children:[e.selected||"Selected",": ",r.full_name]}),o.jsxs("span",{className:"text-green-600",children:["(",r.user_code,")"]})]})}):o.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-700",children:[o.jsx("span",{children:"⚠️"}),o.jsx("span",{children:e.selectClientInSidebar||"Please select a client in the sidebar"})]})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(ND,{className:"w-4 h-4 inline mr-2"}),e.dateRange]}),o.jsxs(qn,{value:f,onValueChange:h,children:[o.jsx(Mn,{className:"bg-white/80 backdrop-blur-sm border-border/60",children:o.jsx(Wn,{})}),o.jsxs(Rn,{className:"bg-white/95 backdrop-blur-xl border-border/60",children:[o.jsx(pt,{value:"7",children:e.last7Days}),o.jsx(pt,{value:"30",children:e.last30Days}),o.jsx(pt,{value:"90",children:e.last90Days}),o.jsx(pt,{value:"365",children:e.lastYear}),o.jsx(pt,{value:"all",children:e.allTime})]})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(wc,{className:"w-4 h-4 inline mr-2"}),e.search]}),o.jsx(Ut,{placeholder:e.searchPlaceholder||"Search by date or meal type",value:x,onChange:V=>_(V.target.value),className:"bg-white/80 backdrop-blur-sm border-border/60"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(Vs,{className:"w-4 h-4 inline mr-2"}),e.chartType]}),o.jsxs(qn,{value:P,onValueChange:k,children:[o.jsx(Mn,{className:"bg-white/80 backdrop-blur-sm border-border/60",children:o.jsx(Wn,{})}),o.jsxs(Rn,{className:"bg-white/95 backdrop-blur-xl border-border/60",children:[o.jsxs(pt,{value:"line",children:[o.jsx(CD,{className:"w-4 h-4 inline mr-2"}),e.lineChart]}),o.jsxs(pt,{value:"area",children:[o.jsx(PD,{className:"w-4 h-4 inline mr-2"}),e.areaChart]}),o.jsxs(pt,{value:"bar",children:[o.jsx(Vs,{className:"w-4 h-4 inline mr-2"}),e.barChart]})]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs(St,{className:"text-sm font-medium text-foreground/80",children:[o.jsx(Ad,{className:"w-4 h-4 inline mr-2"}),e.selectMetrics]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(V=>o.jsxs(Te,{variant:S.includes(V.key)?"default":"outline",size:"sm",onClick:()=>{S.includes(V.key)?N(S.filter(F=>F!==V.key)):N([...S,V.key])},className:"transition-all duration-300",style:{backgroundColor:S.includes(V.key)?V.color:void 0,borderColor:V.color},children:[o.jsx(V.icon,{className:"w-4 h-4 mr-2"}),V.label]},V.key))})]})]})})}),W(),O&&o.jsx("section",{className:"container mx-auto px-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-primary transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.totalDays||"Total Days"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:O.totalDays}),o.jsxs("p",{className:"text-sm text-muted-foreground/70",children:[O.totalMeals," ",e.totalMeals||"meals logged"]})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary/20 to-primary/10 rounded-xl flex items-center justify-center",children:o.jsx(Hs,{className:"w-6 h-6 text-primary"})})]})})}),o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-success transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.averageCalories||"Daily Avg Calories"}),o.jsx("p",{className:"text-2xl font-bold text-foreground",children:O.averages.calories}),o.jsx("p",{className:"text-sm text-muted-foreground/70",children:e.perDay||"per day"})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500/20 to-red-500/10 rounded-xl flex items-center justify-center",children:o.jsx($y,{className:"w-6 h-6 text-red-500"})})]})})}),o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-info transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.averageProtein||"Daily Avg Protein"}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[O.averages.protein,"g"]}),o.jsx("p",{className:"text-sm text-muted-foreground/70",children:e.perDay||"per day"})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500/20 to-green-500/10 rounded-xl flex items-center justify-center",children:o.jsx(Dy,{className:"w-6 h-6 text-green-500"})})]})})}),o.jsx(At,{className:"glass-premium border-border/40 shadow-premium hover:shadow-glow-warning transition-all duration-300",children:o.jsx(Et,{className:"p-6",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-muted-foreground/70",children:e.averageCarbs||"Daily Avg Carbs"}),o.jsxs("p",{className:"text-2xl font-bold text-foreground",children:[O.averages.carbs,"g"]}),o.jsx("p",{className:"text-sm text-muted-foreground/70",children:e.perDay||"per day"})]}),o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-blue-500/10 rounded-xl flex items-center justify-center",children:o.jsx(Iy,{className:"w-6 h-6 text-blue-500"})})]})})})]})}),o.jsx("section",{className:"container mx-auto px-6 mb-8",children:o.jsxs(At,{className:"glass-premium border-border/40 shadow-premium",children:[o.jsx(Sr,{className:"pb-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Nr,{className:"text-2xl font-bold text-gradient-primary",children:e.nutritionTrends||"Nutrition Trends"}),o.jsx(zr,{className:"text-muted-foreground/70",children:e.nutritionTrendsDescription||"Track your nutrition intake over time"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs(Te,{variant:"outline",size:"sm",onClick:()=>window.location.reload(),disabled:m,children:[o.jsx(eo,{className:`w-4 h-4 mr-2 ${m?"animate-spin":""}`}),e.refresh]}),o.jsxs(Te,{variant:"outline",size:"sm",onClick:Y,children:[o.jsx(gj,{className:"w-4 h-4 mr-2"}),e.export]})]})]})}),o.jsx(Et,{className:"p-6",children:m?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx(eo,{className:"w-12 h-12 mx-auto mb-4 animate-spin text-primary"}),o.jsx("p",{className:"text-muted-foreground",children:e.loadingData})]})}):w?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-danger/10 rounded-xl flex items-center justify-center",children:o.jsx(yj,{className:"w-6 h-6 text-danger"})}),o.jsx("p",{className:"text-danger",children:w})]})}):r?i.length===0?o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-warning/10 rounded-xl flex items-center justify-center",children:o.jsx(c_,{className:"w-6 h-6 text-warning"})}),o.jsx("p",{className:"text-muted-foreground",children:e.noNutritionLogsFound||"No nutrition logs found"}),o.jsx("p",{className:"text-sm text-muted-foreground/70 mt-2",children:e.tryDifferentClientOrDateRange})]})}):o.jsx("div",{children:ie()}):o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 mx-auto mb-4 bg-info/10 rounded-xl flex items-center justify-center",children:o.jsx(Js,{className:"w-6 h-6 text-info"})}),o.jsx("p",{className:"text-muted-foreground",children:e.selectClientInSidebar||"Please select a client in the sidebar to view nutrition analytics"})]})})})]})}),I.length>0&&o.jsx("section",{className:"container mx-auto px-6 pb-20",children:o.jsxs(At,{className:"glass-premium border-border/40 shadow-premium",children:[o.jsxs(Sr,{children:[o.jsx(Nr,{className:"text-xl font-bold text-gradient-primary",children:e.dailyNutritionSummary||"Daily Nutrition Summary"}),o.jsx(zr,{children:e.dailyNutritionSummaryDescription||"Daily totals for calories and macros"})]}),o.jsx(Et,{children:o.jsxs("div",{className:"overflow-x-auto",children:[o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-border/30",children:[o.jsx("th",{className:"p-4 font-semibold text-foreground/80 text-left",children:e.date||"Date"}),o.jsx("th",{className:"p-4 font-semibold text-foreground/80 text-left",children:e.calories||"Calories"}),o.jsx("th",{className:"p-4 font-semibold text-foreground/80 text-left",children:e.protein||"Protein (g)"}),o.jsx("th",{className:"p-4 font-semibold text-foreground/80 text-left",children:e.carbohydrates||"Carbs (g)"}),o.jsx("th",{className:"p-4 font-semibold text-foreground/80 text-left",children:e.fat||"Fat (g)"}),o.jsx("th",{className:"p-4 font-semibold text-foreground/80 text-left",children:e.mealsLogged||"Meals"}),o.jsx("th",{className:"p-4 font-semibold text-foreground/80 text-left",children:e.mealDetails||"Meal Details"})]})}),o.jsx("tbody",{children:I.slice(0,10).map((V,F)=>o.jsxs("tr",{className:"border-b border-border/20 hover:bg-muted/20 transition-colors duration-200",children:[o.jsx("td",{className:"p-4 text-sm font-medium text-foreground/80",children:V.date}),o.jsx("td",{className:"p-4 text-sm font-medium",children:V.total_calories}),o.jsx("td",{className:"p-4 text-sm font-medium",children:Math.round(V.total_protein_g*10)/10}),o.jsx("td",{className:"p-4 text-sm font-medium",children:Math.round(V.total_carbs_g*10)/10}),o.jsx("td",{className:"p-4 text-sm font-medium",children:Math.round(V.total_fat_g*10)/10}),o.jsx("td",{className:"p-4 text-sm font-medium",children:V.meal_count}),o.jsx("td",{className:"p-4 text-sm",children:o.jsx("div",{className:"max-w-md",children:V.meals.map((L,J)=>o.jsxs("div",{className:"mb-2 p-2 bg-muted/30 rounded text-xs",children:[o.jsxs("span",{className:"font-medium",children:[L.meal_label||"Unknown",": "]}),L.calories," cal, ",Math.round(L.protein*10)/10,"g protein"]},J))})})]},F))})]}),I.length>10&&o.jsx("div",{className:"flex justify-center mt-6",children:o.jsx("p",{className:"text-sm text-muted-foreground",children:"Showing 10 most recent days. Export for full data."})})]})})]})})]})}function nme({children:e}){const{user:t}=Nf();return t?e:o.jsx(km,{to:"/login",replace:!0})}function $R({children:e}){const{user:t}=Nf();return t?o.jsx(km,{to:"/dashboard",replace:!0}):e}function ame(){return o.jsx(N8,{children:o.jsx(Uq,{children:o.jsx(Wq,{children:o.jsx(t7,{children:o.jsxs(t8,{children:[o.jsx(On,{path:"/login",element:o.jsx($R,{children:o.jsx(fY,{})})}),o.jsx(On,{path:"/register",element:o.jsx($R,{children:o.jsx(hY,{})})}),o.jsx(On,{path:"/",element:o.jsx(km,{to:"/login",replace:!0})}),o.jsxs(On,{path:"/*",element:o.jsx(nme,{children:o.jsx(lY,{})}),children:[o.jsx(On,{path:"dashboard",element:o.jsx(mY,{})}),o.jsx(On,{path:"users",element:o.jsx(hJ,{})}),o.jsx(On,{path:"chat",element:o.jsx(kJ,{})}),o.jsx(On,{path:"data-generator",element:o.jsx(AJ,{})}),o.jsx(On,{path:"nutrition-plan",element:o.jsx(RJ,{})}),o.jsx(On,{path:"MenuCreate",element:o.jsx(KJ,{})}),o.jsx(On,{path:"MenuLoad",element:o.jsx(XJ,{})}),o.jsx(On,{path:"menuload",element:o.jsx(km,{to:"/MenuLoad",replace:!0})}),o.jsx(On,{path:"recipes",element:o.jsx(tX,{})}),o.jsx(On,{path:"weight-logs",element:o.jsx(tme,{})}),o.jsx(On,{path:"nutrition-analytics",element:o.jsx(rme,{})})]})]})})})})})}sU.createRoot(document.getElementById("root")).render(o.jsx(ame,{}));
